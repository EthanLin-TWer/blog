"use strict";(self.webpackChunkethan_blog=self.webpackChunkethan_blog||[]).push([[167],{13377:(t,e,n)=>{n.d(e,{a:()=>b,f:()=>h});var r=n(42521),a=n(27435),l=n(89252),i=n(48065),o=n(91584),s=n(21592),d=n(38276);const c={},p=function(t,e,n,r,a,i){const s=r.select(`[id="${n}"]`);Object.keys(t).forEach((function(n){const r=t[n];let d="default";r.classes.length>0&&(d=r.classes.join(" ")),d+=" flowchart-label";const c=(0,l.k)(r.styles);let p,g=void 0!==r.text?r.text:r.id;if(l.l.info("vertex",r,r.labelType),"markdown"===r.labelType)l.l.info("vertex",r,r.labelType);else if((0,l.n)((0,l.c)().flowchart.htmlLabels)){const t={label:g.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};p=(0,o.a)(s,t).node(),p.parentNode.removeChild(p)}else{const t=a.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",c.labelStyle.replace("color:","fill:"));const e=g.split(l.e.lineBreakRegex);for(const n of e){const e=a.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=n,t.appendChild(e)}p=t}let h=0,b="";switch(r.type){case"round":h=5,b="rect";break;case"square":case"group":default:b="rect";break;case"diamond":b="question";break;case"hexagon":b="hexagon";break;case"odd":case"odd_right":b="rect_left_inv_arrow";break;case"lean_right":b="lean_right";break;case"lean_left":b="lean_left";break;case"trapezoid":b="trapezoid";break;case"inv_trapezoid":b="inv_trapezoid";break;case"circle":b="circle";break;case"ellipse":b="ellipse";break;case"stadium":b="stadium";break;case"subroutine":b="subroutine";break;case"cylinder":b="cylinder";break;case"doublecircle":b="doublecircle"}e.setNode(r.id,{labelStyle:c.labelStyle,shape:b,labelText:g,labelType:r.labelType,rx:h,ry:h,class:d,style:c.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:i.db.getTooltip(r.id)||"",domId:i.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:(0,l.c)().flowchart.padding}),l.l.info("setNode",{labelStyle:c.labelStyle,labelType:r.labelType,shape:b,labelText:g,rx:h,ry:h,class:d,style:c.style,id:r.id,domId:i.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:(0,l.c)().flowchart.padding})}))},g=function(t,e,n){l.l.info("abc78 edges = ",t);let r,i,o=0,s={};if(void 0!==t.defaultStyle){const e=(0,l.k)(t.defaultStyle);r=e.style,i=e.labelStyle}t.forEach((function(n){o++;const d="L-"+n.start+"-"+n.end;void 0===s[d]?(s[d]=0,l.l.info("abc78 new entry",d,s[d])):(s[d]++,l.l.info("abc78 new entry",d,s[d]));let p=d+"-"+s[d];l.l.info("abc78 new link id to be used is",d,p,s[d]);const g="LS-"+n.start,h="LE-"+n.end,b={style:"",labelStyle:""};switch(b.minlen=n.length||1,"arrow_open"===n.type?b.arrowhead="none":b.arrowhead="normal",b.arrowTypeStart="arrow_open",b.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":b.arrowTypeStart="arrow_cross";case"arrow_cross":b.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":b.arrowTypeStart="arrow_point";case"arrow_point":b.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":b.arrowTypeStart="arrow_circle";case"arrow_circle":b.arrowTypeEnd="arrow_circle"}let u="",x="";switch(n.stroke){case"normal":u="fill:none;",void 0!==r&&(u=r),void 0!==i&&(x=i),b.thickness="normal",b.pattern="solid";break;case"dotted":b.thickness="normal",b.pattern="dotted",b.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":b.thickness="thick",b.pattern="solid",b.style="stroke-width: 3.5px;fill:none;";break;case"invisible":b.thickness="invisible",b.pattern="solid",b.style="stroke-width: 0;fill:none;"}if(void 0!==n.style){const t=(0,l.k)(n.style);u=t.style,x=t.labelStyle}b.style=b.style+=u,b.labelStyle=b.labelStyle+=x,void 0!==n.interpolate?b.curve=(0,l.o)(n.interpolate,a.c_6):void 0!==t.defaultInterpolate?b.curve=(0,l.o)(t.defaultInterpolate,a.c_6):b.curve=(0,l.o)(c.curve,a.c_6),void 0===n.text?void 0!==n.style&&(b.arrowheadStyle="fill: #333"):(b.arrowheadStyle="fill: #333",b.labelpos="c"),b.labelType=n.labelType,b.label=n.text.replace(l.e.lineBreakRegex,"\n"),void 0===n.style&&(b.style=b.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),b.labelStyle=b.labelStyle.replace("color:","fill:"),b.id=p,b.classes="flowchart-link "+g+" "+h,e.setEdge(n.start,n.end,b,o)}))},h={setConf:function(t){const e=Object.keys(t);for(const n of e)c[n]=t[n]},addVertices:p,addEdges:g,getClasses:function(t,e){return e.db.getClasses()},draw:async function(t,e,n,o){l.l.info("Drawing flowchart");let s=o.db.getDirection();void 0===s&&(s="TD");const{securityLevel:d,flowchart:c}=(0,l.c)(),h=c.nodeSpacing||50,b=c.rankSpacing||50;let u;"sandbox"===d&&(u=(0,a.Ys)("#i"+e));const x="sandbox"===d?(0,a.Ys)(u.nodes()[0].contentDocument.body):(0,a.Ys)("body"),f="sandbox"===d?u.nodes()[0].contentDocument:document,y=new r.k({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:h,ranksep:b,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let w;const k=o.db.getSubGraphs();l.l.info("Subgraphs - ",k);for(let t=k.length-1;t>=0;t--)w=k[t],l.l.info("Subgraph - ",w),o.db.addVertex(w.id,{text:w.title,type:w.labelType},"group",void 0,w.classes,w.dir);const v=o.db.getVertices(),m=o.db.getEdges();l.l.info("Edges",m);let T=0;for(T=k.length-1;T>=0;T--){w=k[T],(0,a.td_)("cluster").append("text");for(let t=0;t<w.nodes.length;t++)l.l.info("Setting up subgraphs",w.nodes[t],w.id),y.setParent(w.nodes[t],w.id)}p(v,y,e,x,f,o),g(m,y);const S=x.select(`[id="${e}"]`),_=x.select("#"+e+" g");if(await(0,i.r)(_,y,["point","circle","cross"],"flowchart",e),l.u.insertTitle(S,"flowchartTitleText",c.titleTopMargin,o.db.getDiagramTitle()),(0,l.p)(y,S,c.diagramPadding,c.useMaxWidth),o.db.indexNodes("subGraph"+T),!c.htmlLabels){const t=f.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),n=f.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",t.width),n.setAttribute("height",t.height),e.insertBefore(n,e.firstChild)}}Object.keys(v).forEach((function(t){const n=v[t];if(n.link){const r=(0,a.Ys)("#"+e+' [id="'+t+'"]');if(r){const t=f.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===d?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=r.insert((function(){return t}),":first-child"),a=r.select(".label-container");a&&e.append((function(){return a.node()}));const l=r.select(".label");l&&e.append((function(){return l.node()}))}}}))}},b=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${t.titleColor};\n  }\n\n  .label text,span,p {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${((t,e)=>{const n=s.Z,r=n(t,"r"),a=n(t,"g"),l=n(t,"b");return d.Z(r,a,l,.5)})(t.edgeLabelBackground)};\n    // background-color: \n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`},2932:(t,e,n)=>{n.d(e,{p:()=>o,s:()=>c});var r=n(27435),a=n(89252);let l=0;const i=function(t){let e=t.id;return t.type&&(e+="<"+t.type+">"),e},o=function(t){let e="",n="",r="",l="",i=t.substring(0,1),o=t.substring(t.length-1,t.length);i.match(/[#+~-]/)&&(l=i);let s=/[\s\w)~]/;o.match(s)||(n=d(o));const c=""===l?0:1;let p=""===n?t.length:t.length-1;const g=(t=t.substring(c,p)).indexOf("("),h=t.indexOf(")");if(g>1&&h>g&&h<=t.length){let i=t.substring(0,g).trim();const o=t.substring(g+1,h);if(e=l+i+"("+(0,a.x)(o.trim())+")",h<t.length){let l=t.substring(h+1,h+2);""!==n||l.match(s)?r=t.substring(h+1).trim():(n=d(l),r=t.substring(h+2).trim()),""!==r&&(":"===r.charAt(0)&&(r=r.substring(1).trim()),r=" : "+(0,a.x)(r),e+=r)}}else e=l+(0,a.x)(t);return{displayText:e,cssStyle:n}},s=function(t,e,n,r){let a=o(e);const l=t.append("tspan").attr("x",r.padding).text(a.displayText);""!==a.cssStyle&&l.attr("style",a.cssStyle),n||l.attr("dy",r.textHeight)},d=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},c={getClassTitleString:i,drawClass:function(t,e,n,r){a.l.debug("Rendering class ",e,n);const l=e.id,o={id:l,label:e.id,width:0,height:0},d=t.append("g").attr("id",r.db.lookUpDomId(l)).attr("class","classGroup");let c;c=e.link?d.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):d.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let p=!0;e.annotations.forEach((function(t){const e=c.append("tspan").text("«"+t+"»");p||e.attr("dy",n.textHeight),p=!1}));let g=i(e);const h=c.append("tspan").text(g).attr("class","title");p||h.attr("dy",n.textHeight);const b=c.node().getBBox().height,u=d.append("line").attr("x1",0).attr("y1",n.padding+b+n.dividerMargin/2).attr("y2",n.padding+b+n.dividerMargin/2),x=d.append("text").attr("x",n.padding).attr("y",b+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");p=!0,e.members.forEach((function(t){s(x,t,p,n),p=!1}));const f=x.node().getBBox(),y=d.append("line").attr("x1",0).attr("y1",n.padding+b+n.dividerMargin+f.height).attr("y2",n.padding+b+n.dividerMargin+f.height),w=d.append("text").attr("x",n.padding).attr("y",b+2*n.dividerMargin+f.height+n.textHeight).attr("fill","white").attr("class","classText");p=!0,e.methods.forEach((function(t){s(w,t,p,n),p=!1}));const k=d.node().getBBox();var v=" ";e.cssClasses.length>0&&(v+=e.cssClasses.join(" "));const m=d.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",k.width+2*n.padding).attr("height",k.height+n.padding+.5*n.dividerMargin).attr("class",v).node().getBBox().width;return c.node().childNodes.forEach((function(t){t.setAttribute("x",(m-t.getBBox().width)/2)})),e.tooltip&&c.insert("title").text(e.tooltip),u.attr("x2",m),y.attr("x2",m),o.width=m,o.height=k.height+n.padding+.5*n.dividerMargin,o},drawEdge:function(t,e,n,i,o){const s=function(t){switch(t){case o.db.relationType.AGGREGATION:return"aggregation";case o.db.relationType.EXTENSION:return"extension";case o.db.relationType.COMPOSITION:return"composition";case o.db.relationType.DEPENDENCY:return"dependency";case o.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const d=e.points,c=(0,r.jvg)().x((function(t){return t.x})).y((function(t){return t.y})).curve(r.$0Z),p=t.append("path").attr("d",c(d)).attr("id","edge"+l).attr("class","relation");let g,h,b="";i.arrowMarkerAbsolute&&(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,b=b.replace(/\(/g,"\\("),b=b.replace(/\)/g,"\\)")),1==n.relation.lineType&&p.attr("class","relation dashed-line"),10==n.relation.lineType&&p.attr("class","relation dotted-line"),"none"!==n.relation.type1&&p.attr("marker-start","url("+b+"#"+s(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&p.attr("marker-end","url("+b+"#"+s(n.relation.type2)+"End)");const u=e.points.length;let x,f,y,w,k=a.u.calcLabelPosition(e.points);if(g=k.x,h=k.y,u%2!=0&&u>1){let t=a.u.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),r=a.u.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[u-1]);a.l.debug("cardinality_1_point "+JSON.stringify(t)),a.l.debug("cardinality_2_point "+JSON.stringify(r)),x=t.x,f=t.y,y=r.x,w=r.y}if(void 0!==n.title){const e=t.append("g").attr("class","classLabel"),r=e.append("text").attr("class","label").attr("x",g).attr("y",h).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=r;const a=r.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",a.x-i.padding/2).attr("y",a.y-i.padding/2).attr("width",a.width+i.padding).attr("height",a.height+i.padding)}a.l.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",x).attr("y",f).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",y).attr("y",w).attr("fill","black").attr("font-size","6").text(n.relationTitle2),l++},drawNote:function(t,e,n,r){a.l.debug("Rendering note ",e,n);const l=e.id,i={id:l,text:e.text,width:0,height:0},o=t.append("g").attr("id",l).attr("class","classGroup");let s=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const d=JSON.parse(`"${e.text}"`).split("\n");d.forEach((function(t){a.l.debug(`Adding line: ${t}`),s.append("tspan").text(t).attr("class","title").attr("dy",n.textHeight)}));const c=o.node().getBBox(),p=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*n.padding).attr("height",c.height+d.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(p-t.getBBox().width)/2)})),i.width=p,i.height=c.height+d.length*n.textHeight+n.padding+.5*n.dividerMargin,i},parseMember:o}},45226:(t,e,n)=>{n.d(e,{a:()=>l,b:()=>s,c:()=>o,d:()=>a,e:()=>c,f:()=>i,g:()=>d});var r=n(91088);const a=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(let t in e.attrs)n.attr(t,e.attrs[t]);return"undefined"!==e.class&&n.attr("class",e.class),n},l=function(t,e){a(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"}).lower()},i=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),void 0!==e.class&&r.attr("class",e.class);const a=r.append("tspan");return a.attr("x",e.x+2*e.textMargin),a.text(n),r},o=function(t,e,n,a){const l=t.append("image");l.attr("x",e),l.attr("y",n);var i=(0,r.Nm)(a);l.attr("xlink:href",i)},s=function(t,e,n,a){const l=t.append("use");l.attr("x",e),l.attr("y",n);const i=(0,r.Nm)(a);l.attr("xlink:href","#"+i)},d=function(){return{x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}},c=function(){return{x:0,y:0,width:100,height:100,fill:void 0,anchor:void 0,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}}}}]);