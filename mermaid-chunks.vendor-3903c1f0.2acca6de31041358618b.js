"use strict";(self.webpackChunkethan_blog=self.webpackChunkethan_blog||[]).push([[603],{1234:(t,e,i)=>{i.r(e),i.d(e,{diagram:()=>S});var n=i(9252),r=i(7435),s=i(4503);Object(function(){var t=new Error("Cannot find module 'cytoscape/dist/cytoscape.umd.js'");throw t.code="MODULE_NOT_FOUND",t}()),Object(function(){var t=new Error("Cannot find module 'cytoscape-cose-bilkent'");throw t.code="MODULE_NOT_FOUND",t}());var a=i(3408),o=i(4857),l=i(5686),c=(i(7006),i(1088),i(5165),function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,4],i=[1,13],n=[1,12],r=[1,15],s=[1,16],a=[1,20],o=[1,19],l=[6,7,8],c=[1,26],h=[1,24],d=[1,25],u=[6,7,11],y=[1,6,13,15,16,19,22],p=[1,33],g=[1,34],f=[1,6,7,11,13,15,16,19,22],_={trace:function(){},yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:function(t,e,i,n,r,s,a){var o=s.length-1;switch(r){case 6:case 7:return n;case 8:n.getLogger().trace("Stop NL ");break;case 9:n.getLogger().trace("Stop EOF ");break;case 11:n.getLogger().trace("Stop NL2 ");break;case 12:n.getLogger().trace("Stop EOF2 ");break;case 15:n.getLogger().info("Node: ",s[o].id),n.addNode(s[o-1].length,s[o].id,s[o].descr,s[o].type);break;case 16:n.getLogger().trace("Icon: ",s[o]),n.decorateNode({icon:s[o]});break;case 17:case 21:n.decorateNode({class:s[o]});break;case 18:n.getLogger().trace("SPACELIST");break;case 19:n.getLogger().trace("Node: ",s[o].id),n.addNode(0,s[o].id,s[o].descr,s[o].type);break;case 20:n.decorateNode({icon:s[o]});break;case 25:n.getLogger().trace("node found ..",s[o-2]),this.$={id:s[o-1],descr:s[o-1],type:n.getType(s[o-2],s[o])};break;case 26:this.$={id:s[o],descr:s[o],type:n.nodeType.DEFAULT};break;case 27:n.getLogger().trace("node found ..",s[o-3]),this.$={id:s[o-3],descr:s[o-1],type:n.getType(s[o-2],s[o])}}},table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:i,7:[1,10],9:9,12:11,13:n,14:14,15:r,16:s,17:17,18:18,19:a,22:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:i,12:21,13:n,14:14,15:r,16:s,17:17,18:18,19:a,22:o},{6:i,9:22,12:11,13:n,14:14,15:r,16:s,17:17,18:18,19:a,22:o},{6:c,7:h,10:23,11:d},t(u,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:a,22:o}),t(u,[2,18]),t(u,[2,19]),t(u,[2,20]),t(u,[2,21]),t(u,[2,23]),t(u,[2,24]),t(u,[2,26],{19:[1,30]}),{20:[1,31]},{6:c,7:h,10:32,11:d},{1:[2,7],6:i,12:21,13:n,14:14,15:r,16:s,17:17,18:18,19:a,22:o},t(y,[2,14],{7:p,11:g}),t(f,[2,8]),t(f,[2,9]),t(f,[2,10]),t(u,[2,15]),t(u,[2,16]),t(u,[2,17]),{20:[1,35]},{21:[1,36]},t(y,[2,13],{7:p,11:g}),t(f,[2,11]),t(f,[2,12]),{21:[1,37]},t(u,[2,25]),t(u,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=[0],i=[],n=[null],r=[],s=this.table,a="",o=0,l=0,c=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(d.yy[u]=this.yy[u]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;r.push(y);var p=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,f,_,m,x,b,E,k,v,S={};;){if(f=e[e.length-1],this.defaultActions[f]?_=this.defaultActions[f]:(null==g&&(v=void 0,"number"!=typeof(v=i.pop()||h.lex()||1)&&(v instanceof Array&&(v=(i=v).pop()),v=this.symbols_[v]||v),g=v),_=s[f]&&s[f][g]),void 0===_||!_.length||!_[0]){var T;for(x in k=[],s[f])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");T=h.showPosition?"Parse error on line "+(o+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:h.match,token:this.terminals_[g]||g,line:h.yylineno,loc:y,expected:k})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+g);switch(_[0]){case 1:e.push(g),n.push(h.yytext),r.push(h.yylloc),e.push(_[1]),g=null,l=h.yyleng,a=h.yytext,o=h.yylineno,y=h.yylloc;break;case 2:if(b=this.productions_[_[1]][1],S.$=n[n.length-b],S._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(S._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.apply(S,[a,l,o,d.yy,_[1],n,r].concat(c))))return m;b&&(e=e.slice(0,-1*b*2),n=n.slice(0,-1*b),r=r.slice(0,-1*b)),e.push(this.productions_[_[1]][0]),n.push(S.$),r.push(S._$),E=s[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},m={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if((i=this._input.match(this.rules[r[s]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:return t.getLogger().trace("Found comment",e.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:t.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return t.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:t.getLogger().trace("end icon"),this.popState();break;case 10:return t.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return t.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return t.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return t.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:t.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return t.getLogger().trace("description:",e.yytext),"NODE_DESCR";case 27:return this.popState(),t.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),t.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),t.getLogger().trace("node end ...",e.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),t.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),t.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return t.getLogger().trace("Long description:",e.yytext),20}},rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};function x(){this.yy={}}return _.lexer=m,x.prototype=_,_.Parser=x,new x}());c.parser=c;const h=c,d=t=>(0,n.d)(t,(0,n.c)());let u=[],y=0,p={};const g={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},f=(t,e)=>{p[t]=e},_=t=>{switch(t){case g.DEFAULT:return"no-border";case g.RECT:return"rect";case g.ROUNDED_RECT:return"rounded-rect";case g.CIRCLE:return"circle";case g.CLOUD:return"cloud";case g.BANG:return"bang";case g.HEXAGON:return"hexgon";default:return"no-border"}};let m;const x=t=>p[t],b=Object.freeze(Object.defineProperty({__proto__:null,addNode:(t,e,i,r)=>{n.l.info("addNode",t,e,i,r);const s=(0,n.c)(),a={id:y++,nodeId:d(e),level:t,descr:d(i),type:r,children:[],width:(0,n.c)().mindmap.maxNodeWidth};switch(a.type){case g.ROUNDED_RECT:case g.RECT:case g.HEXAGON:a.padding=2*s.mindmap.padding;break;default:a.padding=s.mindmap.padding}const o=function(t){for(let e=u.length-1;e>=0;e--)if(u[e].level<t)return u[e];return null}(t);if(o)o.children.push(a),u.push(a);else{if(0!==u.length){let t=new Error('There can be only one root. No parent could be found for ("'+a.descr+'")');throw t.hash={text:"branch "+name,token:"branch "+name,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+name+'"']},t}u.push(a)}},clear:()=>{u=[],y=0,p={}},decorateNode:t=>{const e=u[u.length-1];t&&t.icon&&(e.icon=d(t.icon)),t&&t.class&&(e.class=d(t.class))},getElementById:x,getLogger:()=>n.l,getMindmap:()=>u.length>0?u[0]:null,getNodeById:t=>u[t],getType:(t,e)=>{switch(n.l.debug("In get type",t,e),t){case"[":return g.RECT;case"(":return")"===e?g.ROUNDED_RECT:g.CLOUD;case"((":return g.CIRCLE;case")":return g.CLOUD;case"))":return g.BANG;case"{{":return g.HEXAGON;default:return g.DEFAULT}},nodeType:g,get parseError(){return m},sanitizeText:d,setElementForId:f,setErrorHandler:t=>{m=t},type2Str:_},Symbol.toStringTag,{value:"Module"}));function E(t,e,i,n){(function(t,e,i,n){const r=n.htmlLabels,a=i%11,o=t.append("g");e.section=a;let l="section-"+a;a<0&&(l+=" section-root"),o.attr("class",(e.class?e.class+" ":"")+"mindmap-node "+l);const c=o.append("g"),h=o.append("g"),d=e.descr.replace(/(<br\/*>)/g,"\n");(0,s.c)(h,d,{useHtmlLabels:r,width:e.width,classes:"mindmap-node-label"}),r||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const u=h.node().getBBox(),y=n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;if(e.height=u.height+1.1*y*.5+e.padding,e.width=u.width+2*e.padding,e.icon)if(e.type===g.CIRCLE)e.height+=50,e.width+=50,o.append("foreignObject").attr("height","50px").attr("width",e.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+a+" "+e.icon),h.attr("transform","translate("+e.width/2+", "+(e.height/2-1.5*e.padding)+")");else{e.width+=50;const t=e.height;e.height=Math.max(t,60);const i=Math.abs(e.height-t);o.append("foreignObject").attr("width","60px").attr("height",e.height).attr("style","text-align: center;margin-top:"+i/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+a+" "+e.icon),h.attr("transform","translate("+(25+e.width/2)+", "+(i/2+e.padding/2)+")")}else if(r){const t=(e.width-u.width)/2,i=(e.height-u.height)/2;h.attr("transform","translate("+t+", "+i+")")}else{const t=e.width/2,i=e.padding/2;h.attr("transform","translate("+t+", "+i+")")}switch(e.type){case g.DEFAULT:!function(t,e,i){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("d",`M0 ${e.height-5} v${10-e.height} q0,-5 5,-5 h${e.width-10} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+i).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)}(c,e,a);break;case g.ROUNDED_RECT:!function(t,e){t.append("rect").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("height",e.height).attr("rx",e.padding).attr("ry",e.padding).attr("width",e.width)}(c,e);break;case g.RECT:!function(t,e){t.append("rect").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("height",e.height).attr("width",e.width)}(c,e);break;case g.CIRCLE:c.attr("transform","translate("+e.width/2+", "+ +e.height/2+")"),function(t,e){t.append("circle").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("r",e.width/2)}(c,e);break;case g.CLOUD:!function(t,e){const i=e.width,n=e.height,r=.15*i,s=.25*i,a=.35*i,o=.2*i;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("d",`M0 0 a${r},${r} 0 0,1 ${.25*i},${-1*i*.1}\n      a${a},${a} 1 0,1 ${.4*i},${-1*i*.1}\n      a${s},${s} 1 0,1 ${.35*i},${1*i*.2}\n\n      a${r},${r} 1 0,1 ${.15*i},${1*n*.35}\n      a${o},${o} 1 0,1 ${-1*i*.15},${1*n*.65}\n\n      a${s},${r} 1 0,1 ${-1*i*.25},${.15*i}\n      a${a},${a} 1 0,1 ${-1*i*.5},0\n      a${r},${r} 1 0,1 ${-1*i*.25},${-1*i*.15}\n\n      a${r},${r} 1 0,1 ${-1*i*.1},${-1*n*.35}\n      a${o},${o} 1 0,1 ${.1*i},${-1*n*.65}\n\n    H0 V0 Z`)}(c,e);break;case g.BANG:!function(t,e){const i=e.width,n=e.height,r=.15*i;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+_(e.type)).attr("d",`M0 0 a${r},${r} 1 0,0 ${.25*i},${-1*n*.1}\n      a${r},${r} 1 0,0 ${.25*i},0\n      a${r},${r} 1 0,0 ${.25*i},0\n      a${r},${r} 1 0,0 ${.25*i},${1*n*.1}\n\n      a${r},${r} 1 0,0 ${.15*i},${1*n*.33}\n      a${.8*r},${.8*r} 1 0,0 0,${1*n*.34}\n      a${r},${r} 1 0,0 ${-1*i*.15},${1*n*.33}\n\n      a${r},${r} 1 0,0 ${-1*i*.25},${.15*n}\n      a${r},${r} 1 0,0 ${-1*i*.25},0\n      a${r},${r} 1 0,0 ${-1*i*.25},0\n      a${r},${r} 1 0,0 ${-1*i*.25},${-1*n*.15}\n\n      a${r},${r} 1 0,0 ${-1*i*.1},${-1*n*.33}\n      a${.8*r},${.8*r} 1 0,0 0,${-1*n*.34}\n      a${r},${r} 1 0,0 ${.1*i},${-1*n*.33}\n\n    H0 V0 Z`)}(c,e);break;case g.HEXAGON:!function(t,e){const i=e.height,n=i/4,r=e.width-e.padding+2*n;!function(t,e,i,n,r){t.insert("polygon",":first-child").attr("points",n.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+(r.width-e)/2+", "+i+")")}(t,r,i,[{x:n,y:0},{x:r-n,y:0},{x:r,y:-i/2},{x:r-n,y:-i},{x:n,y:-i},{x:0,y:-i/2}],e)}(c,e)}f(e.id,o),e.height})(t,e,i,n),e.children&&e.children.forEach(((e,r)=>{E(t,e,i<0?r:i,n)}))}function k(t,e,i,n){e.add({group:"nodes",data:{id:t.id,labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach((r=>{k(r,e,i,n+1),e.add({group:"edges",data:{id:`${t.id}_${r.id}`,source:t.id,target:r.id,depth:n,section:r.section}})}))}function v(t,e){return new Promise((i=>{const s=(0,r.Ys)("body").append("div").attr("id","cy").attr("style","display:none"),a=Object(function(){var t=new Error("Cannot find module 'cytoscape/dist/cytoscape.umd.js'");throw t.code="MODULE_NOT_FOUND",t}())({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});s.remove(),k(t,a,e,0),a.nodes().forEach((function(t){t.layoutDimensions=()=>{const e=t.data();return{w:e.width,h:e.height}}})),a.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),a.ready((t=>{n.l.info("Ready",t),i(a)}))}))}Object(function(){var t=new Error("Cannot find module 'cytoscape/dist/cytoscape.umd.js'");throw t.code="MODULE_NOT_FOUND",t}())(Object(function(){var t=new Error("Cannot find module 'cytoscape-cose-bilkent'");throw t.code="MODULE_NOT_FOUND",t}()));const S={db:b,renderer:{draw:async(t,e,i,s)=>{const a=(0,n.c)();a.htmlLabels=!1,n.l.debug("Rendering mindmap diagram\n"+t,s.parser);const o=(0,n.c)().securityLevel;let l;"sandbox"===o&&(l=(0,r.Ys)("#i"+e));const c=("sandbox"===o?(0,r.Ys)(l.nodes()[0].contentDocument.body):(0,r.Ys)("body")).select("#"+e);c.append("g");const h=s.db.getMindmap(),d=c.append("g");d.attr("class","mindmap-edges");const u=c.append("g");u.attr("class","mindmap-nodes"),E(u,h,-1,a);const y=await v(h,a);!function(t,e){e.edges().map(((e,i)=>{const r=e.data();if(e[0]._private.bodyBounds){const s=e[0]._private.rscratch;n.l.trace("Edge: ",i,r),t.insert("path").attr("d",`M ${s.startX},${s.startY} L ${s.midX},${s.midY} L${s.endX},${s.endY} `).attr("class","edge section-edge-"+r.section+" edge-depth-"+r.depth)}}))}(d,y),function(t){t.nodes().map(((t,e)=>{const i=t.data();i.x=t.position().x,i.y=t.position().y,function(t){const e=x(t.id),i=t.x||0,n=t.y||0;e.attr("transform","translate("+i+","+n+")")}(i);const r=x(i.nodeId);n.l.info("Id:",e,"Position: (",t.position().x,", ",t.position().y,")",i),r.attr("transform",`translate(${t.position().x-i.width/2}, ${t.position().y-i.height/2})`),r.attr("attr",`apa-${e})`)}))}(y),(0,n.p)(void 0,c,a.mindmap.padding,a.mindmap.useMaxWidth)}},parser:h,styles:t=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${(t=>{let e="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],(0,a.Z)(t["lineColor"+e])?t["lineColor"+e]=(0,o.Z)(t["lineColor"+e],20):t["lineColor"+e]=(0,l.Z)(t["lineColor"+e],20);for(let i=0;i<t.THEME_COLOR_LIMIT;i++){const n=""+(17-3*i);e+=`\n    .section-${i-1} rect, .section-${i-1} path, .section-${i-1} circle, .section-${i-1} polygon, .section-${i-1} path  {\n      fill: ${t["cScale"+i]};\n    }\n    .section-${i-1} text {\n     fill: ${t["cScaleLabel"+i]};\n    }\n    .node-icon-${i-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+i]};\n    }\n    .section-edge-${i-1}{\n      stroke: ${t["cScale"+i]};\n    }\n    .edge-depth-${i-1}{\n      stroke-width: ${n};\n    }\n    .section-${i-1} line {\n      stroke: ${t["cScaleInv"+i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return e})(t)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${t.git0};\n  }\n  .section-root text {\n    fill: ${t.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`}},6075:(t,e,i)=>{i.r(e),i.d(e,{diagram:()=>u});var n=i(9252),r=i(7435),s=(i(7006),i(1088),i(5165),function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,4],i=[1,5],n=[1,6],r=[1,7],s=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],o=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],c=[26,27,28],h=[2,8],d=[1,18],u=[1,19],y=[1,20],p=[1,21],g=[1,22],f=[1,23],_=[1,28],m=[6,26,27,28,29],x={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,i,n,r,s,a){var o=s.length-1;switch(r){case 4:n.setShowData(!0);break;case 7:this.$=s[o-1];break;case 9:n.addSection(s[o-1],n.cleanupValue(s[o]));break;case 10:this.$=s[o].trim(),n.setDiagramTitle(this.$);break;case 11:this.$=s[o].trim(),n.setAccTitle(this.$);break;case 12:case 13:this.$=s[o].trim(),n.setAccDescription(this.$);break;case 14:n.addSection(s[o].substr(8)),this.$=s[o].substr(8);break;case 21:n.parseDirective("%%{","open_directive");break;case 22:n.parseDirective(s[o],"type_directive");break;case 23:s[o]=s[o].trim().replace(/'/g,'"'),n.parseDirective(s[o],"arg_directive");break;case 24:n.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:i,27:n,28:r,29:s},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:i,27:n,28:r,29:s},{3:11,4:2,5:3,6:e,21:8,26:i,27:n,28:r,29:s},t(a,o,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(c,h,{21:8,9:16,10:17,5:24,1:[2,3],11:d,13:u,15:y,17:p,19:g,20:f,29:s}),t(a,o,{7:25}),{23:26,24:[1,27],32:_},t([24,32],[2,22]),t(a,[2,6]),{4:29,26:i,27:n,28:r},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(c,[2,13]),t(c,[2,14]),t(c,[2,15]),t(c,h,{21:8,9:16,10:17,5:24,1:[2,4],11:d,13:u,15:y,17:p,19:g,20:f,29:s}),t(m,[2,16]),{25:34,31:[1,35]},t(m,[2,24]),t(a,[2,7]),t(c,[2,9]),t(c,[2,10]),t(c,[2,11]),t(c,[2,12]),{23:36,32:_},{32:[2,23]},t(m,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=[0],i=[],n=[null],r=[],s=this.table,a="",o=0,l=0,c=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(d.yy[u]=this.yy[u]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;r.push(y);var p=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,f,_,m,x,b,E,k,v,S={};;){if(f=e[e.length-1],this.defaultActions[f]?_=this.defaultActions[f]:(null==g&&(v=void 0,"number"!=typeof(v=i.pop()||h.lex()||1)&&(v instanceof Array&&(v=(i=v).pop()),v=this.symbols_[v]||v),g=v),_=s[f]&&s[f][g]),void 0===_||!_.length||!_[0]){var T;for(x in k=[],s[f])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");T=h.showPosition?"Parse error on line "+(o+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:h.match,token:this.terminals_[g]||g,line:h.yylineno,loc:y,expected:k})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+g);switch(_[0]){case 1:e.push(g),n.push(h.yytext),r.push(h.yylloc),e.push(_[1]),g=null,l=h.yyleng,a=h.yytext,o=h.yylineno,y=h.yylloc;break;case 2:if(b=this.productions_[_[1]][1],S.$=n[n.length-b],S._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(S._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.apply(S,[a,l,o,d.yy,_[1],n,r].concat(c))))return m;b&&(e=e.slice(0,-1*b*2),n=n.slice(0,-1*b),r=r.slice(0,-1*b)),e.push(this.productions_[_[1]][0]),n.push(S.$),r.push(S._$),E=s[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},b={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if((i=this._input.match(this.rules[r[s]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function E(){this.yy={}}return x.lexer=b,E.prototype=x,x.Parser=E,new E}());s.parser=s;const a=s;let o={},l=!1;const c={parseDirective:function(t,e,i){n.m.parseDirective(this,t,e,i)},getConfig:()=>(0,n.c)().pie,addSection:function(t,e){t=n.e.sanitizeText(t,(0,n.c)()),void 0===o[t]&&(o[t]=e,n.l.debug("Added new section :",t))},getSections:()=>o,cleanupValue:function(t){return":"===t.substring(0,1)?(t=t.substring(1).trim(),Number(t.trim())):Number(t.trim())},clear:function(){o={},l=!1,(0,n.v)()},setAccTitle:n.s,getAccTitle:n.g,setDiagramTitle:n.r,getDiagramTitle:n.t,setShowData:function(t){l=t},getShowData:function(){return l},getAccDescription:n.a,setAccDescription:n.b};let h,d=(0,n.c)();const u={parser:a,db:c,renderer:{draw:(t,e,i,s)=>{var a;try{d=(0,n.c)(),n.l.debug("Rendering info diagram\n"+t);const i=(0,n.c)().securityLevel;let b;"sandbox"===i&&(b=(0,r.Ys)("#i"+e));const E="sandbox"===i?(0,r.Ys)(b.nodes()[0].contentDocument.body):(0,r.Ys)("body"),k=("sandbox"===i?b.nodes()[0].contentDocument:document).getElementById(e);h=k.parentElement.offsetWidth,void 0===h&&(h=1200),void 0!==d.useWidth&&(h=d.useWidth),void 0!==d.pie.useWidth&&(h=d.pie.useWidth);const v=E.select("#"+e);(0,n.i)(v,450,h,d.pie.useMaxWidth),k.setAttribute("viewBox","0 0 "+h+" 450");var o=Math.min(h,450)/2-40,l=v.append("g").attr("transform","translate("+h/2+",225)"),c=s.db.getSections(),u=0;Object.keys(c).forEach((function(t){u+=c[t]}));const S=d.themeVariables;var y=[S.pie1,S.pie2,S.pie3,S.pie4,S.pie5,S.pie6,S.pie7,S.pie8,S.pie9,S.pie10,S.pie11,S.pie12];const T=(null==(a=d.pie)?void 0:a.textPosition)??.75;let[A]=(0,n.C)(S.pieOuterStrokeWidth);A??(A=2);var p=(0,r.PKp)().range(y),g=Object.entries(c).map((function(t,e){return{order:e,name:t[0],value:t[1]}})),f=(0,r.ve8)().value((function(t){return t.value})).sort((function(t,e){return t.order-e.order}))(g),_=(0,r.Nb1)().innerRadius(0).outerRadius(o),m=(0,r.Nb1)().innerRadius(o*T).outerRadius(o*T);l.append("circle").attr("cx",0).attr("cy",0).attr("r",o+A/2).attr("class","pieOuterCircle"),l.selectAll("mySlices").data(f).enter().append("path").attr("d",_).attr("fill",(function(t){return p(t.data.name)})).attr("class","pieCircle"),l.selectAll("mySlices").data(f).enter().append("text").text((function(t){return(t.data.value/u*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+m.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),l.append("text").text(s.db.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var x=l.selectAll(".legend").data(p.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(216,"+(22*e-22*p.domain().length/2)+")"}));x.append("rect").attr("width",18).attr("height",18).style("fill",p).style("stroke",p),x.data(f).append("text").attr("x",22).attr("y",14).text((function(t){return s.db.getShowData()||d.showData||d.pie.showData?t.data.name+" ["+t.data.value+"]":t.data.name}))}catch(t){n.l.error("Error while rendering info diagram"),n.l.error(t)}}},styles:t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${t.pieOuterStrokeColor};\n    stroke-width: ${t.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`}},6914:(t,e,i)=>{i.r(e),i.d(e,{diagram:()=>d});var n=i(9252),r=i(7435),s=(i(7006),i(1088),i(5165),function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,3],i=[1,5],n=[1,6],r=[1,7],s=[1,8],a=[1,10],o=[1,5,14,16,18,20,21,26,28,29,30,31,32,38,39,40,41,47,48,50,51,52,53,54,55,56,57,58,59,60],l=[1,5,7,14,16,18,20,21,26,28,29,30,31,32,38,39,40,41,47,48,50,51,52,53,54,55,56,57,58,59,60],c=[38,39,40],h=[2,8],d=[1,19],u=[1,23],y=[1,24],p=[1,25],g=[1,26],f=[1,27],_=[1,29],m=[1,30],x=[1,31],b=[1,32],E=[1,33],k=[1,34],v=[1,37],S=[1,38],T=[1,39],A=[1,40],I=[1,41],R=[1,42],q=[1,43],$=[1,44],N=[1,45],D=[1,46],L=[1,47],w=[1,48],C=[1,49],F=[1,52],O=[1,67],P=[1,68],M=[5,23,27,38,39,40,50,51,52,53,54,55,56,57,58,59,60,61],U=[5,7,38,39,40,41],z={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,SPACE:5,directive:6,QUADRANT:7,document:8,line:9,statement:10,axisDetails:11,quadrantDetails:12,points:13,title:14,title_value:15,acc_title:16,acc_title_value:17,acc_descr:18,acc_descr_value:19,acc_descr_multiline_value:20,section:21,text:22,point_start:23,point_x:24,point_y:25,"X-AXIS":26,"AXIS-TEXT-DELIMITER":27,"Y-AXIS":28,QUADRANT_1:29,QUADRANT_2:30,QUADRANT_3:31,QUADRANT_4:32,openDirective:33,typeDirective:34,closeDirective:35,":":36,argDirective:37,NEWLINE:38,SEMI:39,EOF:40,open_directive:41,type_directive:42,arg_directive:43,close_directive:44,alphaNumToken:45,textNoTagsToken:46,STR:47,MD_STR:48,alphaNum:49,PUNCTUATION:50,AMP:51,NUM:52,ALPHA:53,COMMA:54,PLUS:55,EQUALS:56,MULT:57,DOT:58,BRKT:59,UNDERSCORE:60,MINUS:61,$accept:0,$end:1},terminals_:{2:"error",5:"SPACE",7:"QUADRANT",14:"title",15:"title_value",16:"acc_title",17:"acc_title_value",18:"acc_descr",19:"acc_descr_value",20:"acc_descr_multiline_value",21:"section",23:"point_start",24:"point_x",25:"point_y",26:"X-AXIS",27:"AXIS-TEXT-DELIMITER",28:"Y-AXIS",29:"QUADRANT_1",30:"QUADRANT_2",31:"QUADRANT_3",32:"QUADRANT_4",36:":",38:"NEWLINE",39:"SEMI",40:"EOF",41:"open_directive",42:"type_directive",43:"arg_directive",44:"close_directive",47:"STR",48:"MD_STR",50:"PUNCTUATION",51:"AMP",52:"NUM",53:"ALPHA",54:"COMMA",55:"PLUS",56:"EQUALS",57:"MULT",58:"DOT",59:"BRKT",60:"UNDERSCORE",61:"MINUS"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[10,0],[10,2],[10,1],[10,1],[10,1],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[13,4],[11,4],[11,3],[11,2],[11,4],[11,3],[11,2],[12,2],[12,2],[12,2],[12,2],[6,3],[6,5],[4,1],[4,1],[4,1],[33,1],[34,1],[37,1],[35,1],[22,1],[22,2],[22,1],[22,1],[49,1],[49,2],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[46,1],[46,1],[46,1]],performAction:function(t,e,i,n,r,s,a){var o=s.length-1;switch(r){case 13:this.$=s[o].trim(),n.setDiagramTitle(this.$);break;case 14:this.$=s[o].trim(),n.setAccTitle(this.$);break;case 15:case 16:this.$=s[o].trim(),n.setAccDescription(this.$);break;case 17:n.addSection(s[o].substr(8)),this.$=s[o].substr(8);break;case 19:n.addPoint(s[o-3],s[o-1],s[o]);break;case 20:n.setXAxisLeftText(s[o-2]),n.setXAxisRightText(s[o]);break;case 21:s[o-1].text+=" ⟶ ",n.setXAxisLeftText(s[o-1]);break;case 22:n.setXAxisLeftText(s[o]);break;case 23:n.setYAxisBottomText(s[o-2]),n.setYAxisTopText(s[o]);break;case 24:s[o-1].text+=" ⟶ ",n.setYAxisBottomText(s[o-1]);break;case 25:n.setYAxisBottomText(s[o]);break;case 26:n.setQuadrant1Text(s[o]);break;case 27:n.setQuadrant2Text(s[o]);break;case 28:n.setQuadrant3Text(s[o]);break;case 29:n.setQuadrant4Text(s[o]);break;case 35:n.parseDirective("%%{","open_directive");break;case 36:n.parseDirective(s[o],"type_directive");break;case 37:s[o]=s[o].trim().replace(/'/g,'"'),n.parseDirective(s[o],"arg_directive");break;case 38:n.parseDirective("}%%","close_directive","quadrantChart");break;case 39:case 41:this.$={text:s[o],type:"text"};break;case 40:this.$={text:s[o-1].text+""+s[o],type:s[o-1].type};break;case 42:this.$={text:s[o],type:"markdown"};break;case 43:this.$=s[o];break;case 44:this.$=s[o-1]+""+s[o]}},table:[{3:1,4:2,5:e,6:4,7:i,33:9,38:n,39:r,40:s,41:a},{1:[3]},{3:11,4:2,5:e,6:4,7:i,33:9,38:n,39:r,40:s,41:a},{3:12,4:2,5:e,6:4,7:i,33:9,38:n,39:r,40:s,41:a},{3:13,4:2,5:e,6:4,7:i,33:9,38:n,39:r,40:s,41:a},t(o,[2,5],{8:14}),t(l,[2,32]),t(l,[2,33]),t(l,[2,34]),{34:15,42:[1,16]},{42:[2,35]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(c,h,{33:9,9:17,10:18,11:20,12:21,13:22,6:28,22:35,45:36,1:[2,4],5:d,14:u,16:y,18:p,20:g,21:f,26:_,28:m,29:x,30:b,31:E,32:k,41:a,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C}),{35:50,36:[1,51],44:F},t([36,44],[2,36]),t(o,[2,6]),{4:53,38:n,39:r,40:s},t(c,h,{33:9,11:20,12:21,13:22,6:28,22:35,45:36,10:54,5:d,14:u,16:y,18:p,20:g,21:f,26:_,28:m,29:x,30:b,31:E,32:k,41:a,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C}),t(c,[2,10]),t(c,[2,11]),t(c,[2,12]),{15:[1,55]},{17:[1,56]},{19:[1,57]},t(c,[2,16]),t(c,[2,17]),t(c,[2,18]),{22:58,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{22:59,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{22:60,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{22:61,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{22:62,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{22:63,45:36,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C},{5:O,23:[1,64],45:66,46:65,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P},t(M,[2,39]),t(M,[2,41]),t(M,[2,42]),t(M,[2,45]),t(M,[2,46]),t(M,[2,47]),t(M,[2,48]),t(M,[2,49]),t(M,[2,50]),t(M,[2,51]),t(M,[2,52]),t(M,[2,53]),t(M,[2,54]),t(M,[2,55]),t(U,[2,30]),{37:69,43:[1,70]},t(U,[2,38]),t(o,[2,7]),t(c,[2,9]),t(c,[2,13]),t(c,[2,14]),t(c,[2,15]),t(c,[2,22],{46:65,45:66,5:O,27:[1,71],50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,25],{46:65,45:66,5:O,27:[1,72],50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,26],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,27],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,28],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,29],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),{24:[1,73]},t(M,[2,40]),t(M,[2,56]),t(M,[2,57]),t(M,[2,58]),{35:74,44:F},{44:[2,37]},t(c,[2,21],{45:36,22:75,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C}),t(c,[2,24],{45:36,22:76,47:v,48:S,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C}),{25:[1,77]},t(U,[2,31]),t(c,[2,20],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,23],{46:65,45:66,5:O,50:T,51:A,52:I,53:R,54:q,55:$,56:N,57:D,58:L,59:w,60:C,61:P}),t(c,[2,19])],defaultActions:{10:[2,35],11:[2,1],12:[2,2],13:[2,3],70:[2,37]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=[0],i=[],n=[null],r=[],s=this.table,a="",o=0,l=0,c=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(d.yy[u]=this.yy[u]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;r.push(y);var p=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,f,_,m,x,b,E,k,v,S={};;){if(f=e[e.length-1],this.defaultActions[f]?_=this.defaultActions[f]:(null==g&&(v=void 0,"number"!=typeof(v=i.pop()||h.lex()||1)&&(v instanceof Array&&(v=(i=v).pop()),v=this.symbols_[v]||v),g=v),_=s[f]&&s[f][g]),void 0===_||!_.length||!_[0]){var T;for(x in k=[],s[f])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");T=h.showPosition?"Parse error on line "+(o+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:h.match,token:this.terminals_[g]||g,line:h.yylineno,loc:y,expected:k})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+g);switch(_[0]){case 1:e.push(g),n.push(h.yytext),r.push(h.yylloc),e.push(_[1]),g=null,l=h.yyleng,a=h.yytext,o=h.yylineno,y=h.yylloc;break;case 2:if(b=this.productions_[_[1]][1],S.$=n[n.length-b],S._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(S._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.apply(S,[a,l,o,d.yy,_[1],n,r].concat(c))))return m;b&&(e=e.slice(0,-1*b*2),n=n.slice(0,-1*b),r=r.slice(0,-1*b)),e.push(this.productions_[_[1]][0]),n.push(S.$),r.push(S._$),E=s[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},B={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if((i=this._input.match(this.rules[r[s]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:return this.begin("open_directive"),41;case 1:return this.begin("type_directive"),42;case 2:return this.popState(),this.begin("arg_directive"),36;case 3:return this.popState(),this.popState(),44;case 4:return 43;case 5:case 6:case 8:break;case 7:return 38;case 9:return this.begin("title"),14;case 10:return this.popState(),"title_value";case 11:return this.begin("acc_title"),16;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),18;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 27:case 29:case 33:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 26;case 19:return 28;case 20:return 27;case 21:return 29;case 22:return 30;case 23:return 31;case 24:return 32;case 25:this.begin("md_string");break;case 26:return"MD_STR";case 28:this.begin("string");break;case 30:return"STR";case 31:return this.begin("point_start"),23;case 32:return this.begin("point_x"),24;case 34:this.popState(),this.begin("point_y");break;case 35:return this.popState(),25;case 36:return 7;case 37:return 53;case 38:return"COLON";case 39:return 55;case 40:return 54;case 41:case 42:return 56;case 43:return 57;case 44:return 59;case 45:return 60;case 46:return 58;case 47:return 51;case 48:return 61;case 49:return 52;case 50:return 5;case 51:return 39;case 52:return 50;case 53:return 40}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{point_y:{rules:[35],inclusive:!1},point_x:{rules:[34],inclusive:!1},point_start:{rules:[32,33],inclusive:!1},acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[10],inclusive:!1},md_string:{rules:[26,27],inclusive:!1},string:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,11,13,15,18,19,20,21,22,23,24,25,28,31,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],inclusive:!0}}};function W(){this.yy={}}return z.lexer=B,W.prototype=z,z.Parser=W,new W}());s.parser=s;const a=s,o=(0,n.D)(),l=(0,n.c)();function c(t){return(0,n.d)(t.trim(),l)}const h=new class{constructor(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var t,e,i,r,s,a,o,l,c,h,d,u,y,p,g,f,_,m;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:(null==(t=n.E.quadrantChart)?void 0:t.chartWidth)||500,chartWidth:(null==(e=n.E.quadrantChart)?void 0:e.chartHeight)||500,titlePadding:(null==(i=n.E.quadrantChart)?void 0:i.titlePadding)||10,titleFontSize:(null==(r=n.E.quadrantChart)?void 0:r.titleFontSize)||20,quadrantPadding:(null==(s=n.E.quadrantChart)?void 0:s.quadrantPadding)||5,xAxisLabelPadding:(null==(a=n.E.quadrantChart)?void 0:a.xAxisLabelPadding)||5,yAxisLabelPadding:(null==(o=n.E.quadrantChart)?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:(null==(l=n.E.quadrantChart)?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:(null==(c=n.E.quadrantChart)?void 0:c.yAxisLabelFontSize)||16,quadrantLabelFontSize:(null==(h=n.E.quadrantChart)?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:(null==(d=n.E.quadrantChart)?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:(null==(u=n.E.quadrantChart)?void 0:u.pointTextPadding)||5,pointLabelFontSize:(null==(y=n.E.quadrantChart)?void 0:y.pointLabelFontSize)||12,pointRadius:(null==(p=n.E.quadrantChart)?void 0:p.pointRadius)||5,xAxisPosition:(null==(g=n.E.quadrantChart)?void 0:g.xAxisPosition)||"top",yAxisPosition:(null==(f=n.E.quadrantChart)?void 0:f.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:(null==(_=n.E.quadrantChart)?void 0:_.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:(null==(m=n.E.quadrantChart)?void 0:m.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:o.quadrant1Fill,quadrant2Fill:o.quadrant2Fill,quadrant3Fill:o.quadrant3Fill,quadrant4Fill:o.quadrant4Fill,quadrant1TextFill:o.quadrant1TextFill,quadrant2TextFill:o.quadrant2TextFill,quadrant3TextFill:o.quadrant3TextFill,quadrant4TextFill:o.quadrant4TextFill,quadrantPointFill:o.quadrantPointFill,quadrantPointTextFill:o.quadrantPointTextFill,quadrantXAxisTextFill:o.quadrantXAxisTextFill,quadrantYAxisTextFill:o.quadrantYAxisTextFill,quadrantTitleFill:o.quadrantTitleFill,quadrantInternalBorderStrokeFill:o.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:o.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),n.l.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}setConfig(t){n.l.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){n.l.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,e,i,n){const r=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,s={top:"top"===t&&e?r:0,bottom:"bottom"===t&&e?r:0},a=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,o={left:"left"===this.config.yAxisPosition&&i?a:0,right:"right"===this.config.yAxisPosition&&i?a:0},l=this.config.titleFontSize+2*this.config.titlePadding,c={top:n?l:0},h=this.config.quadrantPadding+o.left,d=this.config.quadrantPadding+s.top+c.top,u=this.config.chartWidth-2*this.config.quadrantPadding-o.left-o.right,y=this.config.chartHeight-2*this.config.quadrantPadding-s.top-s.bottom-c.top;return{xAxisSpace:s,yAxisSpace:o,titleSpace:c,quadrantSpace:{quadrantLeft:h,quadrantTop:d,quadrantWidth:u,quadrantHalfWidth:u/2,quadrantHeight:y,quadrantHalfHeight:y/2}}}getAxisLabels(t,e,i,n){const{quadrantSpace:r,titleSpace:s}=n,{quadrantHalfHeight:a,quadrantHeight:o,quadrantLeft:l,quadrantHalfWidth:c,quadrantTop:h,quadrantWidth:d}=r,u=0===this.data.points.length,y=[];return this.data.xAxisLeftText&&e&&y.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+(u?c/2:0),y:"top"===t?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+h+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&e&&y.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+c+(u?c/2:0),y:"top"===t?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+h+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&i&&y.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+d+this.config.quadrantPadding,y:h+o-(u?a/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&i&&y.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+d+this.config.quadrantPadding,y:h+a-(u?a/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:-90}),y}getQuadrants(t){const{quadrantSpace:e}=t,{quadrantHalfHeight:i,quadrantLeft:n,quadrantHalfWidth:r,quadrantTop:s}=e,a=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+r,y:s,width:r,height:i,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:s,width:r,height:i,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:s+i,width:r,height:i,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+r,y:s+i,width:r,height:i,fill:this.themeConfig.quadrant4Fill}];for(const t of a)t.text.x=t.x+t.width/2,0===this.data.points.length?(t.text.y=t.y+t.height/2,t.text.horizontalPos="middle"):(t.text.y=t.y+this.config.quadrantTextTopPadding,t.text.horizontalPos="top");return a}getQuadrantPoints(t){const{quadrantSpace:e}=t,{quadrantHeight:i,quadrantLeft:n,quadrantTop:s,quadrantWidth:a}=e,o=(0,r.BYU)().domain([0,1]).range([n,a+n]),l=(0,r.BYU)().domain([0,1]).range([i+s,s]);return this.data.points.map((t=>({x:o(t.x),y:l(t.y),fill:this.themeConfig.quadrantPointFill,radius:this.config.pointRadius,text:{text:t.text,fill:this.themeConfig.quadrantPointTextFill,x:o(t.x),y:l(t.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0}})))}getBorders(t){const e=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:i}=t,{quadrantHalfHeight:n,quadrantHeight:r,quadrantLeft:s,quadrantHalfWidth:a,quadrantTop:o,quadrantWidth:l}=i;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-e,y1:o,x2:s+l+e,y2:o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+l,y1:o+e,x2:s+l,y2:o+r-e},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-e,y1:o+r,x2:s+l+e,y2:o+r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:o+e,x2:s,y2:o+r-e},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+a,y1:o+e,x2:s+a,y2:o+r-e},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+e,y1:o+n,x2:s+l-e,y2:o+n}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),e=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),i=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,r=this.calculateSpace(n,t,e,i);return{points:this.getQuadrantPoints(r),quadrants:this.getQuadrants(r),axisLabels:this.getAxisLabels(n,t,e,r),borderLines:this.getBorders(r),title:this.getTitle(i)}}},d={parser:a,db:{setWidth:function(t){h.setConfig({chartWidth:t})},setHeight:function(t){h.setConfig({chartHeight:t})},setQuadrant1Text:function(t){h.setData({quadrant1Text:c(t.text)})},setQuadrant2Text:function(t){h.setData({quadrant2Text:c(t.text)})},setQuadrant3Text:function(t){h.setData({quadrant3Text:c(t.text)})},setQuadrant4Text:function(t){h.setData({quadrant4Text:c(t.text)})},setXAxisLeftText:function(t){h.setData({xAxisLeftText:c(t.text)})},setXAxisRightText:function(t){h.setData({xAxisRightText:c(t.text)})},setYAxisTopText:function(t){h.setData({yAxisTopText:c(t.text)})},setYAxisBottomText:function(t){h.setData({yAxisBottomText:c(t.text)})},addPoint:function(t,e,i){h.addPoints([{x:e,y:i,text:c(t.text)}])},getQuadrantData:function(){const t=(0,n.c)(),{themeVariables:e,quadrantChart:i}=t;return i&&h.setConfig(i),h.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),h.setData({titleText:(0,n.t)()}),h.build()},parseDirective:function(t,e,i){n.m.parseDirective(this,t,e,i)},clear:function(){h.clear(),(0,n.v)()},setAccTitle:n.s,getAccTitle:n.g,setDiagramTitle:n.r,getDiagramTitle:n.t,getAccDescription:n.a,setAccDescription:n.b},renderer:{draw:(t,e,i,s)=>{var a,o,l;function c(t){return"top"===t?"hanging":"middle"}function h(t){return"left"===t?"start":"middle"}function d(t){return`translate(${t.x}, ${t.y}) rotate(${t.rotation||0})`}const u=(0,n.c)();n.l.debug("Rendering quadrant chart\n"+t);const y=u.securityLevel;let p;"sandbox"===y&&(p=(0,r.Ys)("#i"+e));const g=("sandbox"===y?(0,r.Ys)(p.nodes()[0].contentDocument.body):(0,r.Ys)("body")).select(`[id="${e}"]`),f=g.append("g").attr("class","main"),_=(null==(a=u.quadrantChart)?void 0:a.chartWidth)||500,m=(null==(o=u.quadrantChart)?void 0:o.chartHeight)||500;(0,n.i)(g,m,_,(null==(l=u.quadrantChart)?void 0:l.useMaxWidth)||!0),g.attr("viewBox","0 0 "+_+" "+m),s.db.setHeight(m),s.db.setWidth(_);const x=s.db.getQuadrantData(),b=f.append("g").attr("class","quadrants"),E=f.append("g").attr("class","border"),k=f.append("g").attr("class","data-points"),v=f.append("g").attr("class","labels"),S=f.append("g").attr("class","title");x.title&&S.append("text").attr("x",0).attr("y",0).attr("fill",x.title.fill).attr("font-size",x.title.fontSize).attr("dominant-baseline",c(x.title.horizontalPos)).attr("text-anchor",h(x.title.verticalPos)).attr("transform",d(x.title)).text(x.title.text),x.borderLines&&E.selectAll("line").data(x.borderLines).enter().append("line").attr("x1",(t=>t.x1)).attr("y1",(t=>t.y1)).attr("x2",(t=>t.x2)).attr("y2",(t=>t.y2)).style("stroke",(t=>t.strokeFill)).style("stroke-width",(t=>t.strokeWidth));const T=b.selectAll("g.quadrant").data(x.quadrants).enter().append("g").attr("class","quadrant");T.append("rect").attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("width",(t=>t.width)).attr("height",(t=>t.height)).attr("fill",(t=>t.fill)),T.append("text").attr("x",0).attr("y",0).attr("fill",(t=>t.text.fill)).attr("font-size",(t=>t.text.fontSize)).attr("dominant-baseline",(t=>c(t.text.horizontalPos))).attr("text-anchor",(t=>h(t.text.verticalPos))).attr("transform",(t=>d(t.text))).text((t=>t.text.text)),v.selectAll("g.label").data(x.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text((t=>t.text)).attr("fill",(t=>t.fill)).attr("font-size",(t=>t.fontSize)).attr("dominant-baseline",(t=>c(t.horizontalPos))).attr("text-anchor",(t=>h(t.verticalPos))).attr("transform",(t=>d(t)));const A=k.selectAll("g.data-point").data(x.points).enter().append("g").attr("class","data-point");A.append("circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",(t=>t.radius)).attr("fill",(t=>t.fill)),A.append("text").attr("x",0).attr("y",0).text((t=>t.text.text)).attr("fill",(t=>t.text.fill)).attr("font-size",(t=>t.text.fontSize)).attr("dominant-baseline",(t=>c(t.text.horizontalPos))).attr("text-anchor",(t=>h(t.text.verticalPos))).attr("transform",(t=>d(t.text)))}},styles:()=>""}},6317:(t,e,i)=>{i.r(e),i.d(e,{diagram:()=>v});var n=i(9252),r=i(7435),s=i(6752),a=i(2521),o=(i(7006),i(1088),i(5165),function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,3],i=[1,5],n=[1,6],r=[1,7],s=[1,8],a=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],o=[1,22],l=[2,13],c=[1,26],h=[1,27],d=[1,28],u=[1,29],y=[1,30],p=[1,31],g=[1,24],f=[1,32],_=[1,33],m=[1,36],x=[71,72],b=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],E=[1,56],k=[1,57],v=[1,58],S=[1,59],T=[1,60],A=[1,61],I=[1,62],R=[62,63],q=[1,74],$=[1,70],N=[1,71],D=[1,72],L=[1,73],w=[1,75],C=[1,79],F=[1,80],O=[1,77],P=[1,78],M=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],U={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,i,n,r,s,a){var o=s.length-1;switch(r){case 6:this.$=s[o].trim(),n.setAccTitle(this.$);break;case 7:case 8:this.$=s[o].trim(),n.setAccDescription(this.$);break;case 9:n.parseDirective("%%{","open_directive");break;case 10:n.parseDirective(s[o],"type_directive");break;case 11:s[o]=s[o].trim().replace(/'/g,'"'),n.parseDirective(s[o],"arg_directive");break;case 12:n.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:n.addRequirement(s[o-3],s[o-4]);break;case 20:n.setNewReqId(s[o-2]);break;case 21:n.setNewReqText(s[o-2]);break;case 22:n.setNewReqRisk(s[o-2]);break;case 23:n.setNewReqVerifyMethod(s[o-2]);break;case 26:this.$=n.RequirementType.REQUIREMENT;break;case 27:this.$=n.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=n.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=n.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=n.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=n.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=n.RiskLevel.LOW_RISK;break;case 33:this.$=n.RiskLevel.MED_RISK;break;case 34:this.$=n.RiskLevel.HIGH_RISK;break;case 35:this.$=n.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=n.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=n.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=n.VerifyType.VERIFY_TEST;break;case 39:n.addElement(s[o-3]);break;case 40:n.setNewElementType(s[o-2]);break;case 41:n.setNewElementDocRef(s[o-2]);break;case 44:n.addRelationship(s[o-2],s[o],s[o-4]);break;case 45:n.addRelationship(s[o-2],s[o-4],s[o]);break;case 46:this.$=n.Relationships.CONTAINS;break;case 47:this.$=n.Relationships.COPIES;break;case 48:this.$=n.Relationships.DERIVES;break;case 49:this.$=n.Relationships.SATISFIES;break;case 50:this.$=n.Relationships.VERIFIES;break;case 51:this.$=n.Relationships.REFINES;break;case 52:this.$=n.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:i,16:n,18:r,19:s},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:i,16:n,18:r,19:s},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(a,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:i,16:n,18:r,19:s},{1:[2,2]},{4:21,5:o,7:17,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{11:34,12:[1,35],22:m},t([12,22],[2,10]),t(a,[2,6]),t(a,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:o,7:38,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{4:21,5:o,7:39,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{4:21,5:o,7:40,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{4:21,5:o,7:41,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{4:21,5:o,7:42,8:l,9:4,14:i,16:n,18:r,19:s,23:18,24:19,25:20,26:23,32:25,40:c,41:h,42:d,43:u,44:y,45:p,53:g,71:f,72:_},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(x,[2,26]),t(x,[2,27]),t(x,[2,28]),t(x,[2,29]),t(x,[2,30]),t(x,[2,31]),t(b,[2,55]),t(b,[2,56]),t(a,[2,4]),{13:51,21:[1,52]},t(a,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:E,65:k,66:v,67:S,68:T,69:A,70:I},{61:63,64:E,65:k,66:v,67:S,68:T,69:A,70:I},{11:64,22:m},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(R,[2,46]),t(R,[2,47]),t(R,[2,48]),t(R,[2,49]),t(R,[2,50]),t(R,[2,51]),t(R,[2,52]),{63:[1,68]},t(a,[2,5]),{5:q,29:69,30:$,33:N,35:D,37:L,39:w},{5:C,39:F,55:76,56:O,58:P},{32:81,71:f,72:_},{32:82,71:f,72:_},t(M,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:q,29:87,30:$,33:N,35:D,37:L,39:w},t(M,[2,25]),t(M,[2,39]),{31:[1,88]},{31:[1,89]},{5:C,39:F,55:90,56:O,58:P},t(M,[2,43]),t(M,[2,44]),t(M,[2,45]),{32:91,71:f,72:_},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(M,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(M,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:q,29:116,30:$,33:N,35:D,37:L,39:w},{5:q,29:117,30:$,33:N,35:D,37:L,39:w},{5:q,29:118,30:$,33:N,35:D,37:L,39:w},{5:q,29:119,30:$,33:N,35:D,37:L,39:w},{5:C,39:F,55:120,56:O,58:P},{5:C,39:F,55:121,56:O,58:P},t(M,[2,20]),t(M,[2,21]),t(M,[2,22]),t(M,[2,23]),t(M,[2,40]),t(M,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=[0],i=[],n=[null],r=[],s=this.table,a="",o=0,l=0,c=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(d.yy[u]=this.yy[u]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;r.push(y);var p=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,f,_,m,x,b,E,k,v,S={};;){if(f=e[e.length-1],this.defaultActions[f]?_=this.defaultActions[f]:(null==g&&(v=void 0,"number"!=typeof(v=i.pop()||h.lex()||1)&&(v instanceof Array&&(v=(i=v).pop()),v=this.symbols_[v]||v),g=v),_=s[f]&&s[f][g]),void 0===_||!_.length||!_[0]){var T;for(x in k=[],s[f])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");T=h.showPosition?"Parse error on line "+(o+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:h.match,token:this.terminals_[g]||g,line:h.yylineno,loc:y,expected:k})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+g);switch(_[0]){case 1:e.push(g),n.push(h.yytext),r.push(h.yylloc),e.push(_[1]),g=null,l=h.yyleng,a=h.yytext,o=h.yylineno,y=h.yylloc;break;case 2:if(b=this.productions_[_[1]][1],S.$=n[n.length-b],S._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(S._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.apply(S,[a,l,o,d.yy,_[1],n,r].concat(c))))return m;b&&(e=e.slice(0,-1*b*2),n=n.slice(0,-1*b),r=r.slice(0,-1*b)),e.push(this.productions_[_[1]][0]),n.push(S.$),r.push(S._$),E=s[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},z={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if((i=this._input.match(this.rules[r[s]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function B(){this.yy={}}return U.lexer=z,B.prototype=U,U.Parser=B,new B}());o.parser=o;const l=o;let c=[],h={},d={},u={},y={};const p={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,i){n.m.parseDirective(this,t,e,i)},getConfig:()=>(0,n.c)().req,addRequirement:(t,e)=>(void 0===d[t]&&(d[t]={name:t,type:e,id:h.id,text:h.text,risk:h.risk,verifyMethod:h.verifyMethod}),h={},d[t]),getRequirements:()=>d,setNewReqId:t=>{void 0!==h&&(h.id=t)},setNewReqText:t=>{void 0!==h&&(h.text=t)},setNewReqRisk:t=>{void 0!==h&&(h.risk=t)},setNewReqVerifyMethod:t=>{void 0!==h&&(h.verifyMethod=t)},setAccTitle:n.s,getAccTitle:n.g,setAccDescription:n.b,getAccDescription:n.a,addElement:t=>(void 0===y[t]&&(y[t]={name:t,type:u.type,docRef:u.docRef},n.l.info("Added new requirement: ",t)),u={},y[t]),getElements:()=>y,setNewElementType:t=>{void 0!==u&&(u.type=t)},setNewElementDocRef:t=>{void 0!==u&&(u.docRef=t)},addRelationship:(t,e,i)=>{c.push({type:t,src:e,dst:i})},getRelationships:()=>c,clear:()=>{c=[],h={},d={},u={},y={},(0,n.v)()}},g={CONTAINS:"contains",ARROW:"arrow"},f=g;let _={},m=0;const x=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",_.rect_min_width+"px").attr("height",_.rect_min_height+"px"),b=(t,e,i)=>{let n=_.rect_min_width/2,r=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",n).attr("y",_.rect_padding).attr("dominant-baseline","hanging"),s=0;i.forEach((t=>{0==s?r.append("tspan").attr("text-anchor","middle").attr("x",_.rect_min_width/2).attr("dy",0).text(t):r.append("tspan").attr("text-anchor","middle").attr("x",_.rect_min_width/2).attr("dy",.75*_.line_height).text(t),s++}));let a=1.5*_.rect_padding+s*_.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",_.rect_min_width).attr("y1",a).attr("y2",a),{titleNode:r,y:a}},E=(t,e,i,n)=>{let r=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",_.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),s=0,a=[];return i.forEach((t=>{let e=t.length;for(;e>30&&s<3;){let i=t.substring(0,30);e=(t=t.substring(30,t.length)).length,a[a.length]=i,s++}if(3==s){let t=a[a.length-1];a[a.length-1]=t.substring(0,t.length-4)+"..."}else a[a.length]=t;s=0})),a.forEach((t=>{r.append("tspan").attr("x",_.rect_padding).attr("dy",_.line_height).text(t)})),r},k=t=>t.replace(/\s/g,"").replace(/\./g,"_"),v={parser:l,db:p,renderer:{draw:(t,e,i,o)=>{_=(0,n.c)().requirement;const l=_.securityLevel;let c;"sandbox"===l&&(c=(0,r.Ys)("#i"+e));const h=("sandbox"===l?(0,r.Ys)(c.nodes()[0].contentDocument.body):(0,r.Ys)("body")).select(`[id='${e}']`);((t,e)=>{let i=t.append("defs").append("marker").attr("id",g.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");i.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),i.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),i.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",g.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${e.line_height},${e.line_height/2}\n      M${e.line_height},${e.line_height/2}\n      L0,${e.line_height}`).attr("stroke-width",1)})(h,_);const d=new a.k({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:_.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));let u=o.db.getRequirements(),y=o.db.getElements(),p=o.db.getRelationships();var v,S,T;v=u,S=d,T=h,Object.keys(v).forEach((t=>{let e=v[t];t=k(t),n.l.info("Added new requirement: ",t);const i=T.append("g").attr("id",t),r=x(i,"req-"+t);let s=b(i,t+"_title",[`<<${e.type}>>`,`${e.name}`]);E(i,t+"_body",[`Id: ${e.id}`,`Text: ${e.text}`,`Risk: ${e.risk}`,`Verification: ${e.verifyMethod}`],s.y);const a=r.node().getBBox();S.setNode(t,{width:a.width,height:a.height,shape:"rect",id:t})})),((t,e,i)=>{Object.keys(t).forEach((n=>{let r=t[n];const s=k(n),a=i.append("g").attr("id",s),o="element-"+s,l=x(a,o);let c=b(a,o+"_title",["<<Element>>",`${n}`]);E(a,o+"_body",[`Type: ${r.type||"Not Specified"}`,`Doc Ref: ${r.docRef||"None"}`],c.y);const h=l.node().getBBox();e.setNode(s,{width:h.width,height:h.height,shape:"rect",id:s})}))})(y,d,h),((t,e)=>{t.forEach((function(t){let i=k(t.src),n=k(t.dst);e.setEdge(i,n,{relationship:t})}))})(p,d),(0,s.bK)(d),function(t,e){e.nodes().forEach((function(i){void 0!==i&&void 0!==e.node(i)&&(t.select("#"+i),t.select("#"+i).attr("transform","translate("+(e.node(i).x-e.node(i).width/2)+","+(e.node(i).y-e.node(i).height/2)+" )"))}))}(h,d),p.forEach((function(t){!function(t,e,i,s,a){const o=i.edge(k(e.src),k(e.dst)),l=(0,r.jvg)().x((function(t){return t.x})).y((function(t){return t.y})),c=t.insert("path","#"+s).attr("class","er relationshipLine").attr("d",l(o.points)).attr("fill","none");e.type==a.db.Relationships.CONTAINS?c.attr("marker-start","url("+n.e.getUrl(_.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(c.attr("stroke-dasharray","10,7"),c.attr("marker-end","url("+n.e.getUrl(_.arrowMarkerAbsolute)+"#"+f.ARROW+"_line_ending)")),((t,e,i,n)=>{const r=e.node().getTotalLength(),s=e.node().getPointAtLength(.5*r),a="rel"+m;m++;const o=t.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();t.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",s.x-o.width/2).attr("y",s.y-o.height/2).attr("width",o.width).attr("height",o.height).attr("fill","white").attr("fill-opacity","85%")})(t,c,0,`<<${e.type}>>`)}(h,t,d,e,o)}));const A=_.rect_padding,I=h.node().getBBox(),R=I.width+2*A,q=I.height+2*A;(0,n.i)(h,q,R,_.useMaxWidth),h.attr("viewBox",`${I.x-A} ${I.y-A} ${R} ${q}`)}},styles:t=>`\n\n  marker {\n    fill: ${t.relationColor};\n    stroke: ${t.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${t.lineColor};\n  }\n\n  svg {\n    font-family: ${t.fontFamily};\n    font-size: ${t.fontSize};\n  }\n\n  .reqBox {\n    fill: ${t.requirementBackground};\n    fill-opacity: 1.0;\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${t.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${t.relationLabelBackground};\n    fill-opacity: 1.0;\n  }\n\n  .req-title-line {\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${t.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${t.relationLabelColor};\n  }\n\n`}}}]);