"use strict";(self.webpackChunkethan_blog=self.webpackChunkethan_blog||[]).push([[704],{1028:(e,t,n)=>{const{DOCUMENT_MODE:o}=n(1426),r="html",s=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],i=s.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),a=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],T=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],l=T.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function c(e){const t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function E(e,t){for(let n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.isConforming=function(e){return e.name===r&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},t.getDocumentMode=function(e){if(e.name!==r)return o.QUIRKS;const t=e.systemId;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return o.QUIRKS;let n=e.publicId;if(null!==n){if(n=n.toLowerCase(),a.indexOf(n)>-1)return o.QUIRKS;let e=null===t?i:s;if(E(n,e))return o.QUIRKS;if(e=null===t?T:l,E(n,e))return o.LIMITED_QUIRKS}return o.NO_QUIRKS},t.serializeContent=function(e,t,n){let o="!DOCTYPE ";return e&&(o+=e),t?o+=" PUBLIC "+c(t):n&&(o+=" SYSTEM"),null!==n&&(o+=" "+c(n)),o}},8780:e=>{e.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},1859:(e,t,n)=>{const o=n(8614),r=n(1426),s=r.TAG_NAMES,i=r.NAMESPACES,a=r.ATTRS,T={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},l={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:i.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:i.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:i.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:i.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:i.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:i.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:i.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:i.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:i.XML},"xml:space":{prefix:"xml",name:"space",namespace:i.XML},xmlns:{prefix:"",name:"xmlns",namespace:i.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:i.XMLNS}},c=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},E={[s.B]:!0,[s.BIG]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.CENTER]:!0,[s.CODE]:!0,[s.DD]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EM]:!0,[s.EMBED]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HR]:!0,[s.I]:!0,[s.IMG]:!0,[s.LI]:!0,[s.LISTING]:!0,[s.MENU]:!0,[s.META]:!0,[s.NOBR]:!0,[s.OL]:!0,[s.P]:!0,[s.PRE]:!0,[s.RUBY]:!0,[s.S]:!0,[s.SMALL]:!0,[s.SPAN]:!0,[s.STRONG]:!0,[s.STRIKE]:!0,[s.SUB]:!0,[s.SUP]:!0,[s.TABLE]:!0,[s.TT]:!0,[s.U]:!0,[s.UL]:!0,[s.VAR]:!0};t.causesExit=function(e){const t=e.tagName;return!(t!==s.FONT||null===o.getTokenAttr(e,a.COLOR)&&null===o.getTokenAttr(e,a.SIZE)&&null===o.getTokenAttr(e,a.FACE))||E[t]},t.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=T[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=l[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){const t=c[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,o){return!(o&&o!==i.HTML||!function(e,t,n){if(t===i.MATHML&&e===s.ANNOTATION_XML)for(let e=0;e<n.length;e++)if(n[e].name===a.ENCODING){const t=n[e].value.toLowerCase();return"text/html"===t||"application/xhtml+xml"===t}return t===i.SVG&&(e===s.FOREIGN_OBJECT||e===s.DESC||e===s.TITLE)}(e,t,n))||!(o&&o!==i.MATHML||!function(e,t){return t===i.MATHML&&(e===s.MI||e===s.MO||e===s.MN||e===s.MS||e===s.MTEXT)}(e,t))}},1426:(e,t)=>{const n=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const o=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};t.SPECIAL_ELEMENTS={[n.HTML]:{[o.ADDRESS]:!0,[o.APPLET]:!0,[o.AREA]:!0,[o.ARTICLE]:!0,[o.ASIDE]:!0,[o.BASE]:!0,[o.BASEFONT]:!0,[o.BGSOUND]:!0,[o.BLOCKQUOTE]:!0,[o.BODY]:!0,[o.BR]:!0,[o.BUTTON]:!0,[o.CAPTION]:!0,[o.CENTER]:!0,[o.COL]:!0,[o.COLGROUP]:!0,[o.DD]:!0,[o.DETAILS]:!0,[o.DIR]:!0,[o.DIV]:!0,[o.DL]:!0,[o.DT]:!0,[o.EMBED]:!0,[o.FIELDSET]:!0,[o.FIGCAPTION]:!0,[o.FIGURE]:!0,[o.FOOTER]:!0,[o.FORM]:!0,[o.FRAME]:!0,[o.FRAMESET]:!0,[o.H1]:!0,[o.H2]:!0,[o.H3]:!0,[o.H4]:!0,[o.H5]:!0,[o.H6]:!0,[o.HEAD]:!0,[o.HEADER]:!0,[o.HGROUP]:!0,[o.HR]:!0,[o.HTML]:!0,[o.IFRAME]:!0,[o.IMG]:!0,[o.INPUT]:!0,[o.LI]:!0,[o.LINK]:!0,[o.LISTING]:!0,[o.MAIN]:!0,[o.MARQUEE]:!0,[o.MENU]:!0,[o.META]:!0,[o.NAV]:!0,[o.NOEMBED]:!0,[o.NOFRAMES]:!0,[o.NOSCRIPT]:!0,[o.OBJECT]:!0,[o.OL]:!0,[o.P]:!0,[o.PARAM]:!0,[o.PLAINTEXT]:!0,[o.PRE]:!0,[o.SCRIPT]:!0,[o.SECTION]:!0,[o.SELECT]:!0,[o.SOURCE]:!0,[o.STYLE]:!0,[o.SUMMARY]:!0,[o.TABLE]:!0,[o.TBODY]:!0,[o.TD]:!0,[o.TEMPLATE]:!0,[o.TEXTAREA]:!0,[o.TFOOT]:!0,[o.TH]:!0,[o.THEAD]:!0,[o.TITLE]:!0,[o.TR]:!0,[o.TRACK]:!0,[o.UL]:!0,[o.WBR]:!0,[o.XMP]:!0},[n.MATHML]:{[o.MI]:!0,[o.MO]:!0,[o.MN]:!0,[o.MS]:!0,[o.MTEXT]:!0,[o.ANNOTATION_XML]:!0},[n.SVG]:{[o.TITLE]:!0,[o.FOREIGN_OBJECT]:!0,[o.DESC]:!0}}},3077:(e,t)=>{const n=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];t.REPLACEMENT_CHARACTER="�",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},t.isSurrogate=function(e){return e>=55296&&e<=57343},t.isSurrogatePair=function(e){return e>=56320&&e<=57343},t.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},t.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},t.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||n.indexOf(e)>-1}},9704:(e,t,n)=>{const o=n(1224);e.exports=class extends o{constructor(e,t){super(e),this.posTracker=null,this.onParseError=t.onParseError}_setErrorLocation(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset}_reportError(e){const t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)}_getOverriddenMethods(e){return{_err(t){e._reportError(t)}}}}},7304:(e,t,n)=>{const o=n(9704),r=n(6669),s=n(2690),i=n(1224);e.exports=class extends o{constructor(e,t){super(e,t),this.opts=t,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(e,t){return{_bootstrap(n,o){t._bootstrap.call(this,n,o),i.install(this.tokenizer,r,e.opts),i.install(this.tokenizer,s)},_processInputToken(n){e.ctLoc=n.location,t._processInputToken.call(this,n)},_err(t,n){e.locBeforeToken=n&&n.beforeToken,e._reportError(t)}}}}},1778:(e,t,n)=>{const o=n(9704),r=n(1894),s=n(1224);e.exports=class extends o{constructor(e,t){super(e,t),this.posTracker=s.install(e,r),this.lastErrOffset=-1}_reportError(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(e))}}},6669:(e,t,n)=>{const o=n(9704),r=n(1778),s=n(1224);e.exports=class extends o{constructor(e,t){super(e,t);const n=s.install(e.preprocessor,r,t);this.posTracker=n.posTracker}}},8829:(e,t,n)=>{const o=n(1224);e.exports=class extends o{constructor(e,t){super(e),this.onItemPop=t.onItemPop}_getOverriddenMethods(e,t){return{pop(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement(){for(let t=this.stackTop;t>0;t--)e.onItemPop(this.items[t]);t.popAllUpToHtmlElement.call(this)},remove(n){e.onItemPop(this.current),t.remove.call(this,n)}}}}},4632:(e,t,n)=>{const o=n(1224),r=n(8614),s=n(2690),i=n(8829),a=n(1426).TAG_NAMES;e.exports=class extends o{constructor(e){super(e),this.parser=e,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(e){let t=null;this.lastStartTagToken&&(t=Object.assign({},this.lastStartTagToken.location),t.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,o=this.treeAdapter.getTagName(e),s={};t.type===r.END_TAG_TOKEN&&o===t.tagName?(s.endTag=Object.assign({},n),s.endLine=n.endLine,s.endCol=n.endCol,s.endOffset=n.endOffset):(s.endLine=n.startLine,s.endCol=n.startCol,s.endOffset=n.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}_getOverriddenMethods(e,t){return{_bootstrap(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;const a=o.install(this.tokenizer,s);e.posTracker=a.posTracker,o.install(this.openElements,i,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop(n){t._runParsingLoop.call(this,n);for(let t=this.openElements.stackTop;t>=0;t--)e._setEndLocation(this.openElements.items[t],e.currentToken)},_processTokenInForeignContent(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===r.END_TAG_TOKEN&&(n.tagName===a.HTML||n.tagName===a.BODY&&this.openElements.hasInScope(a.BODY)))for(let t=this.openElements.stackTop;t>=0;t--){const o=this.openElements.items[t];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType(e){t._setDocumentType.call(this,e);const n=this.treeAdapter.getChildNodes(this.document),o=n.length;for(let t=0;t<o;t++){const o=n[t];if(this.treeAdapter.isDocumentTypeNode(o)){this.treeAdapter.setNodeSourceCodeLocation(o,e.location);break}}},_attachElementToTree(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement(n,o){e.lastStartTagToken=n,t._appendElement.call(this,n,o)},_insertElement(n,o){e.lastStartTagToken=n,t._insertElement.call(this,n,o)},_insertTemplate(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n);const o=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(o,null)},_insertFakeRootElement(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(e,n){t._appendCommentNode.call(this,e,n);const o=this.treeAdapter.getChildNodes(n),r=o[o.length-1];this.treeAdapter.setNodeSourceCodeLocation(r,e.location)},_findFosterParentingLocation(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters(n){t._insertCharacters.call(this,n);const o=this._shouldFosterParentOnInsertion(),r=o&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,s=this.treeAdapter.getChildNodes(r),i=o&&e.lastFosterParentingLocation.beforeElement?s.indexOf(e.lastFosterParentingLocation.beforeElement)-1:s.length-1,a=s[i];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:e,endCol:t,endOffset:o}=n.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:e,endCol:t,endOffset:o})}else this.treeAdapter.setNodeSourceCodeLocation(a,n.location)}}}}},2690:(e,t,n)=>{const o=n(1224),r=n(8614),s=n(1894);e.exports=class extends o{constructor(e){super(e),this.tokenizer=e,this.posTracker=o.install(e.preprocessor,s),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const n={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.ctLoc},_createCharacterToken(n,o){t._createCharacterToken.call(this,n,o),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const n=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=n.startLine,this.currentCharacterToken.location.endCol=n.startCol,this.currentCharacterToken.location.endOffset=n.startOffset),this.currentToken.type===r.EOF_TOKEN?(n.endLine=n.startLine,n.endCol=n.startCol,n.endOffset=n.startOffset):(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col+1,n.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const n=this.currentCharacterToken&&this.currentCharacterToken.location;n&&-1===n.endOffset&&(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col,n.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(r.MODE).forEach((o=>{const s=r.MODE[o];n[s]=function(n){e.ctLoc=e._getCurrentLocation(),t[s].call(this,n)}})),n}}},1894:(e,t,n)=>{const o=n(1224);e.exports=class extends o{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const n=this.pos+1,o=this.html[n];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=n),("\n"===o||"\r"===o&&"\n"!==this.html[n+1])&&(e.isEol=!0),e.col=n-e.lineStartPos+1,e.offset=e.droppedBufferSize+n,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const n=this.pos;t.dropParsedChunk.call(this);const o=n-this.pos;e.lineStartPos-=o,e.droppedBufferSize+=o,e.offset=e.droppedBufferSize+this.pos}}}}},2378:e=>{class t{constructor(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}_getNoahArkConditionCandidates(e){const n=[];if(this.length>=3){const o=this.treeAdapter.getAttrList(e).length,r=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let e=this.length-1;e>=0;e--){const i=this.entries[e];if(i.type===t.MARKER_ENTRY)break;const a=i.element,T=this.treeAdapter.getAttrList(a);this.treeAdapter.getTagName(a)===r&&this.treeAdapter.getNamespaceURI(a)===s&&T.length===o&&n.push({idx:e,attrs:T})}}return n.length<3?[]:n}_ensureNoahArkCondition(e){const t=this._getNoahArkConditionCandidates(e);let n=t.length;if(n){const o=this.treeAdapter.getAttrList(e),r=o.length,s=Object.create(null);for(let e=0;e<r;e++){const t=o[e];s[t.name]=t.value}for(let e=0;e<r;e++)for(let o=0;o<n;o++){const r=t[o].attrs[e];if(s[r.name]!==r.value&&(t.splice(o,1),n--),t.length<3)return}for(let e=n-1;e>=2;e--)this.entries.splice(t[e].idx,1),this.length--}}insertMarker(){this.entries.push({type:t.MARKER_ENTRY}),this.length++}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.push({type:t.ELEMENT_ENTRY,element:e,token:n}),this.length++}insertElementAfterBookmark(e,n){let o=this.length-1;for(;o>=0&&this.entries[o]!==this.bookmark;o--);this.entries.splice(o+1,0,{type:t.ELEMENT_ENTRY,element:e,token:n}),this.length++}removeEntry(e){for(let t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const e=this.entries.pop();if(this.length--,e.type===t.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(e){for(let n=this.length-1;n>=0;n--){const o=this.entries[n];if(o.type===t.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(o.element)===e)return o}return null}getElementEntry(e){for(let n=this.length-1;n>=0;n--){const o=this.entries[n];if(o.type===t.ELEMENT_ENTRY&&o.element===e)return o}return null}}t.MARKER_ENTRY="MARKER_ENTRY",t.ELEMENT_ENTRY="ELEMENT_ENTRY",e.exports=t},6839:(e,t,n)=>{const o=n(8614),r=n(7453),s=n(2378),i=n(4632),a=n(7304),T=n(1224),l=n(6245),c=n(1535),E=n(1028),p=n(1859),m=n(8780),d=n(3077),h=n(1426),A=h.TAG_NAMES,u=h.NAMESPACES,N=h.ATTRS,O={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:l},_="hidden",f=8,g=3,C="INITIAL_MODE",M="BEFORE_HTML_MODE",L="BEFORE_HEAD_MODE",R="IN_HEAD_MODE",I="IN_HEAD_NO_SCRIPT_MODE",k="AFTER_HEAD_MODE",S="IN_BODY_MODE",P="TEXT_MODE",H="IN_TABLE_MODE",D="IN_TABLE_TEXT_MODE",K="IN_CAPTION_MODE",F="IN_COLUMN_GROUP_MODE",b="IN_TABLE_BODY_MODE",B="IN_ROW_MODE",U="IN_CELL_MODE",x="IN_SELECT_MODE",G="IN_SELECT_IN_TABLE_MODE",y="IN_TEMPLATE_MODE",w="AFTER_BODY_MODE",v="IN_FRAMESET_MODE",Y="AFTER_FRAMESET_MODE",W="AFTER_AFTER_BODY_MODE",X="AFTER_AFTER_FRAMESET_MODE",V={[A.TR]:B,[A.TBODY]:b,[A.THEAD]:b,[A.TFOOT]:b,[A.CAPTION]:K,[A.COLGROUP]:F,[A.TABLE]:H,[A.BODY]:S,[A.FRAMESET]:v},z={[A.CAPTION]:H,[A.COLGROUP]:H,[A.TBODY]:H,[A.TFOOT]:H,[A.THEAD]:H,[A.COL]:F,[A.TR]:b,[A.TD]:B,[A.TH]:B},Q={[C]:{[o.CHARACTER_TOKEN]:Te,[o.NULL_CHARACTER_TOKEN]:Te,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:function(e,t){e._setDocumentType(t);const n=t.forceQuirks?h.DOCUMENT_MODE.QUIRKS:E.getDocumentMode(t);E.isConforming(t)||e._err(m.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=M},[o.START_TAG_TOKEN]:Te,[o.END_TAG_TOKEN]:Te,[o.EOF_TOKEN]:Te},[M]:{[o.CHARACTER_TOKEN]:le,[o.NULL_CHARACTER_TOKEN]:le,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?(e._insertElement(t,u.HTML),e.insertionMode=L):le(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n!==A.HTML&&n!==A.HEAD&&n!==A.BODY&&n!==A.BR||le(e,t)},[o.EOF_TOKEN]:le},[L]:{[o.CHARACTER_TOKEN]:ce,[o.NULL_CHARACTER_TOKEN]:ce,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.HEAD?(e._insertElement(t,u.HTML),e.headElement=e.openElements.current,e.insertionMode=R):ce(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HEAD||n===A.BODY||n===A.HTML||n===A.BR?ce(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:ce},[R]:{[o.CHARACTER_TOKEN]:me,[o.NULL_CHARACTER_TOKEN]:me,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:Ee,[o.END_TAG_TOKEN]:pe,[o.EOF_TOKEN]:me},[I]:{[o.CHARACTER_TOKEN]:de,[o.NULL_CHARACTER_TOKEN]:de,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.BASEFONT||n===A.BGSOUND||n===A.HEAD||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.STYLE?Ee(e,t):n===A.NOSCRIPT?e._err(m.nestedNoscriptInHead):de(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.NOSCRIPT?(e.openElements.pop(),e.insertionMode=R):n===A.BR?de(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:de},[k]:{[o.CHARACTER_TOKEN]:he,[o.NULL_CHARACTER_TOKEN]:he,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.BODY?(e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode=S):n===A.FRAMESET?(e._insertElement(t,u.HTML),e.insertionMode=v):n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.SCRIPT||n===A.STYLE||n===A.TEMPLATE||n===A.TITLE?(e._err(m.abandonedHeadElementChild),e.openElements.push(e.headElement),Ee(e,t),e.openElements.remove(e.headElement)):n===A.HEAD?e._err(m.misplacedStartTagForHeadElement):he(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.BODY||n===A.HTML||n===A.BR?he(e,t):n===A.TEMPLATE?pe(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:he},[S]:{[o.CHARACTER_TOKEN]:ue,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:ke,[o.END_TAG_TOKEN]:De,[o.EOF_TOKEN]:Ke},[P]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ie,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:ne,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:ne,[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode},[o.EOF_TOKEN]:function(e,t){e._err(m.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}},[H]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:be,[o.END_TAG_TOKEN]:Be,[o.EOF_TOKEN]:Ke},[D]:{[o.CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t)},[o.COMMENT_TOKEN]:xe,[o.DOCTYPE_TOKEN]:xe,[o.START_TAG_TOKEN]:xe,[o.END_TAG_TOKEN]:xe,[o.EOF_TOKEN]:xe},[K]:{[o.CHARACTER_TOKEN]:ue,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TD||n===A.TFOOT||n===A.TH||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H,e._processToken(t)):ke(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H,n===A.TABLE&&e._processToken(t)):n!==A.BODY&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&n!==A.TBODY&&n!==A.TD&&n!==A.TFOOT&&n!==A.TH&&n!==A.THEAD&&n!==A.TR&&De(e,t)},[o.EOF_TOKEN]:Ke},[F]:{[o.CHARACTER_TOKEN]:Ge,[o.NULL_CHARACTER_TOKEN]:Ge,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.COL?(e._appendElement(t,u.HTML),t.ackSelfClosing=!0):n===A.TEMPLATE?Ee(e,t):Ge(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.COLGROUP?e.openElements.currentTagName===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=H):n===A.TEMPLATE?pe(e,t):n!==A.COL&&Ge(e,t)},[o.EOF_TOKEN]:Ke},[b]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,u.HTML),e.insertionMode=B):n===A.TH||n===A.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(A.TR),e.insertionMode=B,e._processToken(t)):n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TFOOT||n===A.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H,e._processToken(t)):be(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TBODY||n===A.TFOOT||n===A.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H):n===A.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H,e._processToken(t)):(n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP||n!==A.HTML&&n!==A.TD&&n!==A.TH&&n!==A.TR)&&Be(e,t)},[o.EOF_TOKEN]:Ke},[B]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TH||n===A.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,u.HTML),e.insertionMode=U,e.activeFormattingElements.insertMarker()):n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):be(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TR?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b):n===A.TABLE?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):n===A.TBODY||n===A.TFOOT||n===A.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(A.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):(n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP||n!==A.HTML&&n!==A.TD&&n!==A.TH)&&Be(e,t)},[o.EOF_TOKEN]:Ke},[U]:{[o.CHARACTER_TOKEN]:ue,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TD||n===A.TFOOT||n===A.TH||n===A.THEAD||n===A.TR?(e.openElements.hasInTableScope(A.TD)||e.openElements.hasInTableScope(A.TH))&&(e._closeTableCell(),e._processToken(t)):ke(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TD||n===A.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B):n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&De(e,t)},[o.EOF_TOKEN]:Ke},[x]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:ye,[o.END_TAG_TOKEN]:we,[o.EOF_TOKEN]:Ke},[G]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processToken(t)):ye(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processToken(t)):we(e,t)},[o.EOF_TOKEN]:Ke},[y]:{[o.CHARACTER_TOKEN]:ue,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;if(n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.SCRIPT||n===A.STYLE||n===A.TEMPLATE||n===A.TITLE)Ee(e,t);else{const o=z[n]||S;e._popTmplInsertionMode(),e._pushTmplInsertionMode(o),e.insertionMode=o,e._processToken(t)}},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.TEMPLATE&&pe(e,t)},[o.EOF_TOKEN]:ve},[w]:{[o.CHARACTER_TOKEN]:Ye,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:function(e,t){e._appendCommentNode(t,e.openElements.items[0])},[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?ke(e,t):Ye(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?e.fragmentContext||(e.insertionMode=W):Ye(e,t)},[o.EOF_TOKEN]:ae},[v]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.FRAMESET?e._insertElement(t,u.HTML):n===A.FRAME?(e._appendElement(t,u.HTML),t.ackSelfClosing=!0):n===A.NOFRAMES&&Ee(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName!==A.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===A.FRAMESET||(e.insertionMode=Y))},[o.EOF_TOKEN]:ae},[Y]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.NOFRAMES&&Ee(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.HTML&&(e.insertionMode=X)},[o.EOF_TOKEN]:ae},[W]:{[o.CHARACTER_TOKEN]:We,[o.NULL_CHARACTER_TOKEN]:We,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?ke(e,t):We(e,t)},[o.END_TAG_TOKEN]:We,[o.EOF_TOKEN]:ae},[X]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.NOFRAMES&&Ee(e,t)},[o.END_TAG_TOKEN]:ne,[o.EOF_TOKEN]:ae}};function j(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):He(e,t),n}function q(e,t){let n=null;for(let o=e.openElements.stackTop;o>=0;o--){const r=e.openElements.items[o];if(r===t.element)break;e._isSpecialElement(r)&&(n=r)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function J(e,t,n){let o=t,r=e.openElements.getCommonAncestor(t);for(let s=0,i=r;i!==n;s++,i=r){r=e.openElements.getCommonAncestor(i);const n=e.activeFormattingElements.getElementEntry(i),a=n&&s>=g;!n||a?(a&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(i)):(i=Z(e,n),o===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(o),e.treeAdapter.appendChild(i,o),o=i)}return o}function Z(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),o=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,o),t.element=o,o}function $(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{const o=e.treeAdapter.getTagName(t),r=e.treeAdapter.getNamespaceURI(t);o===A.TEMPLATE&&r===u.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ee(e,t,n){const o=e.treeAdapter.getNamespaceURI(n.element),r=n.token,s=e.treeAdapter.createElement(r.tagName,o,r.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s)}function te(e,t){let n;for(let o=0;o<f&&(n=j(e,t),n);o++){const t=q(e,n);if(!t)break;e.activeFormattingElements.bookmark=n;const o=J(e,t,n.element),r=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),$(e,r,o),ee(e,t,n)}}function ne(){}function oe(e){e._err(m.misplacedDoctype)}function re(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function se(e,t){e._appendCommentNode(t,e.document)}function ie(e,t){e._insertCharacters(t)}function ae(e){e.stopped=!0}function Te(e,t){e._err(m.missingDoctype,{beforeToken:!0}),e.treeAdapter.setDocumentMode(e.document,h.DOCUMENT_MODE.QUIRKS),e.insertionMode=M,e._processToken(t)}function le(e,t){e._insertFakeRootElement(),e.insertionMode=L,e._processToken(t)}function ce(e,t){e._insertFakeElement(A.HEAD),e.headElement=e.openElements.current,e.insertionMode=R,e._processToken(t)}function Ee(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META?(e._appendElement(t,u.HTML),t.ackSelfClosing=!0):n===A.TITLE?e._switchToTextParsing(t,o.MODE.RCDATA):n===A.NOSCRIPT?e.options.scriptingEnabled?e._switchToTextParsing(t,o.MODE.RAWTEXT):(e._insertElement(t,u.HTML),e.insertionMode=I):n===A.NOFRAMES||n===A.STYLE?e._switchToTextParsing(t,o.MODE.RAWTEXT):n===A.SCRIPT?e._switchToTextParsing(t,o.MODE.SCRIPT_DATA):n===A.TEMPLATE?(e._insertTemplate(t,u.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=y,e._pushTmplInsertionMode(y)):n===A.HEAD?e._err(m.misplacedStartTagForHeadElement):me(e,t)}function pe(e,t){const n=t.tagName;n===A.HEAD?(e.openElements.pop(),e.insertionMode=k):n===A.BODY||n===A.BR||n===A.HTML?me(e,t):n===A.TEMPLATE&&e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagName!==A.TEMPLATE&&e._err(m.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode()):e._err(m.endTagWithoutMatchingOpenElement)}function me(e,t){e.openElements.pop(),e.insertionMode=k,e._processToken(t)}function de(e,t){const n=t.type===o.EOF_TOKEN?m.openElementsLeftAfterEof:m.disallowedContentInNoscriptInHead;e._err(n),e.openElements.pop(),e.insertionMode=R,e._processToken(t)}function he(e,t){e._insertFakeElement(A.BODY),e.insertionMode=S,e._processToken(t)}function Ae(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ue(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Ne(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML)}function Oe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function _e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function fe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function ge(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,u.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ce(e,t){e._appendElement(t,u.HTML),t.ackSelfClosing=!0}function Me(e,t){e._switchToTextParsing(t,o.MODE.RAWTEXT)}function Le(e,t){e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML)}function Re(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,u.HTML)}function Ie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML)}function ke(e,t){const n=t.tagName;switch(n.length){case 1:n===A.I||n===A.S||n===A.B||n===A.U?_e(e,t):n===A.P?Ne(e,t):n===A.A?function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(A.A);n&&(te(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):Ie(e,t);break;case 2:n===A.DL||n===A.OL||n===A.UL?Ne(e,t):n===A.H1||n===A.H2||n===A.H3||n===A.H4||n===A.H5||n===A.H6?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement();const n=e.openElements.currentTagName;n!==A.H1&&n!==A.H2&&n!==A.H3&&n!==A.H4&&n!==A.H5&&n!==A.H6||e.openElements.pop(),e._insertElement(t,u.HTML)}(e,t):n===A.LI||n===A.DD||n===A.DT?function(e,t){e.framesetOk=!1;const n=t.tagName;for(let t=e.openElements.stackTop;t>=0;t--){const o=e.openElements.items[t],r=e.treeAdapter.getTagName(o);let s=null;if(n===A.LI&&r===A.LI?s=A.LI:n!==A.DD&&n!==A.DT||r!==A.DD&&r!==A.DT||(s=r),s){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(r!==A.ADDRESS&&r!==A.DIV&&r!==A.P&&e._isSpecialElement(o))break}e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML)}(e,t):n===A.EM||n===A.TT?_e(e,t):n===A.BR?ge(e,t):n===A.HR?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._appendElement(t,u.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t):n===A.RB?Re(e,t):n===A.RT||n===A.RP?function(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(A.RTC),e._insertElement(t,u.HTML)}(e,t):n!==A.TH&&n!==A.TD&&n!==A.TR&&Ie(e,t);break;case 3:n===A.DIV||n===A.DIR||n===A.NAV?Ne(e,t):n===A.PRE?Oe(e,t):n===A.BIG?_e(e,t):n===A.IMG||n===A.WBR?ge(e,t):n===A.XMP?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,o.MODE.RAWTEXT)}(e,t):n===A.SVG?function(e,t){e._reconstructActiveFormattingElements(),p.adjustTokenSVGAttrs(t),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,u.SVG):e._insertElement(t,u.SVG),t.ackSelfClosing=!0}(e,t):n===A.RTC?Re(e,t):n!==A.COL&&Ie(e,t);break;case 4:n===A.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===A.BASE||n===A.LINK||n===A.META?Ee(e,t):n===A.BODY?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===A.MAIN||n===A.MENU?Ne(e,t):n===A.FORM?function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===A.CODE||n===A.FONT?_e(e,t):n===A.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(A.NOBR)&&(te(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===A.AREA?ge(e,t):n===A.MATH?function(e,t){e._reconstructActiveFormattingElements(),p.adjustTokenMathMLAttrs(t),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,u.MATHML):e._insertElement(t,u.MATHML),t.ackSelfClosing=!0}(e,t):n===A.MENU?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML)}(e,t):n!==A.HEAD&&Ie(e,t);break;case 5:n===A.STYLE||n===A.TITLE?Ee(e,t):n===A.ASIDE?Ne(e,t):n===A.SMALL?_e(e,t):n===A.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==h.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode=H}(e,t):n===A.EMBED?ge(e,t):n===A.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,u.HTML);const n=o.getTokenAttr(t,N.TYPE);n&&n.toLowerCase()===_||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t):n===A.PARAM||n===A.TRACK?Ce(e,t):n===A.IMAGE?function(e,t){t.tagName=A.IMG,ge(e,t)}(e,t):n!==A.FRAME&&n!==A.TBODY&&n!==A.TFOOT&&n!==A.THEAD&&Ie(e,t);break;case 6:n===A.SCRIPT?Ee(e,t):n===A.CENTER||n===A.FIGURE||n===A.FOOTER||n===A.HEADER||n===A.HGROUP||n===A.DIALOG?Ne(e,t):n===A.BUTTON?function(e,t){e.openElements.hasInScope(A.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.framesetOk=!1}(e,t):n===A.STRIKE||n===A.STRONG?_e(e,t):n===A.APPLET||n===A.OBJECT?fe(e,t):n===A.KEYGEN?ge(e,t):n===A.SOURCE?Ce(e,t):n===A.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,o.MODE.RAWTEXT)}(e,t):n===A.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode===H||e.insertionMode===K||e.insertionMode===b||e.insertionMode===B||e.insertionMode===U?e.insertionMode=G:e.insertionMode=x}(e,t):n===A.OPTION?Le(e,t):Ie(e,t);break;case 7:n===A.BGSOUND?Ee(e,t):n===A.DETAILS||n===A.ADDRESS||n===A.ARTICLE||n===A.SECTION||n===A.SUMMARY?Ne(e,t):n===A.LISTING?Oe(e,t):n===A.MARQUEE?fe(e,t):n===A.NOEMBED?Me(e,t):n!==A.CAPTION&&Ie(e,t);break;case 8:n===A.BASEFONT?Ee(e,t):n===A.FRAMESET?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,u.HTML),e.insertionMode=v)}(e,t):n===A.FIELDSET?Ne(e,t):n===A.TEXTAREA?function(e,t){e._insertElement(t,u.HTML),e.skipNextNewLine=!0,e.tokenizer.state=o.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=P}(e,t):n===A.TEMPLATE?Ee(e,t):n===A.NOSCRIPT?e.options.scriptingEnabled?Me(e,t):Ie(e,t):n===A.OPTGROUP?Le(e,t):n!==A.COLGROUP&&Ie(e,t);break;case 9:n===A.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.tokenizer.state=o.MODE.PLAINTEXT}(e,t):Ie(e,t);break;case 10:n===A.BLOCKQUOTE||n===A.FIGCAPTION?Ne(e,t):Ie(e,t);break;default:Ie(e,t)}}function Se(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Pe(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function He(e,t){const n=t.tagName;for(let t=e.openElements.stackTop;t>0;t--){const o=e.openElements.items[t];if(e.treeAdapter.getTagName(o)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(o);break}if(e._isSpecialElement(o))break}}function De(e,t){const n=t.tagName;switch(n.length){case 1:n===A.A||n===A.B||n===A.I||n===A.S||n===A.U?te(e,t):n===A.P?function(e){e.openElements.hasInButtonScope(A.P)||e._insertFakeElement(A.P),e._closePElement()}(e):He(e,t);break;case 2:n===A.DL||n===A.UL||n===A.OL?Se(e,t):n===A.LI?function(e){e.openElements.hasInListItemScope(A.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(A.LI),e.openElements.popUntilTagNamePopped(A.LI))}(e):n===A.DD||n===A.DT?function(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===A.H1||n===A.H2||n===A.H3||n===A.H4||n===A.H5||n===A.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===A.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(A.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===A.EM||n===A.TT?te(e,t):He(e,t);break;case 3:n===A.BIG?te(e,t):n===A.DIR||n===A.DIV||n===A.NAV||n===A.PRE?Se(e,t):He(e,t);break;case 4:n===A.BODY?function(e){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=w)}(e):n===A.HTML?function(e,t){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=w,e._processToken(t))}(e,t):n===A.FORM?function(e){const t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(A.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(A.FORM):e.openElements.remove(n))}(e):n===A.CODE||n===A.FONT||n===A.NOBR?te(e,t):n===A.MAIN||n===A.MENU?Se(e,t):He(e,t);break;case 5:n===A.ASIDE?Se(e,t):n===A.SMALL?te(e,t):He(e,t);break;case 6:n===A.CENTER||n===A.FIGURE||n===A.FOOTER||n===A.HEADER||n===A.HGROUP||n===A.DIALOG?Se(e,t):n===A.APPLET||n===A.OBJECT?Pe(e,t):n===A.STRIKE||n===A.STRONG?te(e,t):He(e,t);break;case 7:n===A.ADDRESS||n===A.ARTICLE||n===A.DETAILS||n===A.SECTION||n===A.SUMMARY||n===A.LISTING?Se(e,t):n===A.MARQUEE?Pe(e,t):He(e,t);break;case 8:n===A.FIELDSET?Se(e,t):n===A.TEMPLATE?pe(e,t):He(e,t);break;case 10:n===A.BLOCKQUOTE||n===A.FIGCAPTION?Se(e,t):He(e,t);break;default:He(e,t)}}function Ke(e,t){e.tmplInsertionModeStackTop>-1?ve(e,t):e.stopped=!0}function Fe(e,t){const n=e.openElements.currentTagName;n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=D,e._processToken(t)):Ue(e,t)}function be(e,t){const n=t.tagName;switch(n.length){case 2:n===A.TD||n===A.TH||n===A.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.TBODY),e.insertionMode=b,e._processToken(t)}(e,t):Ue(e,t);break;case 3:n===A.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.COLGROUP),e.insertionMode=F,e._processToken(t)}(e,t):Ue(e,t);break;case 4:n===A.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,u.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):Ue(e,t);break;case 5:n===A.TABLE?function(e,t){e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===A.STYLE?Ee(e,t):n===A.TBODY||n===A.TFOOT||n===A.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,u.HTML),e.insertionMode=b}(e,t):n===A.INPUT?function(e,t){const n=o.getTokenAttr(t,N.TYPE);n&&n.toLowerCase()===_?e._appendElement(t,u.HTML):Ue(e,t),t.ackSelfClosing=!0}(e,t):Ue(e,t);break;case 6:n===A.SCRIPT?Ee(e,t):Ue(e,t);break;case 7:n===A.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,u.HTML),e.insertionMode=K}(e,t):Ue(e,t);break;case 8:n===A.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,u.HTML),e.insertionMode=F}(e,t):n===A.TEMPLATE?Ee(e,t):Ue(e,t);break;default:Ue(e,t)}}function Be(e,t){const n=t.tagName;n===A.TABLE?e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode()):n===A.TEMPLATE?pe(e,t):n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&n!==A.TBODY&&n!==A.TD&&n!==A.TFOOT&&n!==A.TH&&n!==A.THEAD&&n!==A.TR&&Ue(e,t)}function Ue(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function xe(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ue(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function Ge(e,t){e.openElements.currentTagName===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=H,e._processToken(t))}function ye(e,t){const n=t.tagName;n===A.HTML?ke(e,t):n===A.OPTION?(e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e._insertElement(t,u.HTML)):n===A.OPTGROUP?(e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e.openElements.currentTagName===A.OPTGROUP&&e.openElements.pop(),e._insertElement(t,u.HTML)):n===A.INPUT||n===A.KEYGEN||n===A.TEXTAREA||n===A.SELECT?e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),n!==A.SELECT&&e._processToken(t)):n!==A.SCRIPT&&n!==A.TEMPLATE||Ee(e,t)}function we(e,t){const n=t.tagName;if(n===A.OPTGROUP){const t=e.openElements.items[e.openElements.stackTop-1],n=t&&e.treeAdapter.getTagName(t);e.openElements.currentTagName===A.OPTION&&n===A.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===A.OPTGROUP&&e.openElements.pop()}else n===A.OPTION?e.openElements.currentTagName===A.OPTION&&e.openElements.pop():n===A.SELECT&&e.openElements.hasInSelectScope(A.SELECT)?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode()):n===A.TEMPLATE&&pe(e,t)}function ve(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function Ye(e,t){e.insertionMode=S,e._processToken(t)}function We(e,t){e.insertionMode=S,e._processToken(t)}e.exports=class{constructor(e){this.options=c(O,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&T.install(this,i),this.options.onParseError&&T.install(this,a,{onParseError:this.options.onParseError})}parse(e){const t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t}parseFragment(e,t){t||(t=this.treeAdapter.createElement(A.TEMPLATE,u.HTML,[]));const n=this.treeAdapter.createElement("documentmock",u.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===A.TEMPLATE&&this._pushTmplInsertionMode(y),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);const o=this.treeAdapter.getFirstChild(n),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(o,r),r}_bootstrap(e,t){this.tokenizer=new o(this.options),this.stopped=!1,this.insertionMode=C,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new r(this.document,this.treeAdapter),this.activeFormattingElements=new s(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(t.type===o.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===o.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}}runParsingLoopForCurrentChunk(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){const e=this.pendingScript;return this.pendingScript=null,void t(e)}e&&e()}_setupTokenizerCDATAMode(){const e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==u.HTML&&!this._isIntegrationPoint(e)}_switchToTextParsing(e,t){this._insertElement(e,u.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=P}switchToPlaintextParsing(){this.insertionMode=P,this.originalInsertionMode=S,this.tokenizer.state=o.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===A.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===u.HTML){const e=this.treeAdapter.getTagName(this.fragmentContext);e===A.TITLE||e===A.TEXTAREA?this.tokenizer.state=o.MODE.RCDATA:e===A.STYLE||e===A.XMP||e===A.IFRAME||e===A.NOEMBED||e===A.NOFRAMES||e===A.NOSCRIPT?this.tokenizer.state=o.MODE.RAWTEXT:e===A.SCRIPT?this.tokenizer.state=o.MODE.SCRIPT_DATA:e===A.PLAINTEXT&&(this.tokenizer.state=o.MODE.PLAINTEXT)}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",o=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,n,o)}_attachElementToTree(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)}_insertFakeElement(e){const t=this.treeAdapter.createElement(e,u.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,u.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(A.HTML,u.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)}_insertCharacters(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_shouldProcessTokenInForeignContent(e){const t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;const n=this.treeAdapter.getNamespaceURI(t);if(n===u.HTML)return!1;if(this.treeAdapter.getTagName(t)===A.ANNOTATION_XML&&n===u.MATHML&&e.type===o.START_TAG_TOKEN&&e.tagName===A.SVG)return!1;const r=e.type===o.CHARACTER_TOKEN||e.type===o.NULL_CHARACTER_TOKEN||e.type===o.WHITESPACE_CHARACTER_TOKEN;return!((e.type===o.START_TAG_TOKEN&&e.tagName!==A.MGLYPH&&e.tagName!==A.MALIGNMARK||r)&&this._isIntegrationPoint(t,u.MATHML)||(e.type===o.START_TAG_TOKEN||r)&&this._isIntegrationPoint(t,u.HTML)||e.type===o.EOF_TOKEN)}_processToken(e){Q[this.insertionMode][e.type](this,e)}_processTokenInBodyMode(e){Q[S][e.type](this,e)}_processTokenInForeignContent(e){e.type===o.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===o.NULL_CHARACTER_TOKEN?function(e,t){t.chars=d.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===o.WHITESPACE_CHARACTER_TOKEN?ie(this,e):e.type===o.COMMENT_TOKEN?re(this,e):e.type===o.START_TAG_TOKEN?function(e,t){if(p.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==u.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{const n=e._getAdjustedCurrentElement(),o=e.treeAdapter.getNamespaceURI(n);o===u.MATHML?p.adjustTokenMathMLAttrs(t):o===u.SVG&&(p.adjustTokenSVGTagName(t),p.adjustTokenSVGAttrs(t)),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,o):e._insertElement(t,o),t.ackSelfClosing=!0}}(this,e):e.type===o.END_TAG_TOKEN&&function(e,t){for(let n=e.openElements.stackTop;n>0;n--){const o=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(o)===u.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(o).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(o);break}}}(this,e)}_processInputToken(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===o.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(m.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(e,t){const n=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e),r=this.treeAdapter.getAttrList(e);return p.isIntegrationPoint(n,o,r,t)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.length;if(e){let t=e,n=null;do{if(t--,n=this.activeFormattingElements.entries[t],n.type===s.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(let o=t;o<e;o++)n=this.activeFormattingElements.entries[o],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=B}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(A.P),this.openElements.popUntilTagNamePopped(A.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop,t=!1;e>=0;e--){let n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));const o=this.treeAdapter.getTagName(n),r=V[o];if(r){this.insertionMode=r;break}if(!(t||o!==A.TD&&o!==A.TH)){this.insertionMode=U;break}if(!t&&o===A.HEAD){this.insertionMode=R;break}if(o===A.SELECT){this._resetInsertionModeForSelect(e);break}if(o===A.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(o===A.HTML){this.insertionMode=this.headElement?k:L;break}if(t){this.insertionMode=S;break}}}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.items[t],n=this.treeAdapter.getTagName(e);if(n===A.TEMPLATE)break;if(n===A.TABLE)return void(this.insertionMode=G)}this.insertionMode=x}_pushTmplInsertionMode(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(e){const t=this.treeAdapter.getTagName(e);return t===A.TABLE||t===A.TBODY||t===A.TFOOT||t===A.THEAD||t===A.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const e={parent:null,beforeElement:null};for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t],o=this.treeAdapter.getTagName(n),r=this.treeAdapter.getNamespaceURI(n);if(o===A.TEMPLATE&&r===u.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(o===A.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_fosterParentText(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)}_isSpecialElement(e){const t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return h.SPECIAL_ELEMENTS[n][t]}}},7453:(e,t,n)=>{const o=n(1426),r=o.TAG_NAMES,s=o.NAMESPACES;function i(e){switch(e.length){case 1:return e===r.P;case 2:return e===r.RB||e===r.RP||e===r.RT||e===r.DD||e===r.DT||e===r.LI;case 3:return e===r.RTC;case 6:return e===r.OPTION;case 8:return e===r.OPTGROUP}return!1}function a(e){switch(e.length){case 1:return e===r.P;case 2:return e===r.RB||e===r.RP||e===r.RT||e===r.DD||e===r.DT||e===r.LI||e===r.TD||e===r.TH||e===r.TR;case 3:return e===r.RTC;case 5:return e===r.TBODY||e===r.TFOOT||e===r.THEAD;case 6:return e===r.OPTION;case 7:return e===r.CAPTION;case 8:return e===r.OPTGROUP||e===r.COLGROUP}return!1}function T(e,t){switch(e.length){case 2:if(e===r.TD||e===r.TH)return t===s.HTML;if(e===r.MI||e===r.MO||e===r.MN||e===r.MS)return t===s.MATHML;break;case 4:if(e===r.HTML)return t===s.HTML;if(e===r.DESC)return t===s.SVG;break;case 5:if(e===r.TABLE)return t===s.HTML;if(e===r.MTEXT)return t===s.MATHML;if(e===r.TITLE)return t===s.SVG;break;case 6:return(e===r.APPLET||e===r.OBJECT)&&t===s.HTML;case 7:return(e===r.CAPTION||e===r.MARQUEE)&&t===s.HTML;case 8:return e===r.TEMPLATE&&t===s.HTML;case 13:return e===r.FOREIGN_OBJECT&&t===s.SVG;case 14:return e===r.ANNOTATION_XML&&t===s.MATHML}return!1}e.exports=class{constructor(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}_indexOf(e){let t=-1;for(let n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t}_isInTemplate(){return this.currentTagName===r.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===s.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()}insertAfter(e,t){const n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(e){for(;this.stackTop>-1;){const t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===s.HTML)break}}popUntilElementPopped(e){for(;this.stackTop>-1;){const t=this.current;if(this.pop(),t===e)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===r.H1||e===r.H2||e===r.H3||e===r.H4||e===r.H5||e===r.H6&&t===s.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===r.TD||e===r.TH&&t===s.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==r.TABLE&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==r.TBODY&&this.currentTagName!==r.TFOOT&&this.currentTagName!==r.THEAD&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==r.TR&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}remove(e){for(let t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const e=this.items[1];return e&&this.treeAdapter.getTagName(e)===r.BODY?e:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e);return--t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.currentTagName===r.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===s.HTML)return!0;if(T(n,o))return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===r.H1||t===r.H2||t===r.H3||t===r.H4||t===r.H5||t===r.H6)&&n===s.HTML)return!0;if(T(t,n))return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===s.HTML)return!0;if((n===r.UL||n===r.OL)&&o===s.HTML||T(n,o))return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===s.HTML)return!0;if(n===r.BUTTON&&o===s.HTML||T(n,o))return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===s.HTML){if(n===e)return!0;if(n===r.TABLE||n===r.TEMPLATE||n===r.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===s.HTML){if(t===r.TBODY||t===r.THEAD||t===r.TFOOT)return!0;if(t===r.TABLE||t===r.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===s.HTML){if(n===e)return!0;if(n!==r.OPTION&&n!==r.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;i(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;a(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;i(this.currentTagName)&&this.currentTagName!==e;)this.pop()}}}}]);