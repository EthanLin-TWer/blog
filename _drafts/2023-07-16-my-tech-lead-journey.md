---
title: Tech Lead从入门到放弃（一）：TL真有50%时间写代码？
category: career, tech-lead
---

## Table of content 

* TL的KPI是什么？TL “Own”什么？你的TL工作方法论/框架是什么？
  * TL对技术方案（pair SA）、交付成果（pair SM/DP）负责。再往大了说，熊节说是PM把这项目交给你TA就不用操心别的，因为在BA/UX/PM/PO不到位的情况下我理解TL也要把这部分活统统扛起来，反正就是个包工头，有你项目就一定能交付
  * 梳理一下现有的方法论和框架（熊节的、TW的Tech Lead之路等），糅合成自己能用的东西
* 常见的职责和工作办法
  * 最近6周花费的时间和占比
  * 交付成果：开发流程、风险管理、需求范围管理、团队梯队、leverage机制
  * 技术方案：方案质量、NFR、代码质量、集成点管理、重构、重难点攻关主力等。
* 一些常见问题
  * 各种理论、方法论？我该听谁的、如何是好？《TL之路里头》还是有东西太虚了。并不是所有的图表都是好的，太虚就是太虚，烂表就是烂表，要关注xy轴、采样标准、指标是否真能反映问题、分类是否正交等。另外有一些理论框架，比如二维四象限，之类的再留意留意，就是唬人，有的二维要么不正交，要么不好判断，要么不是根本指标（有超过两个以上的维度或指标），根本没有实用价值。——重点在于建立起自己的思考框架：职责、优先级。不要被理论吓倒，能用上的才是最好的
  * 控制Or激励？与定期检查冲突吗？
  * 民主Or独裁？
  * 管理究竟有何价值？所谓提升团队效能，如何衡量？管理的价值又如何衡量？好像只有一个解答，就是做事先做人。管理风格等于做人风格。管理成果等于做人成果。但是这样说又太虚了。
  * 如何管理自己的时间？没有学习技术或编码的时间、担心降低自己的长期竞争力怎么办？
    * 为何一定要写代码？只有做一个story，只能感受到全流程、架构和测试策略是否适用；没有调查就没有发言权；切实了解团队能力和代码质量；
    * 写什么样的代码？项目的架构代码、底层核心代码（少有这样的核心）（前两者一般在项目启动前期有机会写）、故事全流程代码、小巧无依赖的Story、想学习技术栈的Story等；
    * TL写代码时间减少，如何保持技术输出？掌握新技术直到足以使你保持技术判断力的程度（方案选择标准是什么、CR建议针对性、问题定位、能做工作量评估）、保持技术关注度（以能达到选用不同的技术栈完成不同的项目）以提升技术见识和品位，做出必要的技术创新
    * 如何挤出时间来？世纪难题。加班，使自己的学习方向与项目方向一致，则加班=学习精进；
  * 影响力：职权影响力与非职权影响力。也是🍚说服从组织安排、服从领导安排我才意识到，原来TL在职权上也算半个领导？

## TL的KPI是什么？

也许是由于这个画像太完美，以至于刚刚戴上这顶帽子的时候我感受到了深深的挫败感和自卑感。我从第二个项目的前TL那里接过这顶帽子时，我就从他言谈里发现他早不想戴这顶帽子了，我一时间还非常困惑：Leading多爽多风光啊还有人不爱干这活？直到我真正接手这个工作时，我才发现这TM跟我想的一点都不一样：当时我接手的团队有15名左右的BE开发，TL每个迭代的一个重要任务，就是要提前review未来一个迭代70个点——是我现在的团队三个迭代才能干完的活——的技术设计，确保团队开始迭代开发时风险最小化。为了完成这个工作，我发现我的技术储备不够用了，每天都要补充很多知识，不仅如此，在准备技术设计的过程中还有很多其他不得不面对的问题：系统业务技术复杂度都不低、需求和UX的ready时间都很晚留给技术设计的时间也不多、团队适逢WoW变革时期大家都不太清楚自己该干啥、经常还有紧急的production issue需要T+0响应……这一套操作下来，我已经感觉精疲力尽，每天早上起床这70个点的技术设计就成了让我焦虑的KPI。许多TL文章会讲的什么TL同时要保证交付质量、风险管理、团队梯队管理、干系人管理啊，什么乱七八糟的，不是我不想做，而是根本没时间做。本来美好的TL憧憬，忽然一下跌倒了谷底，一开始的每一天我都在焦虑中度过，想着能苟一天是一天……

## 读书笔记

TL要管的事情方方面面。下面是TL之路的建议，回头需要按照一定的框架给它们merge起来：

* 技术决策。从高层到底层涉及的层面分别是：
  * 编程语言、平台、技术栈、IDE等（仅项目启动阶段可能发生，pair架构办/架构师/安全部门）
  * 高层级进程间架构（组件/微服务数量与职责划分）、部署结构、数据迁移策略、整体测试策略等（发生频率次之，3-6个月的粒度）
    * 集成架构、集成点设计、集成测试
  * 进程内架构、单体测试策略等（每个迭代均可能发生）
  * 团队能力、技术落地、CI/CD、重构等（每个迭代均可能发生）
  * 现有系统设计的限制、约束（较多发生在遗留项目上）
* 开发流程。算是支撑迭代内高效交付管理的一部分：
  * 需求：业务价值是否articulate？业务方案是否高效？验收标准是否清晰？AC写得好不好？
  * 设计：是否影响全局设计（涉及新增组件、改交互方式、引入新架构元素）？局部设计是怎样？数据表如何设计？需要增加什么API？
  * 实现：团队是否在结对编程？是否做TDD？小步提交做得咋样？任务分解做得如何？提交规范有无统一？代码风格？快捷键是否统一？本地开发方便否？
  * 测试：测试策略是否有效？非功能性测试有无考虑？e2e测试是否合适？性能测试呢？API测试？feature toggle/环境相关的代码是否都有测试覆盖？
  * 集成CI/CD：CI是否有效？有无随机（时间、运行环境、mock等）失败？环境提升是否有效？
  * 验收：KO流程是否高效？DC流程是否足够轻量但高效？代码部署到什么环境引入QA测试？什么环境做UAT？环境之间稳定性如何？环境之间有何差异？
* 团队不同角色协作。大多数场景下，这是在敏捷的背景下开展合作：
  * 常规敏捷实践：敏捷仪式（站会/Showcase/Retro/Grooming/IPM等）发生频率如何？是否有效？有无部署流程？有无support rotation？技术债有没有管理流动起来？
  * 分布式团队：敏捷实践如何裁剪？比如PO与Scrum团队异地，Grooming/Retro如何操作？Dev团队异地，Code Review如何操作？
  * 三方团队：若有其他Vendor的开发团队且代码质量不佳，CR如何进行？开发职责如何分工？知识管理、知识共享如何进行？若UX团队是Vendor不单对Scrum团队负责，产出如何管理？
* 风险管理。风险指的是未来可能会发生、且一旦发生会对项目造成负面影响的事情。视风险种类、概率、危害程度不同，处理的方式可能也有所不同：
  * 风险种类。从需求到设计到上线过程中，前期到后期的风险可能有：
    * 一句话需求的风险、引入新技术的风险（没人熟、安全审批、回滚失败等风险）、数据安全风险、集成点CAP风险等
    * 交付过程的进度风险、质量风险、团队成熟度风险、人员流动风险等
    * 业务增长带来的上线后性能风险等
  * 风险处理手段。由于风险是一定条件下产生一定危害的可能性，所以管理风险其实就是一个降低概率and/or降低伤害程度的、兼顾实施成本的决策过程
    * Avoid：降低概率。不做或少做可能导致风险发生的事情。
    * Contain：降低伤害。通过一些预先措施/付出一些成本，让问题发生时造成的伤害/损失尽可能减少、或者恢复成本变得低从而降低伤害
    * Mitigate：同时降低概率和伤害。其实就是上面两个同时实施
    * Evade：假装没看到。发生就发生了，但是没发生就赚了，一般只适用于那些伤害较小的风险
* 团队组建。当然力量最大就是挑选一堆Senior且让他们磨合，但是除非你项目及其重要或者公司相当有钱，不然一般不会这么操作。那么搭配就是必须的
  * 成熟度搭配。一般来说，开发团队有1:2:4的TL-Sr-Jr配比是比较健康的（财务和梯队比较健康）
  * 技能搭配。如果你能找到足够多的全栈是最好，没有的话，确保每个端（FE/BE/DevOps）都有1名Sr开发，并最好至少配1名backup以避免单点依赖
  * 性格搭配。性格不同，适用的任务类型就不同，细心的人可以管上线，社牛管沟通，极客负责技术攻关；此外，思维和视角上的不同常能带来有益的碰撞
  * 项目经验。如果有些项目很吃经验，比如遗留项目，或者流程非常复杂的项目，那么留一两个有项目/代码经验的人也很重要
* 团队梯队管理。
  * 构建影响力。TL应该善于利用团队的组建期和风暴期，通过快速学习、输出有价值观点、收敛一些讨论并给出方向的方式，在团队内树立起威信和影响力
  * 分配任务。分配任务时主要应该考虑任务难度与能力大概匹配（最好是约≥50%舒适、30%挑战，如此成长与完成度兼得），可能情况下考虑个人诉求
  * 正确委托。分配完任务后，每个人需要的支持和TL需要介入的方式与程度是不同的。情景领导力（Situational Leadership）提供的模型就很可参考
  * 主动性调动。除了正确的任务分配，让同事知道目标而自己决定实施路径、让同事自己寻找工作方向并找自己验证，是激发主动性的好办法
* 多角色协作。作为TL负责的两大支柱之一的“交付结果”的实现，呈现在团队内部就必然需要与多个角色协作以完成这个目标。一个典型的Scrum团队中：
  * PM/SM。PM负责提出人员梯队、交付计划、交付风险、交付进度等方面的风险问题，而TL则负责对这些方面进行深度分析并产出行动计划，以保证交付
  * PO。PO负责产出USM故事地图、需求和优先级，而TL的职责则是校验这些需求、方案、优先级的合理性，并给出可行方案、估点及基于资源限制的建议
  * BA。BA的输入是PO的USM、PRD，输出则是故事卡的拆分、业务方案和AC，TL的职责就是从技术角度和INVEST原则给出拆卡建议、技术方案、AC反馈
  * QA。QA的产出是测试报告和质量数据，TL的职责是与QA共同分析质量数据，找到提升开发质量的action，同时给予QA迭代中的测试及能力支持等
* 干系人管理。UX、DP如何协作沟通？
* 

## 如何管理自己的时间 

这块的时间管理框架是什么？有两种提法，一种是按紧急/重要四象限来，一种是按照时间分类来。时间分类的做法是这样：

* 老板分配的任务：关乎你的KPI，你必须做。当然，未必老板发的任务都是KPI相关（那不成人身依附了么），要判断
* 同级同事的任务：一般也需要尽快响应。比如作为TL，响应PO、Core Team、其他团队的请求等，哪怕转交也尽量第一时间回
* 下级寻求帮助/决策的任务：这里的处理方法就比较多了。对于TL来说，一般是指团队内事务。这里再按照尚奇的主动性程度分：
  * L1 等待着被告知要做什么事：要么就是要甩锅，要么就是态度不好，直接开骂，让他自己去搞清楚
  * L2 主动询问要做什么事：可以coaching一下，如何分析要做的事情及优先级，然后下次如果还问就开骂
  * L3 已经开始行动，但可能需要一些支持：帮助他定位到合适的人，如FO/ST。如需要自己决策，则参与
  * L4 不仅行动起来，而且对行动计划有所建议：帮助review、给予反馈，帮助调整方向，并确定下次catchup时间及输入
  * L5 有条不紊地安排行动、解决困难，仅做汇报：听取汇报，给予更高层次的建议
  * 总体来说，TL在使用FO这样的leverage机制时，必须根据成员成熟度决定好行动计划、时间表、实施进程的验收节点，主动管理下属的工作进程。在这种情况下，这部分团队管理的时间只能说是尽量优化使其高效，并不能完全砍去
  * 另外，作为领导，你如果没法亲自高效完成下两级成员都能完成的事情，那么你就做不好实质性的领导
* 自己可以分配的时间：应该投入在对团队最重要、最有价值的事情上

此外，应该还有一些指导原则：
* Optional的会直接不去，会后看会议纪要输出的信息就行，除了少数情况你判断你必须去之外。
* 问了之后还是没有详细agenda、你不知道你要做啥输入的会议，直接提出建议并拒绝。
* 价值判断，实则也是个玄学问题，依赖于TL自己的个人风格了。很有意思的。
* 一些例子：
  * 紧急重要：下个迭代的故事准备、技术方案设计和拉通、领导安排任务 —— 马上做，同时采用不紧急重要的buffer来长远解决这些隐患
  * 紧急不重要：线上事故、迭代交付风险、多角色协作（协调其他团队问询、CT沟通） —— 马上响应，但工作可分派或委托
  * 不紧急重要：测试策略（提高质量）、团队能力建设（提高效率）、开发流程优化（团队效率提升）、风险管理 —— 争取时间按优先级逐步实施
