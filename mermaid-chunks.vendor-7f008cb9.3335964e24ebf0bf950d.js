"use strict";(self.webpackChunkethan_blog=self.webpackChunkethan_blog||[]).push([[106],{79704:(e,t,n)=>{const o=n(81224);e.exports=class extends o{constructor(e,t){super(e),this.posTracker=null,this.onParseError=t.onParseError}_setErrorLocation(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset}_reportError(e){const t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)}_getOverriddenMethods(e){return{_err(t){e._reportError(t)}}}}},37304:(e,t,n)=>{const o=n(79704),s=n(86669),r=n(52690),i=n(81224);e.exports=class extends o{constructor(e,t){super(e,t),this.opts=t,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(e,t){return{_bootstrap(n,o){t._bootstrap.call(this,n,o),i.install(this.tokenizer,s,e.opts),i.install(this.tokenizer,r)},_processInputToken(n){e.ctLoc=n.location,t._processInputToken.call(this,n)},_err(t,n){e.locBeforeToken=n&&n.beforeToken,e._reportError(t)}}}}},21778:(e,t,n)=>{const o=n(79704),s=n(71894),r=n(81224);e.exports=class extends o{constructor(e,t){super(e,t),this.posTracker=r.install(e,s),this.lastErrOffset=-1}_reportError(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(e))}}},86669:(e,t,n)=>{const o=n(79704),s=n(21778),r=n(81224);e.exports=class extends o{constructor(e,t){super(e,t);const n=r.install(e.preprocessor,s,t);this.posTracker=n.posTracker}}},28829:(e,t,n)=>{const o=n(81224);e.exports=class extends o{constructor(e,t){super(e),this.onItemPop=t.onItemPop}_getOverriddenMethods(e,t){return{pop(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement(){for(let t=this.stackTop;t>0;t--)e.onItemPop(this.items[t]);t.popAllUpToHtmlElement.call(this)},remove(n){e.onItemPop(this.current),t.remove.call(this,n)}}}}},94632:(e,t,n)=>{const o=n(81224),s=n(98614),r=n(52690),i=n(28829),a=n(51426).TAG_NAMES;e.exports=class extends o{constructor(e){super(e),this.parser=e,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(e){let t=null;this.lastStartTagToken&&(t=Object.assign({},this.lastStartTagToken.location),t.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,o=this.treeAdapter.getTagName(e),r={};t.type===s.END_TAG_TOKEN&&o===t.tagName?(r.endTag=Object.assign({},n),r.endLine=n.endLine,r.endCol=n.endCol,r.endOffset=n.endOffset):(r.endLine=n.startLine,r.endCol=n.startCol,r.endOffset=n.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}_getOverriddenMethods(e,t){return{_bootstrap(n,s){t._bootstrap.call(this,n,s),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;const a=o.install(this.tokenizer,r);e.posTracker=a.posTracker,o.install(this.openElements,i,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop(n){t._runParsingLoop.call(this,n);for(let t=this.openElements.stackTop;t>=0;t--)e._setEndLocation(this.openElements.items[t],e.currentToken)},_processTokenInForeignContent(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===s.END_TAG_TOKEN&&(n.tagName===a.HTML||n.tagName===a.BODY&&this.openElements.hasInScope(a.BODY)))for(let t=this.openElements.stackTop;t>=0;t--){const o=this.openElements.items[t];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType(e){t._setDocumentType.call(this,e);const n=this.treeAdapter.getChildNodes(this.document),o=n.length;for(let t=0;t<o;t++){const o=n[t];if(this.treeAdapter.isDocumentTypeNode(o)){this.treeAdapter.setNodeSourceCodeLocation(o,e.location);break}}},_attachElementToTree(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement(n,o){e.lastStartTagToken=n,t._appendElement.call(this,n,o)},_insertElement(n,o){e.lastStartTagToken=n,t._insertElement.call(this,n,o)},_insertTemplate(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n);const o=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(o,null)},_insertFakeRootElement(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(e,n){t._appendCommentNode.call(this,e,n);const o=this.treeAdapter.getChildNodes(n),s=o[o.length-1];this.treeAdapter.setNodeSourceCodeLocation(s,e.location)},_findFosterParentingLocation(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters(n){t._insertCharacters.call(this,n);const o=this._shouldFosterParentOnInsertion(),s=o&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,r=this.treeAdapter.getChildNodes(s),i=o&&e.lastFosterParentingLocation.beforeElement?r.indexOf(e.lastFosterParentingLocation.beforeElement)-1:r.length-1,a=r[i];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:e,endCol:t,endOffset:o}=n.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:e,endCol:t,endOffset:o})}else this.treeAdapter.setNodeSourceCodeLocation(a,n.location)}}}}},52690:(e,t,n)=>{const o=n(81224),s=n(98614),r=n(71894);e.exports=class extends o{constructor(e){super(e),this.tokenizer=e,this.posTracker=o.install(e.preprocessor,r),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const n={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.ctLoc},_createCharacterToken(n,o){t._createCharacterToken.call(this,n,o),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const n=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=n.startLine,this.currentCharacterToken.location.endCol=n.startCol,this.currentCharacterToken.location.endOffset=n.startOffset),this.currentToken.type===s.EOF_TOKEN?(n.endLine=n.startLine,n.endCol=n.startCol,n.endOffset=n.startOffset):(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col+1,n.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const n=this.currentCharacterToken&&this.currentCharacterToken.location;n&&-1===n.endOffset&&(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col,n.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(s.MODE).forEach((o=>{const r=s.MODE[o];n[r]=function(n){e.ctLoc=e._getCurrentLocation(),t[r].call(this,n)}})),n}}},71894:(e,t,n)=>{const o=n(81224);e.exports=class extends o{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const n=this.pos+1,o=this.html[n];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=n),("\n"===o||"\r"===o&&"\n"!==this.html[n+1])&&(e.isEol=!0),e.col=n-e.lineStartPos+1,e.offset=e.droppedBufferSize+n,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const n=this.pos;t.dropParsedChunk.call(this);const o=n-this.pos;e.lineStartPos-=o,e.droppedBufferSize+=o,e.offset=e.droppedBufferSize+this.pos}}}}},2378:e=>{class t{constructor(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}_getNoahArkConditionCandidates(e){const n=[];if(this.length>=3){const o=this.treeAdapter.getAttrList(e).length,s=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e);for(let e=this.length-1;e>=0;e--){const i=this.entries[e];if(i.type===t.MARKER_ENTRY)break;const a=i.element,T=this.treeAdapter.getAttrList(a);this.treeAdapter.getTagName(a)===s&&this.treeAdapter.getNamespaceURI(a)===r&&T.length===o&&n.push({idx:e,attrs:T})}}return n.length<3?[]:n}_ensureNoahArkCondition(e){const t=this._getNoahArkConditionCandidates(e);let n=t.length;if(n){const o=this.treeAdapter.getAttrList(e),s=o.length,r=Object.create(null);for(let e=0;e<s;e++){const t=o[e];r[t.name]=t.value}for(let e=0;e<s;e++)for(let o=0;o<n;o++){const s=t[o].attrs[e];if(r[s.name]!==s.value&&(t.splice(o,1),n--),t.length<3)return}for(let e=n-1;e>=2;e--)this.entries.splice(t[e].idx,1),this.length--}}insertMarker(){this.entries.push({type:t.MARKER_ENTRY}),this.length++}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.push({type:t.ELEMENT_ENTRY,element:e,token:n}),this.length++}insertElementAfterBookmark(e,n){let o=this.length-1;for(;o>=0&&this.entries[o]!==this.bookmark;o--);this.entries.splice(o+1,0,{type:t.ELEMENT_ENTRY,element:e,token:n}),this.length++}removeEntry(e){for(let t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const e=this.entries.pop();if(this.length--,e.type===t.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(e){for(let n=this.length-1;n>=0;n--){const o=this.entries[n];if(o.type===t.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(o.element)===e)return o}return null}getElementEntry(e){for(let n=this.length-1;n>=0;n--){const o=this.entries[n];if(o.type===t.ELEMENT_ENTRY&&o.element===e)return o}return null}}t.MARKER_ENTRY="MARKER_ENTRY",t.ELEMENT_ENTRY="ELEMENT_ENTRY",e.exports=t},26839:(e,t,n)=>{const o=n(98614),s=n(57453),r=n(2378),i=n(94632),a=n(37304),T=n(81224),E=n(46245),c=n(21535),l=n(21028),p=n(21859),m=n(48780),h=n(95309),_=n(51426),A=_.TAG_NAMES,O=_.NAMESPACES,N=_.ATTRS,d={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:E},u="hidden",C=8,g=3,M="INITIAL_MODE",L="BEFORE_HTML_MODE",f="BEFORE_HEAD_MODE",R="IN_HEAD_MODE",k="IN_HEAD_NO_SCRIPT_MODE",I="AFTER_HEAD_MODE",P="IN_BODY_MODE",H="TEXT_MODE",S="IN_TABLE_MODE",D="IN_TABLE_TEXT_MODE",K="IN_CAPTION_MODE",F="IN_COLUMN_GROUP_MODE",B="IN_TABLE_BODY_MODE",U="IN_ROW_MODE",b="IN_CELL_MODE",G="IN_SELECT_MODE",Y="IN_SELECT_IN_TABLE_MODE",x="IN_TEMPLATE_MODE",v="AFTER_BODY_MODE",y="IN_FRAMESET_MODE",W="AFTER_FRAMESET_MODE",w="AFTER_AFTER_BODY_MODE",z="AFTER_AFTER_FRAMESET_MODE",X={[A.TR]:U,[A.TBODY]:B,[A.THEAD]:B,[A.TFOOT]:B,[A.CAPTION]:K,[A.COLGROUP]:F,[A.TABLE]:S,[A.BODY]:P,[A.FRAMESET]:y},V={[A.CAPTION]:S,[A.COLGROUP]:S,[A.TBODY]:S,[A.TFOOT]:S,[A.THEAD]:S,[A.COL]:F,[A.TR]:B,[A.TD]:U,[A.TH]:U},j={[M]:{[o.CHARACTER_TOKEN]:Te,[o.NULL_CHARACTER_TOKEN]:Te,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:function(e,t){e._setDocumentType(t);const n=t.forceQuirks?_.DOCUMENT_MODE.QUIRKS:l.getDocumentMode(t);l.isConforming(t)||e._err(m.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=L},[o.START_TAG_TOKEN]:Te,[o.END_TAG_TOKEN]:Te,[o.EOF_TOKEN]:Te},[L]:{[o.CHARACTER_TOKEN]:Ee,[o.NULL_CHARACTER_TOKEN]:Ee,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?(e._insertElement(t,O.HTML),e.insertionMode=f):Ee(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n!==A.HTML&&n!==A.HEAD&&n!==A.BODY&&n!==A.BR||Ee(e,t)},[o.EOF_TOKEN]:Ee},[f]:{[o.CHARACTER_TOKEN]:ce,[o.NULL_CHARACTER_TOKEN]:ce,[o.WHITESPACE_CHARACTER_TOKEN]:ne,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.HEAD?(e._insertElement(t,O.HTML),e.headElement=e.openElements.current,e.insertionMode=R):ce(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HEAD||n===A.BODY||n===A.HTML||n===A.BR?ce(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:ce},[R]:{[o.CHARACTER_TOKEN]:me,[o.NULL_CHARACTER_TOKEN]:me,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:le,[o.END_TAG_TOKEN]:pe,[o.EOF_TOKEN]:me},[k]:{[o.CHARACTER_TOKEN]:he,[o.NULL_CHARACTER_TOKEN]:he,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.BASEFONT||n===A.BGSOUND||n===A.HEAD||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.STYLE?le(e,t):n===A.NOSCRIPT?e._err(m.nestedNoscriptInHead):he(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.NOSCRIPT?(e.openElements.pop(),e.insertionMode=R):n===A.BR?he(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:he},[I]:{[o.CHARACTER_TOKEN]:_e,[o.NULL_CHARACTER_TOKEN]:_e,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:oe,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.BODY?(e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=P):n===A.FRAMESET?(e._insertElement(t,O.HTML),e.insertionMode=y):n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.SCRIPT||n===A.STYLE||n===A.TEMPLATE||n===A.TITLE?(e._err(m.abandonedHeadElementChild),e.openElements.push(e.headElement),le(e,t),e.openElements.remove(e.headElement)):n===A.HEAD?e._err(m.misplacedStartTagForHeadElement):_e(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.BODY||n===A.HTML||n===A.BR?_e(e,t):n===A.TEMPLATE?pe(e,t):e._err(m.endTagWithoutMatchingOpenElement)},[o.EOF_TOKEN]:_e},[P]:{[o.CHARACTER_TOKEN]:Oe,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:Ie,[o.END_TAG_TOKEN]:De,[o.EOF_TOKEN]:Ke},[H]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ie,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:ne,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:ne,[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode},[o.EOF_TOKEN]:function(e,t){e._err(m.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}},[S]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:Be,[o.END_TAG_TOKEN]:Ue,[o.EOF_TOKEN]:Ke},[D]:{[o.CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t)},[o.COMMENT_TOKEN]:Ge,[o.DOCTYPE_TOKEN]:Ge,[o.START_TAG_TOKEN]:Ge,[o.END_TAG_TOKEN]:Ge,[o.EOF_TOKEN]:Ge},[K]:{[o.CHARACTER_TOKEN]:Oe,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TD||n===A.TFOOT||n===A.TH||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=S,e._processToken(t)):Ie(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=S,n===A.TABLE&&e._processToken(t)):n!==A.BODY&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&n!==A.TBODY&&n!==A.TD&&n!==A.TFOOT&&n!==A.TH&&n!==A.THEAD&&n!==A.TR&&De(e,t)},[o.EOF_TOKEN]:Ke},[F]:{[o.CHARACTER_TOKEN]:Ye,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.COL?(e._appendElement(t,O.HTML),t.ackSelfClosing=!0):n===A.TEMPLATE?le(e,t):Ye(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.COLGROUP?e.openElements.currentTagName===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=S):n===A.TEMPLATE?pe(e,t):n!==A.COL&&Ye(e,t)},[o.EOF_TOKEN]:Ke},[B]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,O.HTML),e.insertionMode=U):n===A.TH||n===A.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(A.TR),e.insertionMode=U,e._processToken(t)):n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TFOOT||n===A.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S,e._processToken(t)):Be(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TBODY||n===A.TFOOT||n===A.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S):n===A.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S,e._processToken(t)):(n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP||n!==A.HTML&&n!==A.TD&&n!==A.TH&&n!==A.TR)&&Ue(e,t)},[o.EOF_TOKEN]:Ke},[U]:{[o.CHARACTER_TOKEN]:Fe,[o.NULL_CHARACTER_TOKEN]:Fe,[o.WHITESPACE_CHARACTER_TOKEN]:Fe,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TH||n===A.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,O.HTML),e.insertionMode=b,e.activeFormattingElements.insertMarker()):n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B,e._processToken(t)):Be(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TR?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B):n===A.TABLE?e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B,e._processToken(t)):n===A.TBODY||n===A.TFOOT||n===A.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(A.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B,e._processToken(t)):(n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP||n!==A.HTML&&n!==A.TD&&n!==A.TH)&&Ue(e,t)},[o.EOF_TOKEN]:Ke},[b]:{[o.CHARACTER_TOKEN]:Oe,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.COL||n===A.COLGROUP||n===A.TBODY||n===A.TD||n===A.TFOOT||n===A.TH||n===A.THEAD||n===A.TR?(e.openElements.hasInTableScope(A.TD)||e.openElements.hasInTableScope(A.TH))&&(e._closeTableCell(),e._processToken(t)):Ie(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.TD||n===A.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=U):n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&De(e,t)},[o.EOF_TOKEN]:Ke},[G]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:xe,[o.END_TAG_TOKEN]:ve,[o.EOF_TOKEN]:Ke},[Y]:{[o.CHARACTER_TOKEN]:ie,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processToken(t)):xe(e,t)},[o.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processToken(t)):ve(e,t)},[o.EOF_TOKEN]:Ke},[x]:{[o.CHARACTER_TOKEN]:Oe,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;if(n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META||n===A.NOFRAMES||n===A.SCRIPT||n===A.STYLE||n===A.TEMPLATE||n===A.TITLE)le(e,t);else{const o=V[n]||P;e._popTmplInsertionMode(),e._pushTmplInsertionMode(o),e.insertionMode=o,e._processToken(t)}},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.TEMPLATE&&pe(e,t)},[o.EOF_TOKEN]:ye},[v]:{[o.CHARACTER_TOKEN]:We,[o.NULL_CHARACTER_TOKEN]:We,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:function(e,t){e._appendCommentNode(t,e.openElements.items[0])},[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?Ie(e,t):We(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?e.fragmentContext||(e.insertionMode=w):We(e,t)},[o.EOF_TOKEN]:ae},[y]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.FRAMESET?e._insertElement(t,O.HTML):n===A.FRAME?(e._appendElement(t,O.HTML),t.ackSelfClosing=!0):n===A.NOFRAMES&&le(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName!==A.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===A.FRAMESET||(e.insertionMode=W))},[o.EOF_TOKEN]:ae},[W]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:ie,[o.COMMENT_TOKEN]:se,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.NOFRAMES&&le(e,t)},[o.END_TAG_TOKEN]:function(e,t){t.tagName===A.HTML&&(e.insertionMode=z)},[o.EOF_TOKEN]:ae},[w]:{[o.CHARACTER_TOKEN]:we,[o.NULL_CHARACTER_TOKEN]:we,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){t.tagName===A.HTML?Ie(e,t):we(e,t)},[o.END_TAG_TOKEN]:we,[o.EOF_TOKEN]:ae},[z]:{[o.CHARACTER_TOKEN]:ne,[o.NULL_CHARACTER_TOKEN]:ne,[o.WHITESPACE_CHARACTER_TOKEN]:Ae,[o.COMMENT_TOKEN]:re,[o.DOCTYPE_TOKEN]:ne,[o.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.NOFRAMES&&le(e,t)},[o.END_TAG_TOKEN]:ne,[o.EOF_TOKEN]:ae}};function Q(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Se(e,t),n}function J(e,t){let n=null;for(let o=e.openElements.stackTop;o>=0;o--){const s=e.openElements.items[o];if(s===t.element)break;e._isSpecialElement(s)&&(n=s)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function q(e,t,n){let o=t,s=e.openElements.getCommonAncestor(t);for(let r=0,i=s;i!==n;r++,i=s){s=e.openElements.getCommonAncestor(i);const n=e.activeFormattingElements.getElementEntry(i),a=n&&r>=g;!n||a?(a&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(i)):(i=Z(e,n),o===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(o),e.treeAdapter.appendChild(i,o),o=i)}return o}function Z(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),o=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,o),t.element=o,o}function $(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{const o=e.treeAdapter.getTagName(t),s=e.treeAdapter.getNamespaceURI(t);o===A.TEMPLATE&&s===O.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ee(e,t,n){const o=e.treeAdapter.getNamespaceURI(n.element),s=n.token,r=e.treeAdapter.createElement(s.tagName,o,s.attrs);e._adoptNodes(t,r),e.treeAdapter.appendChild(t,r),e.activeFormattingElements.insertElementAfterBookmark(r,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,r)}function te(e,t){let n;for(let o=0;o<C&&(n=Q(e,t),n);o++){const t=J(e,n);if(!t)break;e.activeFormattingElements.bookmark=n;const o=q(e,t,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),$(e,s,o),ee(e,t,n)}}function ne(){}function oe(e){e._err(m.misplacedDoctype)}function se(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function re(e,t){e._appendCommentNode(t,e.document)}function ie(e,t){e._insertCharacters(t)}function ae(e){e.stopped=!0}function Te(e,t){e._err(m.missingDoctype,{beforeToken:!0}),e.treeAdapter.setDocumentMode(e.document,_.DOCUMENT_MODE.QUIRKS),e.insertionMode=L,e._processToken(t)}function Ee(e,t){e._insertFakeRootElement(),e.insertionMode=f,e._processToken(t)}function ce(e,t){e._insertFakeElement(A.HEAD),e.headElement=e.openElements.current,e.insertionMode=R,e._processToken(t)}function le(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.BASE||n===A.BASEFONT||n===A.BGSOUND||n===A.LINK||n===A.META?(e._appendElement(t,O.HTML),t.ackSelfClosing=!0):n===A.TITLE?e._switchToTextParsing(t,o.MODE.RCDATA):n===A.NOSCRIPT?e.options.scriptingEnabled?e._switchToTextParsing(t,o.MODE.RAWTEXT):(e._insertElement(t,O.HTML),e.insertionMode=k):n===A.NOFRAMES||n===A.STYLE?e._switchToTextParsing(t,o.MODE.RAWTEXT):n===A.SCRIPT?e._switchToTextParsing(t,o.MODE.SCRIPT_DATA):n===A.TEMPLATE?(e._insertTemplate(t,O.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=x,e._pushTmplInsertionMode(x)):n===A.HEAD?e._err(m.misplacedStartTagForHeadElement):me(e,t)}function pe(e,t){const n=t.tagName;n===A.HEAD?(e.openElements.pop(),e.insertionMode=I):n===A.BODY||n===A.BR||n===A.HTML?me(e,t):n===A.TEMPLATE&&e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagName!==A.TEMPLATE&&e._err(m.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode()):e._err(m.endTagWithoutMatchingOpenElement)}function me(e,t){e.openElements.pop(),e.insertionMode=I,e._processToken(t)}function he(e,t){const n=t.type===o.EOF_TOKEN?m.openElementsLeftAfterEof:m.disallowedContentInNoscriptInHead;e._err(n),e.openElements.pop(),e.insertionMode=R,e._processToken(t)}function _e(e,t){e._insertFakeElement(A.BODY),e.insertionMode=P,e._processToken(t)}function Ae(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Oe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Ne(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML)}function de(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function ue(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ce(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function ge(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Me(e,t){e._appendElement(t,O.HTML),t.ackSelfClosing=!0}function Le(e,t){e._switchToTextParsing(t,o.MODE.RAWTEXT)}function fe(e,t){e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}function Re(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,O.HTML)}function ke(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}function Ie(e,t){const n=t.tagName;switch(n.length){case 1:n===A.I||n===A.S||n===A.B||n===A.U?ue(e,t):n===A.P?Ne(e,t):n===A.A?function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(A.A);n&&(te(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):ke(e,t);break;case 2:n===A.DL||n===A.OL||n===A.UL?Ne(e,t):n===A.H1||n===A.H2||n===A.H3||n===A.H4||n===A.H5||n===A.H6?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement();const n=e.openElements.currentTagName;n!==A.H1&&n!==A.H2&&n!==A.H3&&n!==A.H4&&n!==A.H5&&n!==A.H6||e.openElements.pop(),e._insertElement(t,O.HTML)}(e,t):n===A.LI||n===A.DD||n===A.DT?function(e,t){e.framesetOk=!1;const n=t.tagName;for(let t=e.openElements.stackTop;t>=0;t--){const o=e.openElements.items[t],s=e.treeAdapter.getTagName(o);let r=null;if(n===A.LI&&s===A.LI?r=A.LI:n!==A.DD&&n!==A.DT||s!==A.DD&&s!==A.DT||(r=s),r){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(s!==A.ADDRESS&&s!==A.DIV&&s!==A.P&&e._isSpecialElement(o))break}e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML)}(e,t):n===A.EM||n===A.TT?ue(e,t):n===A.BR?ge(e,t):n===A.HR?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t):n===A.RB?Re(e,t):n===A.RT||n===A.RP?function(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(A.RTC),e._insertElement(t,O.HTML)}(e,t):n!==A.TH&&n!==A.TD&&n!==A.TR&&ke(e,t);break;case 3:n===A.DIV||n===A.DIR||n===A.NAV?Ne(e,t):n===A.PRE?de(e,t):n===A.BIG?ue(e,t):n===A.IMG||n===A.WBR?ge(e,t):n===A.XMP?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,o.MODE.RAWTEXT)}(e,t):n===A.SVG?function(e,t){e._reconstructActiveFormattingElements(),p.adjustTokenSVGAttrs(t),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,O.SVG):e._insertElement(t,O.SVG),t.ackSelfClosing=!0}(e,t):n===A.RTC?Re(e,t):n!==A.COL&&ke(e,t);break;case 4:n===A.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===A.BASE||n===A.LINK||n===A.META?le(e,t):n===A.BODY?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===A.MAIN||n===A.MENU?Ne(e,t):n===A.FORM?function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===A.CODE||n===A.FONT?ue(e,t):n===A.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(A.NOBR)&&(te(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===A.AREA?ge(e,t):n===A.MATH?function(e,t){e._reconstructActiveFormattingElements(),p.adjustTokenMathMLAttrs(t),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,O.MATHML):e._insertElement(t,O.MATHML),t.ackSelfClosing=!0}(e,t):n===A.MENU?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML)}(e,t):n!==A.HEAD&&ke(e,t);break;case 5:n===A.STYLE||n===A.TITLE?le(e,t):n===A.ASIDE?Ne(e,t):n===A.SMALL?ue(e,t):n===A.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==_.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=S}(e,t):n===A.EMBED?ge(e,t):n===A.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML);const n=o.getTokenAttr(t,N.TYPE);n&&n.toLowerCase()===u||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t):n===A.PARAM||n===A.TRACK?Me(e,t):n===A.IMAGE?function(e,t){t.tagName=A.IMG,ge(e,t)}(e,t):n!==A.FRAME&&n!==A.TBODY&&n!==A.TFOOT&&n!==A.THEAD&&ke(e,t);break;case 6:n===A.SCRIPT?le(e,t):n===A.CENTER||n===A.FIGURE||n===A.FOOTER||n===A.HEADER||n===A.HGROUP||n===A.DIALOG?Ne(e,t):n===A.BUTTON?function(e,t){e.openElements.hasInScope(A.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1}(e,t):n===A.STRIKE||n===A.STRONG?ue(e,t):n===A.APPLET||n===A.OBJECT?Ce(e,t):n===A.KEYGEN?ge(e,t):n===A.SOURCE?Me(e,t):n===A.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,o.MODE.RAWTEXT)}(e,t):n===A.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode===S||e.insertionMode===K||e.insertionMode===B||e.insertionMode===U||e.insertionMode===b?e.insertionMode=Y:e.insertionMode=G}(e,t):n===A.OPTION?fe(e,t):ke(e,t);break;case 7:n===A.BGSOUND?le(e,t):n===A.DETAILS||n===A.ADDRESS||n===A.ARTICLE||n===A.SECTION||n===A.SUMMARY?Ne(e,t):n===A.LISTING?de(e,t):n===A.MARQUEE?Ce(e,t):n===A.NOEMBED?Le(e,t):n!==A.CAPTION&&ke(e,t);break;case 8:n===A.BASEFONT?le(e,t):n===A.FRAMESET?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,O.HTML),e.insertionMode=y)}(e,t):n===A.FIELDSET?Ne(e,t):n===A.TEXTAREA?function(e,t){e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.tokenizer.state=o.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H}(e,t):n===A.TEMPLATE?le(e,t):n===A.NOSCRIPT?e.options.scriptingEnabled?Le(e,t):ke(e,t):n===A.OPTGROUP?fe(e,t):n!==A.COLGROUP&&ke(e,t);break;case 9:n===A.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.tokenizer.state=o.MODE.PLAINTEXT}(e,t):ke(e,t);break;case 10:n===A.BLOCKQUOTE||n===A.FIGCAPTION?Ne(e,t):ke(e,t);break;default:ke(e,t)}}function Pe(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function He(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Se(e,t){const n=t.tagName;for(let t=e.openElements.stackTop;t>0;t--){const o=e.openElements.items[t];if(e.treeAdapter.getTagName(o)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(o);break}if(e._isSpecialElement(o))break}}function De(e,t){const n=t.tagName;switch(n.length){case 1:n===A.A||n===A.B||n===A.I||n===A.S||n===A.U?te(e,t):n===A.P?function(e){e.openElements.hasInButtonScope(A.P)||e._insertFakeElement(A.P),e._closePElement()}(e):Se(e,t);break;case 2:n===A.DL||n===A.UL||n===A.OL?Pe(e,t):n===A.LI?function(e){e.openElements.hasInListItemScope(A.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(A.LI),e.openElements.popUntilTagNamePopped(A.LI))}(e):n===A.DD||n===A.DT?function(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===A.H1||n===A.H2||n===A.H3||n===A.H4||n===A.H5||n===A.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===A.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(A.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===A.EM||n===A.TT?te(e,t):Se(e,t);break;case 3:n===A.BIG?te(e,t):n===A.DIR||n===A.DIV||n===A.NAV||n===A.PRE?Pe(e,t):Se(e,t);break;case 4:n===A.BODY?function(e){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=v)}(e):n===A.HTML?function(e,t){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=v,e._processToken(t))}(e,t):n===A.FORM?function(e){const t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(A.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(A.FORM):e.openElements.remove(n))}(e):n===A.CODE||n===A.FONT||n===A.NOBR?te(e,t):n===A.MAIN||n===A.MENU?Pe(e,t):Se(e,t);break;case 5:n===A.ASIDE?Pe(e,t):n===A.SMALL?te(e,t):Se(e,t);break;case 6:n===A.CENTER||n===A.FIGURE||n===A.FOOTER||n===A.HEADER||n===A.HGROUP||n===A.DIALOG?Pe(e,t):n===A.APPLET||n===A.OBJECT?He(e,t):n===A.STRIKE||n===A.STRONG?te(e,t):Se(e,t);break;case 7:n===A.ADDRESS||n===A.ARTICLE||n===A.DETAILS||n===A.SECTION||n===A.SUMMARY||n===A.LISTING?Pe(e,t):n===A.MARQUEE?He(e,t):Se(e,t);break;case 8:n===A.FIELDSET?Pe(e,t):n===A.TEMPLATE?pe(e,t):Se(e,t);break;case 10:n===A.BLOCKQUOTE||n===A.FIGCAPTION?Pe(e,t):Se(e,t);break;default:Se(e,t)}}function Ke(e,t){e.tmplInsertionModeStackTop>-1?ye(e,t):e.stopped=!0}function Fe(e,t){const n=e.openElements.currentTagName;n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=D,e._processToken(t)):be(e,t)}function Be(e,t){const n=t.tagName;switch(n.length){case 2:n===A.TD||n===A.TH||n===A.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.TBODY),e.insertionMode=B,e._processToken(t)}(e,t):be(e,t);break;case 3:n===A.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.COLGROUP),e.insertionMode=F,e._processToken(t)}(e,t):be(e,t);break;case 4:n===A.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,O.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):be(e,t);break;case 5:n===A.TABLE?function(e,t){e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===A.STYLE?le(e,t):n===A.TBODY||n===A.TFOOT||n===A.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=B}(e,t):n===A.INPUT?function(e,t){const n=o.getTokenAttr(t,N.TYPE);n&&n.toLowerCase()===u?e._appendElement(t,O.HTML):be(e,t),t.ackSelfClosing=!0}(e,t):be(e,t);break;case 6:n===A.SCRIPT?le(e,t):be(e,t);break;case 7:n===A.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,O.HTML),e.insertionMode=K}(e,t):be(e,t);break;case 8:n===A.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=F}(e,t):n===A.TEMPLATE?le(e,t):be(e,t);break;default:be(e,t)}}function Ue(e,t){const n=t.tagName;n===A.TABLE?e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode()):n===A.TEMPLATE?pe(e,t):n!==A.BODY&&n!==A.CAPTION&&n!==A.COL&&n!==A.COLGROUP&&n!==A.HTML&&n!==A.TBODY&&n!==A.TD&&n!==A.TFOOT&&n!==A.TH&&n!==A.THEAD&&n!==A.TR&&be(e,t)}function be(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function Ge(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)be(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function Ye(e,t){e.openElements.currentTagName===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=S,e._processToken(t))}function xe(e,t){const n=t.tagName;n===A.HTML?Ie(e,t):n===A.OPTION?(e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e._insertElement(t,O.HTML)):n===A.OPTGROUP?(e.openElements.currentTagName===A.OPTION&&e.openElements.pop(),e.openElements.currentTagName===A.OPTGROUP&&e.openElements.pop(),e._insertElement(t,O.HTML)):n===A.INPUT||n===A.KEYGEN||n===A.TEXTAREA||n===A.SELECT?e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),n!==A.SELECT&&e._processToken(t)):n!==A.SCRIPT&&n!==A.TEMPLATE||le(e,t)}function ve(e,t){const n=t.tagName;if(n===A.OPTGROUP){const t=e.openElements.items[e.openElements.stackTop-1],n=t&&e.treeAdapter.getTagName(t);e.openElements.currentTagName===A.OPTION&&n===A.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===A.OPTGROUP&&e.openElements.pop()}else n===A.OPTION?e.openElements.currentTagName===A.OPTION&&e.openElements.pop():n===A.SELECT&&e.openElements.hasInSelectScope(A.SELECT)?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode()):n===A.TEMPLATE&&pe(e,t)}function ye(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function We(e,t){e.insertionMode=P,e._processToken(t)}function we(e,t){e.insertionMode=P,e._processToken(t)}e.exports=class{constructor(e){this.options=c(d,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&T.install(this,i),this.options.onParseError&&T.install(this,a,{onParseError:this.options.onParseError})}parse(e){const t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t}parseFragment(e,t){t||(t=this.treeAdapter.createElement(A.TEMPLATE,O.HTML,[]));const n=this.treeAdapter.createElement("documentmock",O.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===A.TEMPLATE&&this._pushTmplInsertionMode(x),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);const o=this.treeAdapter.getFirstChild(n),s=this.treeAdapter.createDocumentFragment();return this._adoptNodes(o,s),s}_bootstrap(e,t){this.tokenizer=new o(this.options),this.stopped=!1,this.insertionMode=M,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new s(this.document,this.treeAdapter),this.activeFormattingElements=new r(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(t.type===o.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===o.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}}runParsingLoopForCurrentChunk(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){const e=this.pendingScript;return this.pendingScript=null,void t(e)}e&&e()}_setupTokenizerCDATAMode(){const e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==O.HTML&&!this._isIntegrationPoint(e)}_switchToTextParsing(e,t){this._insertElement(e,O.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=H}switchToPlaintextParsing(){this.insertionMode=H,this.originalInsertionMode=P,this.tokenizer.state=o.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===A.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===O.HTML){const e=this.treeAdapter.getTagName(this.fragmentContext);e===A.TITLE||e===A.TEXTAREA?this.tokenizer.state=o.MODE.RCDATA:e===A.STYLE||e===A.XMP||e===A.IFRAME||e===A.NOEMBED||e===A.NOFRAMES||e===A.NOSCRIPT?this.tokenizer.state=o.MODE.RAWTEXT:e===A.SCRIPT?this.tokenizer.state=o.MODE.SCRIPT_DATA:e===A.PLAINTEXT&&(this.tokenizer.state=o.MODE.PLAINTEXT)}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",o=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,n,o)}_attachElementToTree(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)}_insertFakeElement(e){const t=this.treeAdapter.createElement(e,O.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,O.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(A.HTML,O.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)}_insertCharacters(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_shouldProcessTokenInForeignContent(e){const t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;const n=this.treeAdapter.getNamespaceURI(t);if(n===O.HTML)return!1;if(this.treeAdapter.getTagName(t)===A.ANNOTATION_XML&&n===O.MATHML&&e.type===o.START_TAG_TOKEN&&e.tagName===A.SVG)return!1;const s=e.type===o.CHARACTER_TOKEN||e.type===o.NULL_CHARACTER_TOKEN||e.type===o.WHITESPACE_CHARACTER_TOKEN;return!((e.type===o.START_TAG_TOKEN&&e.tagName!==A.MGLYPH&&e.tagName!==A.MALIGNMARK||s)&&this._isIntegrationPoint(t,O.MATHML)||(e.type===o.START_TAG_TOKEN||s)&&this._isIntegrationPoint(t,O.HTML)||e.type===o.EOF_TOKEN)}_processToken(e){j[this.insertionMode][e.type](this,e)}_processTokenInBodyMode(e){j[P][e.type](this,e)}_processTokenInForeignContent(e){e.type===o.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===o.NULL_CHARACTER_TOKEN?function(e,t){t.chars=h.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===o.WHITESPACE_CHARACTER_TOKEN?ie(this,e):e.type===o.COMMENT_TOKEN?se(this,e):e.type===o.START_TAG_TOKEN?function(e,t){if(p.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==O.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{const n=e._getAdjustedCurrentElement(),o=e.treeAdapter.getNamespaceURI(n);o===O.MATHML?p.adjustTokenMathMLAttrs(t):o===O.SVG&&(p.adjustTokenSVGTagName(t),p.adjustTokenSVGAttrs(t)),p.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,o):e._insertElement(t,o),t.ackSelfClosing=!0}}(this,e):e.type===o.END_TAG_TOKEN&&function(e,t){for(let n=e.openElements.stackTop;n>0;n--){const o=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(o)===O.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(o).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(o);break}}}(this,e)}_processInputToken(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===o.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(m.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(e,t){const n=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e),s=this.treeAdapter.getAttrList(e);return p.isIntegrationPoint(n,o,s,t)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.length;if(e){let t=e,n=null;do{if(t--,n=this.activeFormattingElements.entries[t],n.type===r.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(let o=t;o<e;o++)n=this.activeFormattingElements.entries[o],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=U}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(A.P),this.openElements.popUntilTagNamePopped(A.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop,t=!1;e>=0;e--){let n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));const o=this.treeAdapter.getTagName(n),s=X[o];if(s){this.insertionMode=s;break}if(!(t||o!==A.TD&&o!==A.TH)){this.insertionMode=b;break}if(!t&&o===A.HEAD){this.insertionMode=R;break}if(o===A.SELECT){this._resetInsertionModeForSelect(e);break}if(o===A.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(o===A.HTML){this.insertionMode=this.headElement?I:f;break}if(t){this.insertionMode=P;break}}}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.items[t],n=this.treeAdapter.getTagName(e);if(n===A.TEMPLATE)break;if(n===A.TABLE)return void(this.insertionMode=Y)}this.insertionMode=G}_pushTmplInsertionMode(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(e){const t=this.treeAdapter.getTagName(e);return t===A.TABLE||t===A.TBODY||t===A.TFOOT||t===A.THEAD||t===A.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const e={parent:null,beforeElement:null};for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t],o=this.treeAdapter.getTagName(n),s=this.treeAdapter.getNamespaceURI(n);if(o===A.TEMPLATE&&s===O.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(o===A.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_fosterParentText(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)}_isSpecialElement(e){const t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return _.SPECIAL_ELEMENTS[n][t]}}},57453:(e,t,n)=>{const o=n(51426),s=o.TAG_NAMES,r=o.NAMESPACES;function i(e){switch(e.length){case 1:return e===s.P;case 2:return e===s.RB||e===s.RP||e===s.RT||e===s.DD||e===s.DT||e===s.LI;case 3:return e===s.RTC;case 6:return e===s.OPTION;case 8:return e===s.OPTGROUP}return!1}function a(e){switch(e.length){case 1:return e===s.P;case 2:return e===s.RB||e===s.RP||e===s.RT||e===s.DD||e===s.DT||e===s.LI||e===s.TD||e===s.TH||e===s.TR;case 3:return e===s.RTC;case 5:return e===s.TBODY||e===s.TFOOT||e===s.THEAD;case 6:return e===s.OPTION;case 7:return e===s.CAPTION;case 8:return e===s.OPTGROUP||e===s.COLGROUP}return!1}function T(e,t){switch(e.length){case 2:if(e===s.TD||e===s.TH)return t===r.HTML;if(e===s.MI||e===s.MO||e===s.MN||e===s.MS)return t===r.MATHML;break;case 4:if(e===s.HTML)return t===r.HTML;if(e===s.DESC)return t===r.SVG;break;case 5:if(e===s.TABLE)return t===r.HTML;if(e===s.MTEXT)return t===r.MATHML;if(e===s.TITLE)return t===r.SVG;break;case 6:return(e===s.APPLET||e===s.OBJECT)&&t===r.HTML;case 7:return(e===s.CAPTION||e===s.MARQUEE)&&t===r.HTML;case 8:return e===s.TEMPLATE&&t===r.HTML;case 13:return e===s.FOREIGN_OBJECT&&t===r.SVG;case 14:return e===s.ANNOTATION_XML&&t===r.MATHML}return!1}e.exports=class{constructor(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}_indexOf(e){let t=-1;for(let n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t}_isInTemplate(){return this.currentTagName===s.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===r.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()}insertAfter(e,t){const n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(e){for(;this.stackTop>-1;){const t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===r.HTML)break}}popUntilElementPopped(e){for(;this.stackTop>-1;){const t=this.current;if(this.pop(),t===e)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===s.H1||e===s.H2||e===s.H3||e===s.H4||e===s.H5||e===s.H6&&t===r.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===s.TD||e===s.TH&&t===r.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==s.TABLE&&this.currentTagName!==s.TEMPLATE&&this.currentTagName!==s.HTML||this.treeAdapter.getNamespaceURI(this.current)!==r.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==s.TBODY&&this.currentTagName!==s.TFOOT&&this.currentTagName!==s.THEAD&&this.currentTagName!==s.TEMPLATE&&this.currentTagName!==s.HTML||this.treeAdapter.getNamespaceURI(this.current)!==r.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==s.TR&&this.currentTagName!==s.TEMPLATE&&this.currentTagName!==s.HTML||this.treeAdapter.getNamespaceURI(this.current)!==r.HTML;)this.pop()}remove(e){for(let t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const e=this.items[1];return e&&this.treeAdapter.getTagName(e)===s.BODY?e:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e);return--t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.currentTagName===s.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===r.HTML)return!0;if(T(n,o))return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===s.H1||t===s.H2||t===s.H3||t===s.H4||t===s.H5||t===s.H6)&&n===r.HTML)return!0;if(T(t,n))return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===r.HTML)return!0;if((n===s.UL||n===s.OL)&&o===r.HTML||T(n,o))return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),o=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&o===r.HTML)return!0;if(n===s.BUTTON&&o===r.HTML||T(n,o))return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===r.HTML){if(n===e)return!0;if(n===s.TABLE||n===s.TEMPLATE||n===s.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===r.HTML){if(t===s.TBODY||t===s.THEAD||t===s.TFOOT)return!0;if(t===s.TABLE||t===s.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===r.HTML){if(n===e)return!0;if(n!==s.OPTION&&n!==s.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;i(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;a(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;i(this.currentTagName)&&this.currentTagName!==e;)this.pop()}}}}]);