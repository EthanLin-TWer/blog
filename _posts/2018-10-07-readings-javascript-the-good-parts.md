---
title: è¯»ä¹¦ç¬”è®°ï¼šã€ŠJavaScript è¯­è¨€ç²¾é«“ã€‹
category: è¯»ä¹¦ç¬”è®°
---

é‡æ¸©ç»å…¸ã€‚è¿™æœ¬ä¹¦å‘Šè¯‰ä½ ï¼Œä»€ä¹ˆæ˜¯ä¸å¥½çš„ JavaScriptï¼Œè¿™ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ç²¾åçš„ JavaScript ä¸€æ ·é‡è¦ã€‚æ­£æ‰€è°“éå½¼æ— æˆ‘ï¼Œéæˆ‘æ— æ‰€å–ã€‚

## ç›®å½•

* å¯¼è¯»
* è¯­è¨€åŸºæœ¬è¦ç´ 
* ç²¾å
* ç³Ÿç²•

## å¯¼è¯»

è¿™æ¬¡è¯»è¿™æœ¬ä¹¦å¯è°“æ˜¯å¸¦ç€ç›®çš„è€Œæ¥ã€‚å›½åº†åœ¨å®¶ç»™è‡ªå·±æ¥ä¸‹æ¥å®šäº†å­¦ä¹ è®¡åˆ’ï¼šè¦æ·±å…¥äº†è§£ JavaScript è¿™é—¨è¯­è¨€ã€‚å¦å¤–ï¼Œæˆ‘ä¹Ÿä¸æ˜¯ç¼–ç¨‹è¯­è¨€åœ£æˆ˜ä¸­çš„ä¸€åæ•™å¾’ï¼Œå·¥ä½œä¸‰å¹´ä¹‹ä½™ï¼Œé™¤äº†èƒœä»»æ‰‹ä¸Šçš„å·¥ä½œä»¥å¤–ï¼Œä¹Ÿæœ‰æ›´é«˜çš„å­¦ä¹ è¦æ±‚ï¼š**äº†è§£æŠ€æœ¯æœ¬è´¨**ã€**äº†è§£æŠ€æœ¯ä»·å€¼è§‚**ã€**äº†è§£æŠ€æœ¯å²**ã€‚æ‰€ä»¥ï¼Œé™¤äº†äº†è§£ JavaScript è¿™é—¨è¯­è¨€çš„å¥½åå¤–ï¼Œä¹Ÿæ˜¯è¦ä»ç¼–ç¨‹è¯­è¨€è¿™ä¸ªè§†è§’ï¼Œäº†è§£ä¸€é—¨è¯­è¨€çš„åŸºæœ¬è¦ç´ ï¼Œä»¥åŠä¸åŒè¯­è¨€é—´çš„å¼‚åŒï¼Œä¸ºæ—¥åæ‰“å¥½åŸºç¡€ã€‚åŸºäºè¿™ä¸ªæ€è·¯ï¼Œè¿™æœ¬ä¹¦å°è¯•å›ç­”çš„é—®é¢˜æ­£æ˜¯æˆ‘æ‰€éœ€è¦çš„ï¼š

1.  JavaScript çš„åŸºæœ¬è¯­è¨€è¦ç´ 
2.  JavaScript çš„ç²¾å
3.  JavaScript çš„æ¯’ç˜¤å’Œç³Ÿç²•ï¼ˆä»¥ä¸‹ç»Ÿç§°ç³Ÿç²•ï¼ŒåŒºåˆ†å…¶å·®å¼‚ä¸æ˜¯æœ¬æ¬¡é˜…è¯»çš„ç›®çš„ï¼‰

ç²¾åå’Œç³Ÿç²•å¯ä»¥ç”¨ä¸€ä»½ ESLint è§„åˆ™ä¸€è¨€ä»¥è”½ä¹‹ã€‚è€Œåœ¨è¯­è¨€åŸºæœ¬è¦ç´ ä¸€èŠ‚ï¼Œå…¶ä¸»è¦çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼šå¼±ç±»å‹ã€å‡½æ•°ã€åŸå‹ç»§æ‰¿â€”â€”ä¹Ÿæ˜¯å…¶ç²¾åâ€”â€”æˆ‘å°†åœ¨ã€Œç²¾åã€ä¸€èŠ‚ä¸­ç®€è¦å±•å¼€ã€‚

## è¯­è¨€åŸºæœ¬è¦ç´ 

* è¯­æ³•è¦ç´ ï¼šç©ºæ ¼ã€æ³¨é‡Šã€æ ‡è¯†ç¬¦ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€è¯­å¥ã€è¡¨è¾¾å¼ã€å­—é¢é‡ç­‰
* ä¸‰å¤§ç¼–ç¨‹ç»“æ„ï¼ˆé¡ºåºã€æ¡ä»¶ã€å¾ªç¯ï¼‰
* æ•°æ®ç»“æ„ï¼š
  * ç±»å‹ï¼šå¼±ç±»å‹
  * ç§ç±»ï¼šåŸºæœ¬ç±»å‹ / å¯¹è±¡ / æ•°ç»„
* å‡½æ•°ï¼šä»£ç å¤ç”¨ã€ç»„åˆã€æ¨¡å—åŒ–ã€ä¿¡æ¯éšè—
* ç»§æ‰¿ï¼šä»£ç å¤ç”¨
* API
* å…ƒç¼–ç¨‹

è¯­æ³•è¦ç´ ä¸è¯¦ç»†è®²ï¼Œåœ¨å­¦ä¹ å…¶ä»–ç¼–ç¨‹è¯­è¨€æ—¶å¯ä»¥è¿ç§»ï¼›ä¸‰å¤§ç¼–ç¨‹ç»“æ„åº”è¯¥æ˜¯ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½åº”è¯¥å…·å¤‡çš„åŠŸèƒ½äº†ï¼›å¼±ç±»å‹ã€å‡½æ•°ã€ç»§æ‰¿éƒ½æ˜¯ JavaScript çš„ç²¾åæ‰€åœ¨ï¼Œæ”¾åœ¨ç²¾åä¸€èŠ‚è¯´ï¼›è‡³äº APIï¼Œæ‰åœ¨å¼±ç±»å‹ä¸€èŠ‚è®²ï¼›å…ƒç¼–ç¨‹æ˜¯å¤§å­¦æ¯•ä¸šè®¾è®¡çš„æ—¶å€™ç§ä¸‹çš„ä¸€ä¸ªç§å­ï¼Œå¯æƒœè¿™æœ¬ä¹¦ä¸­è¿™ä¸ªä¸»é¢˜ä½“ç°ä¸å¤šï¼Œæ•…ä¹Ÿç•¥å»ä¸ºæ•¬ã€‚

## ç²¾å

çœ‹å®Œä¹¦ï¼Œæ€»ç»“äº†ä¸€ä¸‹ï¼ŒJS çš„ç²¾åå¤§æ¦‚å°±è¿™ä¸‰ç‚¹ï¼š

* å¼±ç±»å‹ & JSON/array literal
* å‡½æ•°
* ç»§æ‰¿

### å¼±ç±»å‹

å¼±ç±»å‹æ„å‘³ç€å¾ˆå¤šäº‹ï¼Œä¸€æ˜¯å†™ä»£ç çš„æ—¶å€™ä½ å¯ä»¥ä¸ç”¨åœ¨æ„ç±»å‹äº†ï¼Œå¼€å‘å¿«ï¼›äºŒæ˜¯æ›´ä¼˜é›…çš„è¡¨è¾¾åŠ›ï¼›ä¸‰æ˜¯æ›´æœ‰è¡¨è¾¾åŠ›çš„ç»§æ‰¿æ–¹æ¡ˆçš„å¯èƒ½æ€§ï¼ˆåœ¨ç»§æ‰¿ä¸€å°èŠ‚è°ˆï¼‰ã€‚å½“ç„¶ï¼Œç±»å‹ç³»ç»Ÿå¯¹äºç¼–è¯‘æœŸçš„é—®é¢˜å‘ç°ä¹Ÿæ˜¯å¾ˆæœ‰ä»·å€¼çš„ï¼Œåœ¨é‡æ„çš„æ—¶å€™ä¹Ÿèƒ½ç»™ IDE æä¾›æ›´å¤šçš„å¸®åŠ©ã€‚ä½†ä½œè€…è®¤ä¸ºï¼Œé ç±»å‹ç³»ç»Ÿå‘ç°çš„ bugï¼Œä¸å¤šä¹Ÿä¸å¤§ï¼Œç›¸æ¯”èµ·æ¥ç±»å‹ç³»ç»Ÿå°±å¤ªé‡é‡ï¼Œè€Œå¼±ç±»å‹æ˜¯å…¼é¡¾è¡¨è¾¾åŠ›å’Œé¡¹ç›®ä»·å€¼çš„ä¼˜é›…æ–¹æ¡ˆã€‚

JS æœ‰å“ªäº›ç±»å‹å‘¢ï¼Ÿä¸€è¨€ä»¥è”½ä¹‹ï¼Œæœ€é‡è¦çš„æœ‰ä¸‰ç±»å…«ç§ï¼š**åŸºæœ¬ç±»å‹**ã€**å¯¹è±¡**å’Œ**å‡½æ•°**ã€‚åŸºæœ¬ç±»å‹æœ‰ `string`ã€`boolean`ã€`number` ä¸‰ç§ç±»å‹ï¼›å‡½æ•°åŒ…å«ä¸€èˆ¬å‡½æ•°å’Œæ„é€ å‡½æ•°ç­‰ï¼›å¯¹è±¡å°±æ˜¯ `object` ç±»å‹ï¼Œé™¤äº†å¯¹è±¡ï¼Œå®ƒè¿˜åŒ…å«æ•°ç»„ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ—¥æœŸå¯¹è±¡ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥ä¸‹æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ `object` ç±»å‹ï¼š

```javascript
typeof {} // 'object'
typeof [] // 'object'
typeof /s/ // 'object'
typeof new Date() // 'object'
```

è€Œä»¥ä¸‹ä¸œè¥¿æ˜¯å‡½æ•°ç±»å‹ï¼š

```javascript
typeof function() {} // 'function'
typeof class Door {} // 'function'
```

å¦å¤–è¿˜æœ‰ä¸€äº›å¥‡è‘©ç±»å‹ï¼š

```javascript
typeof null // 'object'
typeof undefined // 'undefined'
typeof NaN // 'undefined'
typeof void 0 // 'undefined'
```

![JavaScript Data Types](https://i.stack.imgur.com/L1tYe.png)

ä¸ Java è¿™é—¨å¼ºç±»å‹è¯­è¨€åšå¯¹æ¯”ï¼Œå®ƒçš„ Stringã€Arrayã€Map éƒ½æ˜¯ç±»å‹ï¼Œä¸ºäº†å…·æœ‰ç±»å‹çš„æ–¹æ³•ï¼Œä¸å¾—ä¸ä½¿ç”¨ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶ä»…éœ€è¦å­˜å–æ•°æ®æ—¶å°±æ˜¾å¾—å¤šä½™ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒJS åˆ›å»ºå­—ç¬¦ä¸²ã€å¯¹è±¡å’Œæ•°ç»„å°±ç®€å•å¾—å¤šäº†ï¼Œè§ä¸‹é¢ä»£ç æ®µã€‚å¯ä¸è¦ä¹ ä»¥ä¸ºå¸¸ï¼Œç›´æ¥å†™ `{}` `[]` åˆ›å»ºå¯¹è±¡å’Œæ•°ç»„çš„å†™æ³•æ˜¯ JS æ‰€æ”¯æŒï¼Œå¸¦æ¥äº†æåº¦è½»é‡çš„ä¾¿åˆ©ã€‚å…¶ä¸­èµ·æºäº JS çš„å¯¹è±¡ç»“æ„ JSONï¼ˆJavaScript Object Notationï¼‰æ›´æ˜¯æˆäº†ä¸€ç§é€šç”¨çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚

```javascript
const human = {
  name: 'Lao Wang',
  age: 35,
  ready: true,
}
const primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31]
```

### å‡½æ•°

JavaScript é‡Œé¢å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚è¿™æ„å‘³ç€å•¥å‘¢ï¼Ÿä¸€ç­‰å…¬æ°‘è¡¨ç¤ºï¼Œå‡½æ•°ä¹Ÿä¸æ™®é€šæ•°æ®ç±»å‹ä¸€æ ·äº†ï¼Œå¯ä»¥ä½œå‡½æ•°å‚æ•°è¢«ä¼ é€’ã€å¯ä»¥åšè¿”å›å€¼ã€‚è¿™æ„å‘³ç€å‡½æ•°å¼ç¼–ç¨‹å˜å¾—å¯èƒ½äº†ï¼ˆä¸ºå•¥å‘¢ï¼Ÿï¼‰ï¼Œæ„å‘³ç€é—­åŒ…æŠ€æœ¯è¿™ç§åŸºäºå‡½æ•°çº§åˆ«çš„è½»é‡çº§æ•°æ®å°è£…æ–¹æ¡ˆå˜å¾—å¯èƒ½äº†ï¼ŒæŸ¯é‡ŒåŒ–ä¹Ÿå˜å¾—å¯èƒ½äº†ï¼Œè¿™ä¸€åˆ‡å¸¦æ¥çš„æ˜¯æ›´çµæ´»çš„å°è£…ã€æ•°æ®æ“ä½œèƒ½åŠ›ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å½“æ—¶å–œæ¬¢ä¸Š JavaScript çš„åŸå› ã€‚

å‡½æ•°ä¹Ÿæ˜¯å…¶ä»–ä»»æ„è¯­è¨€ä¸­çš„åŸºæœ¬è¦ç´ ï¼Œä¸‹é¢ä»**åŸºæœ¬è¯­æ³•è¦ç´ **ä»¥åŠä¸Šé¢æåˆ°çš„**å‡½æ•°å¼**ã€**é—­åŒ…**ã€**æŸ¯é‡ŒåŒ–**ç­‰æ–¹é¢æä¸€ä¸‹ç²¾åç‚¹ã€‚

#### åŸºæœ¬è¦ç´ 

* è¯­æ³•ï¼ˆ`function` å…³é”®å­—ã€å‡½æ•°åã€å‡½æ•°å‚æ•°ã€å‡½æ•°ä½“ã€è¿”å›å€¼ï¼‰
* å‡½æ•°è°ƒç”¨æ¨¡å¼ï¼šJS é‡Œå¤æ‚ä¸”çµæ´»çš„åœ°æ–¹ï¼Œä¸‹é¢è¯¦è¿°
* å‚æ•°å¯¹è±¡ `argument`ï¼šå®ƒåªæ˜¯ä¸ªä¼ªæ•°ç»„ï¼Œæœ‰ç‚¹æ¯›ç—…ï¼ŒES6 ä»¥åå°±åº”è¯¥å¼ƒç”¨äº†
* ä½œç”¨åŸŸï¼šæœ‰å‡½æ•°ä½œç”¨åŸŸï¼ŒES6 ä»¥åæ‰æœ‰å—ä½œç”¨åŸŸã€‚ç°åœ¨åŸºæœ¬å®Œç¾
* é€’å½’ï¼š[ES6 ä»¥åå°†éƒ¨ç½²å°¾é€’å½’ä¼˜åŒ–å†™å…¥è§„èŒƒ](http://www.ruanyifeng.com/blog/2015/04/tail-call.html)
* é—­åŒ…ï¼šå‡½æ•°çº§åˆ«çš„ä¿¡æ¯éšè—ã€æ¨¡å—åŒ–æ–¹æ¡ˆã€‚åœ¨ Java ä¸­åŒæ ·çš„äº‹å¿…é¡»ç”¨ä¸€ä¸ªé™æ€å†…éƒ¨ç±»æ‰èƒ½å®ç°
* å›è°ƒï¼šå»¶ä¼¸åˆ° `callback`ã€`Promise`ã€`async/await` ç­‰ä¸€äº›ä¸œè¥¿ã€‚ä¹¦é‡Œæ²¡è®²ï¼Œæˆ‘ä¹Ÿä¸è®²
* æŸ¯é‡ŒåŒ–ï¼šä¸šåŠ¡åº”ç”¨å¸¸è§æ¨¡å¼

#### å‡½æ•°è°ƒç”¨æ¨¡å¼

å¾ˆé—~~jing~~æ†¾~~xi~~ï¼Œåœ¨ JS ä¸­ä¸€ä¸ªå‡½æ•°å¯èƒ½æœ‰å¾ˆå¤šçš„è°ƒç”¨æ–¹å¼ã€‚å‡½æ•°ä½“åæ­£éƒ½æ˜¯è¦æ‰§è¡Œçš„ï¼Œ**å”¯ä¸€åŒºåˆ«åœ¨äº this å¼•ç”¨å¦‚ä½•è¢«åˆå§‹åŒ–**ã€‚æˆ‘ä»¬ä¸€å…±æœ‰ 4 ç§æ–¹æ¡ˆï¼Œç”±äºå¤ªå¤šï¼ŒåºŸå¼ƒæ‰ç¬¬ä¸‰ç§å’Œç¬¬å››ç§ã€‚ä¸€èˆ¬å†™ä¸šåŠ¡ä»£ç ï¼Œç¬¬ä¸€äºŒç§è°ƒç”¨æ˜¯æœ€å¸¸è§çš„ã€‚

|  å‡½æ•°è°ƒç”¨æ¨¡å¼  |               å½¢å¼                |          this ç»‘å®š           |                       é€‚ç”¨åœºæ™¯                       |
| :------------: | :-------------------------------: | :--------------------------: | :--------------------------------------------------: |
|    æ–¹æ³•è°ƒç”¨    |         `object.method()`         |   è¢«è°ƒç”¨çš„å¯¹è±¡ `object` ä¸Š   | å¯¹è±¡å®ä¾‹çš„æ–¹æ³•è°ƒç”¨ã€‚æ—¢æˆå…¶å¯¹è±¡ï¼Œè¯´æ˜å¿…ç»´æŠ¤äº†å†…éƒ¨çŠ¶æ€ |
|    å‡½æ•°è°ƒç”¨    |            `method()`             | å…¨å±€å¯¹è±¡ `window` / `global` |                 ä¸éœ€è¦å¯¹è±¡çŠ¶æ€çš„å‡½æ•°                 |
|  æ„é€ å‡½æ•°è°ƒç”¨  |      `new Object().method()`      |  è¢«åˆ›å»ºçš„ `Object` å®ä¾‹å¯¹è±¡  |                  bug ä¹‹æºï¼Œåº”å½“æŠ›å¼ƒ                  |
| apply æ¨¡å¼è°ƒç”¨ | `method.apply(target, arguments)` |   ç»‘å®šåˆ°ä¼ å…¥çš„ `target` ä¸Š   |                ä¼¼ä¹æœ‰ç”¨ï¼Œå…¶å®å®Œå…¨æ²¡ç”¨                |

å…¶ä¸­ï¼š

* æŠ›å¼ƒç¬¬ä¸‰ç§æ–¹æ¡ˆï¼ŒåŸå› æ˜¯ä¸€æ—¦å¿˜è®°ç”¨ `new` è¿ç®—ç¬¦ï¼Œ`this` ä¼šç›´æ¥ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œå¹¶ä¸”æ— ä»»ä½•ç¼–è¯‘æœŸå’Œè¿è¡ŒæœŸçš„æç¤º
* ç¬¬å››ç§æ–¹æ¡ˆï¼Œä¸€å¼€å§‹ä»¥ä¸ºæœ‰ä¸¤ä¸ªåœºæ™¯ä¼šç”¨åˆ°ï¼šå†™æ¡†æ¶ä»£ç æ—¶ã€åšæŸ¯é‡ŒåŒ–æ—¶ã€‚åæ¥è‡ªå·±ä¸€å†™ï¼Œå‘ç°ä¸éœ€è¦ `apply` ä¹Ÿæ˜¯å¯ä»¥å®ç°æŸ¯é‡ŒåŒ–çš„ï¼›è€Œæ¡†æ¶ä»£ç ï¼Œè‡³ä»Šæœªè§ä½¿ç”¨åœºæ™¯ï¼Œæ•…ç•™ä½œç–‘é—®

#### å‡½æ•°å¼

å‡½æ•°å¼æ˜¯ä¸€ç§é«˜é˜¶çš„å£°æ˜å¼ç¼–ç¨‹èŒƒå¼ï¼Œç›¸å¯¹äºã€Œæ€ä¹ˆåšã€ï¼Œå®ƒè®©ä½ å¾—ä»¥ä»¥ã€Œåšä»€ä¹ˆã€çš„æ–¹å¼å†™ä»£ç ï¼Œæ—¢æœ‰å¼ºçš„è¡¨è¾¾åŠ›ï¼Œåˆæœ‰ä½çš„ç¼–å†™æˆæœ¬ã€‚å½“ç„¶ï¼Œå¯¹ç»´æŠ¤è€…çš„ä»£ç èƒ½åŠ›æå‡ºäº†è¦æ±‚ã€‚ä¸è¿‡æ—¢ç„¶è¯´åˆ°ï¼Œä¸å¦¨å†è¯´ä¸‹æˆ‘çš„è§‚ç‚¹ï¼šå›¢é˜Ÿèƒ½åŠ›æ˜¯é€‰å‹æ—¶è€ƒè™‘çš„å› ç´ ï¼Œä¸æ˜¯æŠ€æœ¯æœ¬èº«çš„è€ƒè™‘å› ç´ ã€‚å¦‚æœçœŸæ˜¯å¥½çš„ä¸œè¥¿ï¼Œå¥½ä¸å¥½å­¦æ˜¯ä¸è€ƒè™‘çš„ã€‚åªæœ‰ä¸ç”¨å­¦çš„åˆæœ‰é’±çš„æ‰ä¼šæµè¡Œï¼Œå¥½ä¸æµè¡Œé€šå¸¸è´Ÿç›¸å…³ã€‚

ç›®æ ‡æ˜¯ï¼Œçœ‹åˆ° `for (let i = 0; i > array.length; i++)`ã€`array.forEach(() => {})`ã€`for (let key in object)` ç­‰å‡ºç° `for` å…³é”®å­—çš„ä»£ç ï¼Œä¸€å¾‹è€ƒè™‘ç”¨å‡½æ•°å¼ä»£ç æ›¿æ¢æ‰ã€‚ç”¨ forï¼Œæ— éæ˜¯è¦åš `map`ã€`reduce`ã€`filter` çš„æ“ä½œï¼Œæ›´åŠ å¤æ‚çš„å°±ç”¨ lodash/ramda ç­‰å·¥å…·åº“ï¼Œå…¼é¡¾è¡¨è¾¾åŠ›å’Œæ€§èƒ½ã€‚

```javascript
// from:
let result = []
for (let i = 0; i > people.length; i++) {
  const person = people[i]
  result.push({ age: person.age, name: person.name })
}
// to:
let persons = people.map(({ age, name }) => ({ age, name }))

// from:
let teenagers = []
for (let person in people) {
  if (person.age < 25) {
    teenagers.push(person)
  }
}
// to:
const teenagers = people.filter(({ age }) => age < 25)

// from:
const people = {
  Jack: { age: 25, gender: 'male' },
  Maria: { age: 20, gender: 'female' },
}
const result = []
Object.keys(people).forEach((name) => {
  result.push({
    name,
    age: people[name].age,
    gender: people[name].gender,
  })
})
// to:
const result = Object.entries(people).map(([name, { age, gender }]) => ({
  name,
  age,
  gender,
}))
```

#### é—­åŒ…

é—­åŒ…å®è´¨ä¸Šæ˜¯ç•™å­˜å˜é‡ã€å¯è®¿é—®æ€§æ§åˆ¶çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œå®ƒæ¯” Java ç±»çº§åˆ«çš„ private æ§åˆ¶ç²’åº¦æ›´å°ã€‚åœ¨ JS ä¸­åªèƒ½åˆ©ç”¨å‡½æ•°çº§ä½œç”¨åŸŸæ¥åšè®¿é—®æ§åˆ¶ï¼š

```javascript
const incrementer = (function() {
  let count = 0
  return () => {
    return ++count
  }
})()
```

#### æŸ¯é‡ŒåŒ–

å‡å®šè¯»è€…æœ‰ä¸€å®š JS åŸºç¡€ï¼Œéƒ½å·²ç»çŸ¥é“æŸ¯é‡ŒåŒ–æ˜¯å•¥äº†ã€‚è¿™é‡Œå›ç­”æœ‰å•¥ç”¨çš„é—®é¢˜ï¼šå¯¹äºå¤šä¸ªå‚æ•°çš„æ–¹æ³•ï¼Œå¯å…ˆéƒ¨åˆ†åº”ç”¨ç›¸åŒçš„å‚æ•°ï¼Œç„¶åå†å¯¹ä¸åŒçš„éƒ¨åˆ†è¿›è¡Œå®šåˆ¶ã€è°ƒç”¨ï¼Œä»¥è¾¾åˆ°å¤ç”¨ã€å®šåˆ¶çš„ç›®çš„ã€‚é¡¹ç›®å‡ºç°è¿‡è¿™æ ·çš„åœºæ™¯ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªäºŒé˜¶æŸ¯é‡ŒåŒ–ï¼š

```javascript
const sendTrackRequest = (userId, siteId, generalParams, extraParams) => {}
const trackPageView = (userId, siteId, generalParams) => {
  return (action, url) => {
    const pageViewParams = { action, url }
    return sendTrackRequest(userId, siteId, generalParams, pageViewParams)
  }
}
const trackEvent = (userId, siteId, generalParams) => {
  return (category, action, eventName, eventArgs = {}) => {
    const eventParams = { category, action, eventName, eventArgs }
    return sendTrackRequest(userId, siteId, generalParams, eventParams)
  }
}
```

ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°å®ç°å¦‚ä¸‹ï¼Œå¹¶ä¸éœ€è¦ç”¨åˆ° `Function.prototype.apply`ã€‚ç¬¬ 6 è¡Œçš„ä»£ç å‚è€ƒäº†[è¿™ä¸ªå†™æ³•](https://github.com/mqyqingfeng/Blog/issues/42#issuecomment-411428875)ã€‚

```javascript
const curry = (func) => {
  return function continueCurry(...args) {
    if (args.length >= func.length) {
      return func(...args)
    }
    return (...next) => continueCurry(...args, ...next)
  }
}
```

### ç»§æ‰¿

ç»§æ‰¿çš„æœ¬è´¨æ˜¯ä¸ºäº†å®ç°ã€Œä»£ç å¤ç”¨ã€ï¼Œè€Œä¸”é€šå¸¸æ˜¯å¯¹è±¡ï¼ˆæ•°æ® + è¡Œä¸ºï¼‰çš„å¤ç”¨ã€‚å› ä¸ºå¦‚æœä»…ä»…æ˜¯æ•°æ®çš„å¤ç”¨ï¼ŒJSON å¯¹è±¡å°±èƒ½æ»¡è¶³ã€‚åœ¨ Java è¿™ç§å¼ºç±»å‹çš„è¯­è¨€ä¸‹ï¼Œä¸€åˆ‡éƒ½æ˜¯ç±»å’Œå¯¹è±¡ï¼Œç»§æ‰¿ä¹Ÿå¿…ç„¶åªèƒ½ä»ç±»çº§åˆ«æ¥å®ç°ã€‚ç±»ç»§æ‰¿ä½“ç³»æ—¢å®ç°äº†ä»£ç å¤ç”¨ï¼Œä¹Ÿèƒ½è·ç›Šäºç±»å‹ç³»ç»Ÿå¸¦æ¥çš„å®‰å…¨ä¿éšœã€‚ä¸åŒäº Javaï¼ŒJavaScript æ˜¯ä¸€ç§å¼±ç±»å‹è¯­è¨€ï¼Œè¿™ä½¿å¾—å®ƒæœ‰æœºä¼šæŠ›å¼ƒç±»å‹ï¼Œé‡‡ç”¨æ›´è½»é‡çš„æ–¹å¼æ¥å®ç°ä¸€å¥—ç»§æ‰¿æ–¹æ¡ˆã€‚å¦‚ä½ æ‰€çŸ¥ï¼Œåœ¨ JS ä¸­è¿™å¥—æ–¹æ¡ˆå°±æ˜¯åŸå‹ç»§æ‰¿ã€‚

ç»§æ‰¿æ–¹æ¡ˆçš„è®¾è®¡æœ‰ä¸‰ä¸ªè¦ç‚¹ï¼š**æ”¯æŒç§æœ‰æ•°æ®**ã€**ç®€æ´çš„è¯­æ³•**ã€**è®¿é—® `super` çš„èƒ½åŠ›**ã€‚æ•°æ®å¤ç”¨æ˜¯ç®€å•çš„ï¼Œè€Œè¦å®ç°åŸºäºæ•°æ®çš„æ–¹æ³•çš„å¤ç”¨ï¼Œä¸»è¦æ˜¯å®ç°ä¸¤ä¸ªä¸œè¥¿ï¼šå…¬å…±çš„æ–¹æ³•å­˜å‚¨åŒºé—´ï¼›æŸ¥æ‰¾æ–¹æ¡ˆã€‚åœ¨åŸå‹ç»§æ‰¿ä¸­ï¼Œå®ç°å¤ç”¨çš„è½½ä½“æ˜¯ `function`ï¼Œè€Œè¿™ä¸ªå…¬å…±çš„ç©ºé—´ï¼Œå°±æ˜¯å‡½æ•°ä¸Šçš„ `prototype`ã€‚æŸ¥æ‰¾æ–¹æ¡ˆï¼Œå…¶å®å°±æ˜¯åŸºäº `prototype` çš„ lookup æœºåˆ¶ã€‚

ä¸ºäº†å®ç°ä¸€ä¸ªæ»¡è¶³è¿™ä¸‰ä¸ªä¼˜åŠ¿çš„ç»§æ‰¿æ–¹æ¡ˆï¼Œæœ‰ä¸‰ä¸ªæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ–¹æ¡ˆï¼šä¼ªç±»ç»§æ‰¿ã€å¯¹è±¡ç»§æ‰¿ã€å‡½æ•°æ¨¡å¼ã€‚ES6 å‡ºæ¥åæœ‰ä¸ª `class` çš„è¯­æ³•ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¼ªç±»ç»§æ‰¿çš„è¯­æ³•ç³–ã€‚åšä¸ªè¡¨æ ¼æ¯”è¾ƒå¦‚ä¸‹ã€‚ç»“è®ºæ˜¯ï¼Œåœ¨ä¸åœ¨æ„ `private` ç§æœ‰æ•°æ®çš„å‰æä¸‹ï¼Œä½¿ç”¨ ES6 çš„æ–°è¯­æ³•ç³–æ˜¯æœ€ä½³æ–¹æ¡ˆã€‚

|     æ–¹æ¡ˆ     | ä¼ªç±»ç»§æ‰¿ | å¯¹è±¡ç»§æ‰¿ | å‡½æ•°æ¨¡å¼ | ES6 `class` |
| :----------: | :------: | :------: | :------: | :---------: |
|   ç§æœ‰æˆå‘˜   |    æ—     |    æ—     |    æœ‰    |     æ—       |
|  è¯­æ³•å¤æ‚åº¦  |   å¤æ‚   |   ç®€å•   |   ä¸­ç­‰   |    ç®€å•     |
|  è®¿é—® super  |    æ—     |    æ—     |    æœ‰    |     æœ‰      |
| å…±äº«æ–¹æ³•å†…å­˜ |    æœ‰    |    æ—     |    ?     |     æœ‰      |

* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Details_of_the_Object_Model
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto
* https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Inheritance
* https://hackernoon.com/understanding-javascript-prototype-and-inheritance-d55a9a23bde2
* https://www.google.com/search?q=javascript+prototype+hierarchy&newwindow=1&tbm=isch&tbo=u&source=univ&sa=X&ved=2ahUKEwiw65n6x_TdAhUlBMAKHTGXDEQQsAR6BAgBEAE&biw=1097&bih=572
* https://medium.com/javascript-scene/3-different-kinds-of-prototypal-inheritance-es6-edition-32d777fa16c9
* https://www.google.com/search?q=javascript+%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF+%E5%9B%BE&newwindow=1&tbm=isch&tbo=u&source=univ&sa=X&ved=2ahUKEwj45vGMzfTdAhVlIcAKHbYCDgoQsAR6BAgAEAE&biw=1097&bih=572
* https://github.com/creeperyang/blog/issues/9
* https://github.com/mqyqingfeng/Blog/issues/16
* http://www.ituring.com.cn/article/56184
* https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/0014344997013405abfb7f0e1904a04ba6898a384b1e925000
* https://juejin.im/post/5b729c24f265da280f3ad010
* http://crockford.com/javascript/prototypal.html
* https://javascriptweblog.wordpress.com/2010/06/07/understanding-javascript-prototypes/
* https://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/
* http://bonsaiden.github.io/JavaScript-Garden/#object.prototype

å‚è€ƒï¼š

* JavaScript æ·±å…¥ä¹‹ç»§æ‰¿çš„å¤šç§æ–¹æ³•ï¼šhttps://github.com/mqyqingfeng/Blog/issues/16

## ç³Ÿç²•

åŸä¹¦ä¸­æŠŠ JavaScript ä¸å¥½çš„ä¸œè¥¿åˆ†ä¸¤ç§ï¼šæ¯’ç˜¤å’Œç³Ÿç²•ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ¯’ç˜¤å°±æ˜¯ä¸€æ— æ˜¯å¤„çš„ç‰¹æ€§ï¼Œåº”è¯¥ç”¨éƒ½ä¸ç”¨ï¼›ç³Ÿç²•æ˜¯é‚£äº›æœ‰æ—¶å¾ˆæœ‰ç”¨ï¼Œæœ‰æ—¶åˆå¾ˆå‘çš„ç‰¹æ€§ï¼Œè¿™æ ·çš„ç‰¹æ€§æ›´è¦è§„é¿ï¼Œå› ä¸ºä½ åªæœ‰æ·±å…¥æ€è€ƒé˜…è¯»æ‰èƒ½çŸ¥é“åŠŸèƒ½æ­£å¸¸è¿˜æ˜¯å‘ï¼Œè¿™è¿åç¼–ç¨‹è¯­è¨€åº”è¯¥ç›´æ¥ã€è¡¨è¾¾åŠ›å¼ºçš„ä»·å€¼è§‚ã€‚åœ¨è¿™é‡Œï¼Œå…·ä½“åŒºåˆ†ä¸æ˜¯é‡ç‚¹ï¼Œæˆ‘åˆ—å‡ºæ¥ï¼Œè¿™äº›ç‰¹æ€§**éƒ½ä¸è¦ç”¨**å°±å¯¹äº†ã€‚å¹¶ä¸”ï¼Œæœ€å¥½é€šè¿‡ ESLint ç­‰å·¥å…·åŠ ä»¥å›ºå®šã€‚

|       ç³Ÿç²•       | å»ºè®® |                      è§„é¿æ–¹æ³•                       |
| :--------------: | :--: | :-------------------------------------------------: |
|     å…¨å±€å˜é‡     |  âŒ  |   NodeJS æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œéƒ¨åˆ†è§£å†³æ­¤é—®é¢˜   |
|   è‡ªåŠ¨æ’å…¥åˆ†å·   |  âŒ  |                  ä½¿ç”¨ ESLint ç¦æ­¢                   |
|      ä¼ªæ•°ç»„      |  âŒ  |          ç”¨ ES6 çš„å‚æ•°è§£æ„ä»£æ›¿ `argument`           |
|      `eval`      |  âŒ  | ç¼ºç‚¹ï¼šè¿è¡Œæ—¶ä»£ç ã€lint å·¥å…·æ— æ•ˆï¼›æ³¨å…¥æ”»å‡»ï¼›é™ä½æ€§èƒ½ |
|    `continue`    |  âŒ  |            ä»»ä½• `continue` éƒ½åº”è¯¥é‡æ„æ‰             |
|   ç¼ºå°‘å—çš„è¯­å¥   |  âŒ  |                  ä½¿ç”¨ ESLint ç¦æ­¢                   |
|  ç±»å‹çš„åŒ…è£…å¯¹è±¡  |  âŒ  |            ä½¿ç”¨åŸºæœ¬ç±»å‹ã€`{}`ã€`[]`æ›¿ä»£             |
|      `void`      |  âŒ  |                       æ²¡åœºæ™¯                        |
| `new Function()` |  âŒ  |  ä¸€æ—¦å¿˜è®°ï¼Œ`this`å°±ä¼šç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œä¸”æ— ä»»ä½•æç¤º   |
|      æ— æ¨¡å—      |  --  | å·²æœ‰ import/exportã€CommonJSã€UMD ç­‰æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆ  |
|  `==` && å‡å€¼è¡¨  |  ğŸŒµ  | ä¸€å¾‹ç”¨ `===`/`!==` é¿å…ç±»å‹è½¬æ¢ï¼Œé™¤äº†æå°‘é‡ç‰¹æ®Šåœºåˆ |
|     `typeof`     |  ğŸŒµ  |                        æ— è§£                         |

## ESLint

* https://github.com/airbnb/javascript
* https://standardjs.com/
* https://google.github.io/styleguide/jsguide.html
* https://eslint.org/docs/4.0.0/rules/
