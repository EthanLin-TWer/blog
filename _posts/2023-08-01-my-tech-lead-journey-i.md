---
title: Tech Lead从入门到放弃（一）：TL真有50%时间写代码？
category: career, tech-lead
---

数据证明，只有10%！

在我入职TW的时候就对TL这个工作有一种神圣的敬意，觉得TL是团队里的全能小英雄，也是身为技术人的技能巅峰。在我的心目中，TL就是组里技术最强的人，TA不仅能带团队高效地交付高质量的功能，也能打点好跟上级和其他人的沟通，组里的一切TA都可以游刃有余。用大熊的话来说，就是当项目经理把这个项目交到你手里，他就啥也不用操心了，因为相信你一定会把项目管好。但是我发现，当我两年前真正戴上TL这顶帽子的时候，我却蕉绿了！其中最核心的困惑点还是，各种纷杂的事务扑面而来，许多事情需要响应，我写代码的时间不可避免地变少了。

变得有多少？通过精准的时间记录，我可以明确地告诉大家，这个数字是**10%**。准确来说，是9.8%，10%不到。其中，~5%的时间在直接编程或与团队成员结对编程，~5%的时间是在进行技术相关的讨论和决策。

## TL日常工作时间一览

记录工作笔记并且经常回顾，是对日常工作一个有益的尊重。正如developer记录编码时间可以发现自己编码过程的生涩点并加以刻意练习提高一样，TL记录工作时间同样有助于发现自己的工作侧重及生涩点，并加以有益的练习和提高。于是，我抓取了自己最近三个月来的工作日记，分析了一下自己日常不同工作类型的时间占比。采样点跨度三个月，共12周、41个工作日，采样时长288个小时，刚好经历一个完整的三个月一次的SAFE大迭代计划会，以及TW内部每半年一次的绩效评估。

<p>
  <a href="https://mermaid.live/edit#pako:eNpNkE1LAkEcxr_KMLA3E9Ms8SzRQTCwl8tcJvefO7g7I7MzaSwLQeTBoPKQCAVhFHQpiU75eRzFb9G-KHYbnt_zPMz_CXBD2IDL2LICxpkqo4DgNgOCk5eCrjoUPlNM8FjKZYsZRLD24ZTZyoml0l4ujDXlgAcnVDJ65oK_ykdNNa1A1pUUrU2G4EK7S3AYotCyCI9cyHdEp0IVRYopF9BRFXWEbDHeRI7Q0kdb6IA1HVSFC3AJR1HFsendzKa3pj-OK7d3ssVUn02nZjAy9wPz_ZiQ0prM-1fz54np_Sw-hzHJl7L5FdoHqrQEVOtwkIuv8eKhFzsK-XXWvA2X1x_m6XU5ejGT3_nde3L8piFF_z6U28UZ7IH0KLOjgYPUlsyUbmDDOdWuIpjwMLJSrUT9kjdwWUkNGazbNlVQYbQpqZeK4R88CKHy">
    <img 
      src="https://mermaid.ink/img/pako:eNpNkE1LAkEcxr_KMLA3E9Ms8SzRQTCwl8tcJvefO7g7I7MzaSwLQeTBoPKQCAVhFHQpiU75eRzFb9G-KHYbnt_zPMz_CXBD2IDL2LICxpkqo4DgNgOCk5eCrjoUPlNM8FjKZYsZRLD24ZTZyoml0l4ujDXlgAcnVDJ65oK_ykdNNa1A1pUUrU2G4EK7S3AYotCyCI9cyHdEp0IVRYopF9BRFXWEbDHeRI7Q0kdb6IA1HVSFC3AJR1HFsendzKa3pj-OK7d3ssVUn02nZjAy9wPz_ZiQ0prM-1fz54np_Sw-hzHJl7L5FdoHqrQEVOtwkIuv8eKhFzsK-XXWvA2X1x_m6XU5ejGT3_nde3L8piFF_z6U28UZ7IH0KLOjgYPUlsyUbmDDOdWuIpjwMLJSrUT9kjdwWUkNGazbNlVQYbQpqZeK4R88CKHy?type=png" 
      alt="TL working hours - high level"
    /> 
  </a>
</p>

<p>
  <a href="https://mermaid.live/edit#pako:eNqFVF1T00AU_SuZzPQN-wlUeSsiM86odIioD3lZ6UIztEkn3VicTmdasQWCiKjtoECxigM-0IoIQlrhx5jdpE_8BTcfti8QXzLZs_ece--5dzbPTksJyI6wPl9eEAU0wuR5NiNAnrX_EJxHcSkrIEESLSjoHxpgeFbJwsdCAiUtKBQJBQsWiJIwDR8BWQBPUzDrClCpCQVBmUOyNNcn8WwkM8-zhQJT8Pl4kUYx2aSUGwMIMEhAKcg8vMfkJHlOEGeZpKTIWeYGMypDYANjUk7kRYaqTOFKWddWsNqwSxn0Dzm4rml4fQOvrePDqn1z898NUYtkq4UrR8ZBjWriyge9_cX4VAoY7Xe4dWZ0asb-ik0JX0O5TQ1jJuEzAeYCpHZGGktmc99sagHjSHXOePPcVhjyR12JcQiQIkNmIidC2Wg2jDcVKyLSy4E3P3c3dpxWaA6989FsNulPbFZIQVJdI6u_9NNlvLtHbyxmONrTvo7qlE1-tGmyPnHYm4Q7L_DWd25aVtK4vO9EcQiICSVjtzT8v4K52PgdJn7XbDbw0ls3Zyh0XbHmxQG1n1TtIa42XKcXab2LAfdQ1Pp-hYNXquDyid6uXXaWyPsWeVWahCkIsvBPseSccadIta350u_B8mVn2dYadLV2a90Ft1O6AOT1V8s723EXrJS5-4HRWCA-EZh6YvcT7blwJdku3NAujM2f-LCun6qGtsfFLOatvhGeTFI_IfWXWK3HUwDNSHLaThv0oOKzI5rFAa3gQc8S6S7RVdXPt83jWp8TjnhQutt1rO6YC79Jce_B-CQ5XjFbVWqnU5k_7J2OWnDhztVBLVrU243eWGlqZ5_oKMySine_9cdIR8EOsGkop4GQoO9Y3hG0HyPnpUnAGaCkEM_yYoGGAgVJ3HNxmh1BsgIHWCWTAAiOCWBWBmkHLPwFK5l9tQ">
    <img 
      src="https://mermaid.ink/img/pako:eNqFVF1T00AU_SuZzPQN-wlUeSsiM86odIioD3lZ6UIztEkn3VicTmdasQWCiKjtoECxigM-0IoIQlrhx5jdpE_8BTcfti8QXzLZs_ece--5dzbPTksJyI6wPl9eEAU0wuR5NiNAnrX_EJxHcSkrIEESLSjoHxpgeFbJwsdCAiUtKBQJBQsWiJIwDR8BWQBPUzDrClCpCQVBmUOyNNcn8WwkM8-zhQJT8Pl4kUYx2aSUGwMIMEhAKcg8vMfkJHlOEGeZpKTIWeYGMypDYANjUk7kRYaqTOFKWddWsNqwSxn0Dzm4rml4fQOvrePDqn1z898NUYtkq4UrR8ZBjWriyge9_cX4VAoY7Xe4dWZ0asb-ik0JX0O5TQ1jJuEzAeYCpHZGGktmc99sagHjSHXOePPcVhjyR12JcQiQIkNmIidC2Wg2jDcVKyLSy4E3P3c3dpxWaA6989FsNulPbFZIQVJdI6u_9NNlvLtHbyxmONrTvo7qlE1-tGmyPnHYm4Q7L_DWd25aVtK4vO9EcQiICSVjtzT8v4K52PgdJn7XbDbw0ls3Zyh0XbHmxQG1n1TtIa42XKcXab2LAfdQ1Pp-hYNXquDyid6uXXaWyPsWeVWahCkIsvBPseSccadIta350u_B8mVn2dYadLV2a90Ft1O6AOT1V8s723EXrJS5-4HRWCA-EZh6YvcT7blwJdku3NAujM2f-LCun6qGtsfFLOatvhGeTFI_IfWXWK3HUwDNSHLaThv0oOKzI5rFAa3gQc8S6S7RVdXPt83jWp8TjnhQutt1rO6YC79Jce_B-CQ5XjFbVWqnU5k_7J2OWnDhztVBLVrU243eWGlqZ5_oKMySine_9cdIR8EOsGkop4GQoO9Y3hG0HyPnpUnAGaCkEM_yYoGGAgVJ3HNxmh1BsgIHWCWTAAiOCWBWBmkHLPwFK5l9tQ?type=png" 
      alt="TL working hours - breaking down"
    /> 
  </a>
</p>

从这个拆解图，不难看出TL除了Tech这个部分，还有更多的时间用在了Lead团队上面：辅助组织的人员发展、通过团队梯队管理迭代的功能交付、跟PO和BA协作以处理团队事务和需求，确保团队能够拿到合格且经过技术设计的需求、处理与其他外部团队的必要沟通，以确保团队开展所需的依赖能够得到处理。总的来说，TL的一大重要职责在于确保团队能够成功交付，而为了完成这件事，单从“管理”事务上讲，TL就需要花一大半的时间与团队内外上下左右的角色沟通，以确保需求、技术、依赖等诸多方面顺利解决，使团队能够专心在日常的功能交付上。

另外，对于任何一位在TW做Tech Lead的同事来说，TA的身上通常也承担了一部分发展他人、影响他人的职责，TA的8小时工作带宽基本上起手都要先扣除掉10%的U内事务和人员发展、10%的日常敏捷会议时间（这与CTO八叉在敏捷101中给的比例建议也是匹配的），剩下80% 6.5个小时的时间你玩吧。

还有一个没有完全体现在以上饼图里头、但是对于TL时间分配管理息息相关的因素，那就是**团队的规模**。

### 团队规模

你很可能发现，作为TL的你在项目上的时间分配和管理跟我有所不同。我当然也对这个问题很感兴趣，于是我拿着这个饼图也做了一些调研，这个采样量目前比较小，但是也足以让我们得出一个不严谨的结论：**团队规模越大，团队事务越多，TL的编码时间越少。10-12位Developer是一个分界线，团队管理超过这个规模，TL编码时间为0**。

我现在所在的全功能团队直接成员共18人，其中直接参与点数贡献的开发者9人，编码时间5%。然后我调研的一些在港澳的TL们，他们的团队与TL编码情况大致是这样：

* 18人全功能团队，参与点数贡献开发者高峰~12人，TL写代码时间≈0%
* 11人全功能团队，参与点数贡献开发者9人，TL写代码时间≤10%
* 7人功能团队，参与点数贡献开发者7人（含TL），TL写代码时间≤50%
* 6人功能团队，参与点数贡献开发者3人（含TL），TL写代码时间≥70%

> TODO: 找一个好的可视化表示。

团队事务的多寡与团队规模成正相关关系，这很好理解，但是团队事务具体体现在哪些方面呢？这里有很多的影响因素，比如日常管理、梯队管理、外部依赖（及团队）管理等等，但是根据我的经验，相关性最强的一点还得数**需求管理**。

### 需求管理

在敏捷方法论中，团队以迭代（Iteration/Sprint）的方式运作，每个迭代大约1-2周。在每个迭代的开始，团队会通过一次IPM（Iteration Planning Meeting，迭代计划会）来确定本次迭代要完成的需求。为此，团队必须定期梳理需求，为IPM产出一个需求列表（Backlog），以供PO和团队在IPM上按照优先级安排需求开发。这个定期梳理需求的会议，在Scrum里面就叫Backlog Grooming，它的发生频率往往比IPM更加频繁，通常是每周1-2次。

在理想的Scrum流程中，Grooming会议上由PO阐述需求的业务背景和业务价值，由BA讲述验收标准，而具体的业务方案（可以理解为UI和交互形式）和技术方案将由团队（大部分为开发人员组成）在会议上**现场确定**并现场估算点数。乍看起来，这个过程并不需要TL花费额外的精力参与，并且也有它一定的道理：全团队均能获得所有业务细节、参与方案设计，在知识上不存在明显的孤岛效应。

> TODO：补一个Scrum图，要体现团队activity以及需求在各个阶段的流转过程。

但是我工作8年以来，没有一个项目是正经这么做的。我认为，让全团队现场确定业务和技术方案的做法体现的是Scrum作为发源欧美的一项方法论对时代背景做的一些假设，即：团队规模都相对较小（往往在6-8人左右）、团队成员成熟度较高（Senior开发人员占大部分）。而这些假设在实践中往往不真，并且因此经常遇到一些普遍的问题：

* 团队能够在会议上高效地讨论并确定业务和技术方案 —— 在实际场景中，一处细节讨论就花费整个团队大半个小时的情况时有发生，讨论效率并不高。而且技术方案细节往往在会上也无法当场框定，可视化想法本身都需要花费不少时间。团队规模越大，需求越多，掣肘越明显
* 团队可以自主决定技术方案 —— 这背后假设可能也是个小公司或小团队场景。在实际场景中，团队方案往往要与其他团队（如架构办、对点技术主管、解决方案设计师、兄弟团队、外部团队、安全团队等）协商才能确定
* 团队每个人都知道每处业务和代码的细节 —— 在实际场景中，方案和意见往往由最熟悉对应业务或代码的成员贡献。我经历过一个6位开发者都是Senior Developer的小团队，仍然做不到每个人都知道每处代码和数据结构的细节

在实践中，往往会由PO/BA/TL预先进行不少业务方案和技术方案的设计，然后才会交给团队进行Grooming。这并不是要阻碍团队参与需求的验证和方案贡献，而是为了在前期最大程度地确定下业务和（主要是）技术上存在的依赖，并产出一些技术设计的产物（时序图、架构图、API和数据库表设计等，并且提前与其他团队拉通确认），以最大限度地提升需求侧的输入质量，提升团队的Grooming效率，进而提升整个团队的开发效率。

在笔者当前所在项目上，为了**给团队和Grooming会议提前准备2个迭代的需求**，PO/BA/UX/TL往往必须提前1-2个月就开始需求的获取、业务方案设计、UI设计、大体技术方案敲定等工作，时间线如下图所示。在当前9位开发者规模的项目上，为了达到提前1-2个迭代的需求完成度，与需求管理相关的工作占到了25%左右，包括需求准备、技术设计、Feature Owner管理等。

<p>
  <a href="https://mermaid.live/edit#pako:eNp9kt1KAkEcxV9lGAg2WrXd7vZOsyIwkjTsQojBHXVwd1Z2ZysRQYSIrJCEKMhIrwoio5suJOxlXD_eoll1-xDrYmA4M79z5s-cIkwZKoYKzCDKWJICgI6ItW6YOmIggXEOLCRclZFUbpMybB4gDUiH_MBV3TVqlPuvlehOuPfeHJXrQnQ7EAoGdvcC8YhTqzjVJpCcy8dFBeRNVQTysiz7JNm3IoncxuV7nQfnpDN6uul93A0a9wInQ0GPsYkIUJrHTuifRP_quNc5cy5aTv08uCrwzHjEwyxmmIW_yes3p1NzbruD59N-tdxvvAzb3WG7JcQjgdhXNMOp7ByLDdMwdEIzCtCJhnkQxSLITEXvvk0mT5iaSKpLrlEVGGkQy5uEMhD_ZWCNxX32r4FHLkl-v1-Qp6NOSclDv61mKHkOJc9S0gSDItQx7wBReTWK46-GLIt1nIQK36o4jWyNJWGSlvhVZDMjVqApqDDTxiK08ypiOExQxkQ6VNJIs7iKVcJH2prUbdy60if2WfLi">
    <img 
      src="https://mermaid.ink/img/pako:eNp9kt1KAkEcxV9lGAg2WrXd7vZOsyIwkjTsQojBHXVwd1Z2ZysRQYSIrJCEKMhIrwoio5suJOxlXD_eoll1-xDrYmA4M79z5s-cIkwZKoYKzCDKWJICgI6ItW6YOmIggXEOLCRclZFUbpMybB4gDUiH_MBV3TVqlPuvlehOuPfeHJXrQnQ7EAoGdvcC8YhTqzjVJpCcy8dFBeRNVQTysiz7JNm3IoncxuV7nQfnpDN6uul93A0a9wInQ0GPsYkIUJrHTuifRP_quNc5cy5aTv08uCrwzHjEwyxmmIW_yes3p1NzbruD59N-tdxvvAzb3WG7JcQjgdhXNMOp7ByLDdMwdEIzCtCJhnkQxSLITEXvvk0mT5iaSKpLrlEVGGkQy5uEMhD_ZWCNxX32r4FHLkl-v1-Qp6NOSclDv61mKHkOJc9S0gSDItQx7wBReTWK46-GLIt1nIQK36o4jWyNJWGSlvhVZDMjVqApqDDTxiK08ypiOExQxkQ6VNJIs7iKVcJH2prUbdy60if2WfLi?type=png" 
      alt="PO/BA/UX/TL核心团队Way of Working"
    /> 
  </a>
</p>

因此，TL的一大职责，便是确保能为团队提供符合质量的、经过技术设计和验证的需求。为了达到这个目的，他必须有效管理PO/BA/UX的WoW，确保每个人都知道自己需要提前多久、产出符合何种标准的产物；他也必须在与架构组/平台组的方案沟通中主导方向、有效输出，以推进符合整体技术架构和团队需求的技术设计；此外，他还往往需要通过一些机制来适当地带动团队成员来分担一部分这些工作，并通过有效的管理确保团队总体进度和产出符合预期。这就是TL在团队的需求管理方面要做的事。

### 时间管理

> WIP: 待解读

### 效率提升

#### 参考

* [Tech Lead之路]()
* [关于时间管理的一点建议](https://juejin.cn/post/7225941608225652773)
* [Tech Lead如何应对编码时间下降](https://zhuanlan.zhihu.com/p/518921041)

[My Tech Lead journey II]: https://ethan.thoughtworkers.me/#/post/2023-08-04-my-tech-lead-journey-ii
