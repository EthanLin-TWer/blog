---
title: 读《架构整洁之道》
category: 读书笔记
---

架构整洁之道，实乃省钱之道。**省钱**，是读懂本书的一个核心视角。专业人士的价值，不仅在于交付满足当下需求、乃至未来变化的软件，更在于他们能够采用**效率最高、成本最低**的软件架构完成此事。这本书就是写给预备承担、或者正在承担架构责任的资深工程师们。

本篇中，我不仅会分享我觉得本书精要的内容，更会分享我是以什么视角和脉络来阅读这本书的，希望对读者和我自己都有裨益。

## 目录

* [全书结构](#全书结构)
* [什么是软件架构](#什么是软件架构)
* [什么是组件](#什么是组件)
* [软件架构的研究内容](#软件架构的研究内容)
  * [如何划分组件：聚合与耦合](#如何划分组件：聚合与耦合)
  * [如何管理依赖关系](#如何管理依赖关系)
  * [如何管理边界/通信方式](#如何管理边界/通信方式)
* [软件架构的案例及分析](#软件架构的案例及分析)

## 全书结构

全书共34章，其中原书第2-5部分（第3-29章）占比最多达79%，是全书的主要部分。第1部分开宗明义，讲清了软件的架构价值是什么，为本书所讨论的话题定下框架；第2、3、4部分由浅入深，从低层到高层依次探讨了软件架构的构成元素：编程范式、设计原则和组件。第5部分开始，以组件为基本元素展开对软件架构的讨论；第6部分软件架构核心以外的实现细节。

本书的主题是**软件架构**，而组成架构的基本元素是**组件**，因此阅读本书的第一个关键，首先是弄清这“软件架构”及“组件”这两个词的内涵，它们相关的章节（第1-2、15章讲架构，第12章讲组件）是本书的核心，为了弄清楚我甚至翻阅了原文。基于清晰的组件定义，我们得以进一步讨论软件架构，它涉及对系统进行组件划分（第13-14章）、管理其依赖方式（第16-18章、第24章）和通信方式（第19章）。最后，作者在22章给出了这样一个符合所有原则的“整洁架构”，并在第6部分的末尾给出了两个分析实例（第33-34章）。

所以本书的阅读脉络是这样：

1. 什么是**系统架构**（第1-2章、第15章）
2. 什么是构成架构基本要素的**组件**（第12章、第13-14章）
3. 软件架构研究的核心内容（第16-19章、第24章）
4. 软件架构案例、设计思路与分析（第22章、第33-34章）

其他的部分，固然不乏精彩的洞见（比如面向对象的本质是基于多态能力对源码级依赖进行管控的架构意义上的能力、SRP中指出系统的行为者actor是导致软件修改的原因，等），但我的读书过程仅集中在“软件架构”和“组件”这两条主线上，因而我会弱化这些部分的讨论、留给读者自行阅读。这些被弱化的章节包括：第2-3部分（编程范式、设计原则）、第5部分部分章节（第20-21、22-23、25-26、28-29章，读者可按需阅读）以及第6部分的部分实现细节章节（第30-32章，一句话可以说完：数据库、UI、框架都应该依赖于业务逻辑组件作为其插件，以免污染核心架构）。

### 什么是软件架构

### 什么是组件

### 软件架构的研究内容

#### 如何划分组件：聚合与耦合

#### 如何管理依赖关系

#### 如何管理边界/通信方式

### 软件架构的案例及分析
