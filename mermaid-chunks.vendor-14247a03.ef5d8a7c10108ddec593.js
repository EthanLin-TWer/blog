"use strict";(self.webpackChunkethan_blog=self.webpackChunkethan_blog||[]).push([[849],{79704:(t,e,o)=>{const r=o(81224);t.exports=class extends r{constructor(t,e){super(t),this.posTracker=null,this.onParseError=e.onParseError}_setErrorLocation(t){t.startLine=t.endLine=this.posTracker.line,t.startCol=t.endCol=this.posTracker.col,t.startOffset=t.endOffset=this.posTracker.offset}_reportError(t){const e={code:t,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(e),this.onParseError(e)}_getOverriddenMethods(t){return{_err(e){t._reportError(e)}}}}},37304:(t,e,o)=>{const r=o(79704),s=o(86669),n=o(52690),a=o(81224);t.exports=class extends r{constructor(t,e){super(t,e),this.opts=e,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(t){this.ctLoc&&(t.startLine=this.ctLoc.startLine,t.startCol=this.ctLoc.startCol,t.startOffset=this.ctLoc.startOffset,t.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,t.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,t.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(t,e){return{_bootstrap(o,r){e._bootstrap.call(this,o,r),a.install(this.tokenizer,s,t.opts),a.install(this.tokenizer,n)},_processInputToken(o){t.ctLoc=o.location,e._processInputToken.call(this,o)},_err(e,o){t.locBeforeToken=o&&o.beforeToken,t._reportError(e)}}}}},21778:(t,e,o)=>{const r=o(79704),s=o(71894),n=o(81224);t.exports=class extends r{constructor(t,e){super(t,e),this.posTracker=n.install(t,s),this.lastErrOffset=-1}_reportError(t){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(t))}}},86669:(t,e,o)=>{const r=o(79704),s=o(21778),n=o(81224);t.exports=class extends r{constructor(t,e){super(t,e);const o=n.install(t.preprocessor,s,e);this.posTracker=o.posTracker}}},28829:(t,e,o)=>{const r=o(81224);t.exports=class extends r{constructor(t,e){super(t),this.onItemPop=e.onItemPop}_getOverriddenMethods(t,e){return{pop(){t.onItemPop(this.current),e.pop.call(this)},popAllUpToHtmlElement(){for(let e=this.stackTop;e>0;e--)t.onItemPop(this.items[e]);e.popAllUpToHtmlElement.call(this)},remove(o){t.onItemPop(this.current),e.remove.call(this,o)}}}}},94632:(t,e,o)=>{const r=o(81224),s=o(98614),n=o(52690),a=o(28829),c=o(51426).TAG_NAMES;t.exports=class extends r{constructor(t){super(t),this.parser=t,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(t){let e=null;this.lastStartTagToken&&(e=Object.assign({},this.lastStartTagToken.location),e.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(t,e)}_setEndLocation(t,e){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&e.location){const o=e.location,r=this.treeAdapter.getTagName(t),n={};e.type===s.END_TAG_TOKEN&&r===e.tagName?(n.endTag=Object.assign({},o),n.endLine=o.endLine,n.endCol=o.endCol,n.endOffset=o.endOffset):(n.endLine=o.startLine,n.endCol=o.startCol,n.endOffset=o.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(t,n)}}_getOverriddenMethods(t,e){return{_bootstrap(o,s){e._bootstrap.call(this,o,s),t.lastStartTagToken=null,t.lastFosterParentingLocation=null,t.currentToken=null;const c=r.install(this.tokenizer,n);t.posTracker=c.posTracker,r.install(this.openElements,a,{onItemPop:function(e){t._setEndLocation(e,t.currentToken)}})},_runParsingLoop(o){e._runParsingLoop.call(this,o);for(let e=this.openElements.stackTop;e>=0;e--)t._setEndLocation(this.openElements.items[e],t.currentToken)},_processTokenInForeignContent(o){t.currentToken=o,e._processTokenInForeignContent.call(this,o)},_processToken(o){if(t.currentToken=o,e._processToken.call(this,o),o.type===s.END_TAG_TOKEN&&(o.tagName===c.HTML||o.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];if(this.treeAdapter.getTagName(r)===o.tagName){t._setEndLocation(r,o);break}}},_setDocumentType(t){e._setDocumentType.call(this,t);const o=this.treeAdapter.getChildNodes(this.document),r=o.length;for(let e=0;e<r;e++){const r=o[e];if(this.treeAdapter.isDocumentTypeNode(r)){this.treeAdapter.setNodeSourceCodeLocation(r,t.location);break}}},_attachElementToTree(o){t._setStartLocation(o),t.lastStartTagToken=null,e._attachElementToTree.call(this,o)},_appendElement(o,r){t.lastStartTagToken=o,e._appendElement.call(this,o,r)},_insertElement(o,r){t.lastStartTagToken=o,e._insertElement.call(this,o,r)},_insertTemplate(o){t.lastStartTagToken=o,e._insertTemplate.call(this,o);const r=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(r,null)},_insertFakeRootElement(){e._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(t,o){e._appendCommentNode.call(this,t,o);const r=this.treeAdapter.getChildNodes(o),s=r[r.length-1];this.treeAdapter.setNodeSourceCodeLocation(s,t.location)},_findFosterParentingLocation(){return t.lastFosterParentingLocation=e._findFosterParentingLocation.call(this),t.lastFosterParentingLocation},_insertCharacters(o){e._insertCharacters.call(this,o);const r=this._shouldFosterParentOnInsertion(),s=r&&t.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,n=this.treeAdapter.getChildNodes(s),a=r&&t.lastFosterParentingLocation.beforeElement?n.indexOf(t.lastFosterParentingLocation.beforeElement)-1:n.length-1,c=n[a];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:t,endCol:e,endOffset:r}=o.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:t,endCol:e,endOffset:r})}else this.treeAdapter.setNodeSourceCodeLocation(c,o.location)}}}}},52690:(t,e,o)=>{const r=o(81224),s=o(98614),n=o(71894);t.exports=class extends r{constructor(t){super(t),this.tokenizer=t,this.posTracker=r.install(t.preprocessor,n),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const t=this.tokenizer.currentToken,e=this.tokenizer.currentAttr;t.location.attrs||(t.location.attrs=Object.create(null)),t.location.attrs[e.name]=this.currentAttrLocation}_getOverriddenMethods(t,e){const o={_createStartTagToken(){e._createStartTagToken.call(this),this.currentToken.location=t.ctLoc},_createEndTagToken(){e._createEndTagToken.call(this),this.currentToken.location=t.ctLoc},_createCommentToken(){e._createCommentToken.call(this),this.currentToken.location=t.ctLoc},_createDoctypeToken(o){e._createDoctypeToken.call(this,o),this.currentToken.location=t.ctLoc},_createCharacterToken(o,r){e._createCharacterToken.call(this,o,r),this.currentCharacterToken.location=t.ctLoc},_createEOFToken(){e._createEOFToken.call(this),this.currentToken.location=t._getCurrentLocation()},_createAttr(o){e._createAttr.call(this,o),t.currentAttrLocation=t._getCurrentLocation()},_leaveAttrName(o){e._leaveAttrName.call(this,o),t._attachCurrentAttrLocationInfo()},_leaveAttrValue(o){e._leaveAttrValue.call(this,o),t._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const o=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=o.startLine,this.currentCharacterToken.location.endCol=o.startCol,this.currentCharacterToken.location.endOffset=o.startOffset),this.currentToken.type===s.EOF_TOKEN?(o.endLine=o.startLine,o.endCol=o.startCol,o.endOffset=o.startOffset):(o.endLine=t.posTracker.line,o.endCol=t.posTracker.col+1,o.endOffset=t.posTracker.offset+1),e._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const o=this.currentCharacterToken&&this.currentCharacterToken.location;o&&-1===o.endOffset&&(o.endLine=t.posTracker.line,o.endCol=t.posTracker.col,o.endOffset=t.posTracker.offset),e._emitCurrentCharacterToken.call(this)}};return Object.keys(s.MODE).forEach((r=>{const n=s.MODE[r];o[n]=function(o){t.ctLoc=t._getCurrentLocation(),e[n].call(this,o)}})),o}}},71894:(t,e,o)=>{const r=o(81224);t.exports=class extends r{constructor(t){super(t),this.preprocessor=t,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(t,e){return{advance(){const o=this.pos+1,r=this.html[o];return t.isEol&&(t.isEol=!1,t.line++,t.lineStartPos=o),("\n"===r||"\r"===r&&"\n"!==this.html[o+1])&&(t.isEol=!0),t.col=o-t.lineStartPos+1,t.offset=t.droppedBufferSize+o,e.advance.call(this)},retreat(){e.retreat.call(this),t.isEol=!1,t.col=this.pos-t.lineStartPos+1},dropParsedChunk(){const o=this.pos;e.dropParsedChunk.call(this);const r=o-this.pos;t.lineStartPos-=r,t.droppedBufferSize+=r,t.offset=t.droppedBufferSize+this.pos}}}}}}]);